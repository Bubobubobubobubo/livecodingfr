var Pt=Object.defineProperty;var Rt=(n,e,r)=>e in n?Pt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var z=(n,e,r)=>Rt(n,typeof e!="symbol"?e+"":e,r);import{S as SvelteComponent,i as init,f as safe_not_equal,n as noop,j as detach,V as destroy_each,q as insert_hydration,B as attr,D as claim_element,E as children,F as element,W as src_url_equal,H as set_data,P as append_hydration,r as claim_space,I as claim_text,v as space$1,J as text,Q as listen,R as get_svelte_dataset,c as createEventDispatcher,u as empty$3,e as onMount,o as onDestroy,G as binding_callbacks,k as transition_out,l as transition_in,m as group_outros,p as check_outros,x as destroy_component,z as mount_component,A as claim_component,y as create_component,C as set_style,X as head_selector}from"../chunks/L4_MLrPo.js";import"../chunks/IHki7fMi.js";import"../chunks/CURnbxgz.js";import{e as ensure_array_like}from"../chunks/D6YF6ztN.js";import{Y as YouTubeLazyLoad}from"../chunks/1SAE4O_k.js";import{_ as __vitePreload}from"../chunks/C1FmrZbK.js";import{g as getDefaultExportFromCjs}from"../chunks/Cpj98o6Y.js";function get_each_context$2(n,e,r){const s=n.slice();return s[1]=e[r],s}function create_each_block$2(n){let e,r,s,a,o,u,l,c,h,f=n[1].description+"",d,m;return{c(){e=element("div"),r=element("div"),s=element("img"),u=space$1(),l=element("div"),c=element("div"),h=element("p"),d=text(f),m=space$1(),this.h()},l(g){e=claim_element(g,"DIV",{class:!0});var O=children(e);r=claim_element(O,"DIV",{class:!0});var E=children(r);s=claim_element(E,"IMG",{class:!0,src:!0,alt:!0,loading:!0}),E.forEach(detach),u=claim_space(O),l=claim_element(O,"DIV",{class:!0});var D=children(l);c=claim_element(D,"DIV",{class:!0});var A=children(c);h=claim_element(A,"P",{class:!0});var S=children(h);d=claim_text(S,f),S.forEach(detach),A.forEach(detach),D.forEach(detach),m=claim_space(O),O.forEach(detach),this.h()},h(){attr(s,"class","w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"),src_url_equal(s.src,a=n[1].link)||attr(s,"src",a),attr(s,"alt",o=n[1].description),attr(s,"loading","lazy"),attr(r,"class","aspect-square overflow-hidden"),attr(h,"class","text-white text-sm font-medium truncate"),attr(c,"class","absolute bottom-4 left-4 right-4"),attr(l,"class","absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"),attr(e,"class","group relative overflow-hidden bg-gray-800 shadow-lg hover:shadow-xl transition-all duration-300")},m(g,O){insert_hydration(g,e,O),append_hydration(e,r),append_hydration(r,s),append_hydration(e,u),append_hydration(e,l),append_hydration(l,c),append_hydration(c,h),append_hydration(h,d),append_hydration(e,m)},p(g,O){O&1&&!src_url_equal(s.src,a=g[1].link)&&attr(s,"src",a),O&1&&o!==(o=g[1].description)&&attr(s,"alt",o),O&1&&f!==(f=g[1].description+"")&&set_data(d,f)},d(g){g&&detach(e)}}}function create_fragment$6(n){let e,r=ensure_array_like(n[0]),s=[];for(let a=0;a<r.length;a+=1)s[a]=create_each_block$2(get_each_context$2(n,r,a));return{c(){e=element("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=claim_element(a,"DIV",{class:!0});var o=children(e);for(let u=0;u<s.length;u+=1)s[u].l(o);o.forEach(detach),this.h()},h(){attr(e,"class","grid grid-cols-2 md:grid-cols-3 gap-6 my-8")},m(a,o){insert_hydration(a,e,o);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null)},p(a,[o]){if(o&1){r=ensure_array_like(a[0]);let u;for(u=0;u<r.length;u+=1){const l=get_each_context$2(a,r,u);s[u]?s[u].p(l,o):(s[u]=create_each_block$2(l),s[u].c(),s[u].m(e,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=r.length}},i:noop,o:noop,d(a){a&&detach(e),destroy_each(s,a)}}}function instance$6(n,e,r){let{pictures:s}=e;return n.$$set=a=>{"pictures"in a&&r(0,s=a.pictures)},[s]}class Gallery extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$6,safe_not_equal,{pictures:0})}}class LightClock{constructor(){z(this,"context",null);z(this,"isInitialized",!1);z(this,"isRunning",!1);z(this,"currentBPM",120);z(this,"startTime",0);z(this,"tickCount",0);z(this,"nextTickTime",0);z(this,"tickInterval",.125);z(this,"dummyGain",null);z(this,"lastUpdateTime",0);z(this,"updateInterval",.1);z(this,"listeners",{tick:[],timeUpdate:[],started:[],stopped:[]})}async init(){this.isInitialized||(this.context=new(window.AudioContext||window.webkitAudioContext),this.dummyGain=this.context.createGain(),this.dummyGain.gain.value=0,this.dummyGain.connect(this.context.destination),this.updateTickInterval(),this.isInitialized=!0)}updateTickInterval(){this.tickInterval=60/this.currentBPM/4}scheduleTimeout(e,r,s){if(!this.context)return;const a=this.context.createConstantSource();a.connect(this.dummyGain),a.start(r),a.stop(s),a.addEventListener("ended",e)}tick(){if(!this.context||!this.isRunning)return;const e=this.context.currentTime,r=e-this.startTime;this.emit("tick",{tickNumber:this.tickCount,time:e,bpm:this.currentBPM}),this.tickCount++,this.nextTickTime+=this.tickInterval;const s=this.startTime+this.nextTickTime;s>e?this.scheduleTimeout(()=>{this.isRunning&&this.tick()},e,s):setTimeout(()=>{this.isRunning&&this.tick()},0),e-this.lastUpdateTime>=this.updateInterval&&(this.emit("timeUpdate",{time:r,tickCount:this.tickCount}),this.lastUpdateTime=e)}async start(){this.isInitialized||await this.init(),this.context&&this.context.state==="suspended"&&await this.context.resume(),!this.isRunning&&(this.isRunning=!0,this.startTime=this.context.currentTime,this.nextTickTime=0,this.tickCount=0,this.lastUpdateTime=this.startTime,this.emit("started",{time:this.startTime,bpm:this.currentBPM}),this.tick())}stop(){this.isRunning&&(this.isRunning=!1,this.emit("stopped",{}))}setBPM(e){this.currentBPM=e,this.updateTickInterval()}getStatus(){if(!this.context)return;const e=this.context.currentTime,r=this.isRunning?e-this.startTime:0;this.emit("timeUpdate",{time:r,tickCount:this.tickCount,bpm:this.currentBPM})}on(e,r){this.listeners[e]&&this.listeners[e].push(r)}off(e,r){if(this.listeners[e]){const s=this.listeners[e].indexOf(r);s>-1&&this.listeners[e].splice(s,1)}}emit(e,r){this.listeners[e]&&this.listeners[e].forEach(s=>s(r))}time(){return!this.context||!this.isRunning?0:this.context.currentTime-this.startTime}bpm(){return this.currentBPM}ticks(){return this.tickCount}running(){return this.isRunning}}const clock$1=new LightClock,clock=new LightClock;let patternLength=16,lastTick=-1,clockListenerRegistered=!1;const scheduledEvents=new Map,namedEvents=new Map;function cycle(n){if(n<1||n>32)throw new Error("Cycle must be between 1 and 32");return patternLength=n,patternLength}function schedule(n,e,r){let s,a,o;typeof n=="string"?(s=n,a=Array.isArray(e)?e:[e],o=r):(s=null,a=Array.isArray(n)?n:[n],o=e);for(const c of a){if(typeof c!="number")throw new Error(`Beat must be a number, got ${typeof c}`);if(c<0||c>=patternLength)throw new Error(`Beat ${c} is out of range for pattern length ${patternLength}`)}const u=c=>{try{o(c)}finally{}},l=[];if(s){namedEvents.has(s)&&namedEvents.get(s).forEach(f=>scheduledEvents.delete(f));const c=[];return a.forEach((h,f)=>{const d=`named_${s}_${f}`;scheduledEvents.set(d,{beat:h,callback:u,id:s}),c.push(d),l.push(d)}),namedEvents.set(s,c),s}else return a.forEach(c=>{const h=`anon_${Date.now()}_${Math.random()}`;scheduledEvents.set(h,{beat:c,callback:u}),l.push(h)}),l}function clearSchedule(n){n?namedEvents.has(n)&&(namedEvents.get(n).forEach(r=>scheduledEvents.delete(r)),namedEvents.delete(n)):(scheduledEvents.clear(),namedEvents.clear())}function listScheduled(){const n=[];return scheduledEvents.forEach((e,r)=>{n.push({id:e.id||r,beat:e.beat,named:!!e.id})}),n.sort((e,r)=>e.beat-r.beat)}function registerClockListener(){clockListenerRegistered||(clock.on("timeUpdate",n=>{const e=clock.ticks();if(e!==lastTick){const r=e%patternLength;scheduledEvents.forEach(s=>{if(s.beat===r)try{const a=n.time||0;s.callback(a)}catch(a){console.error("Schedule callback error:",a)}}),lastTick=e}}),clockListenerRegistered=!0)}const sequencer={cycle,schedule,clearSchedule,registerClockListener,listScheduled,getPatternLength:()=>patternLength,getScheduledEvents:()=>Array.from(scheduledEvents.values())};let rangeFrom=[],rangeTo=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,r=0;e<n.length;e++)(e%2?rangeTo:rangeFrom).push(r=r+n[e])})();function isExtendingChar(n){if(n<768)return!1;for(let e=0,r=rangeFrom.length;;){let s=e+r>>1;if(n<rangeFrom[s])r=s;else if(n>=rangeTo[s])e=s+1;else return!0;if(e==r)return!1}}function isRegionalIndicator(n){return n>=127462&&n<=127487}const ZWJ=8205;function findClusterBreak$1(n,e,r=!0,s=!0){return(r?nextClusterBreak:prevClusterBreak)(n,e,s)}function nextClusterBreak(n,e,r){if(e==n.length)return e;e&&surrogateLow$1(n.charCodeAt(e))&&surrogateHigh$1(n.charCodeAt(e-1))&&e--;let s=codePointAt$1(n,e);for(e+=codePointSize$1(s);e<n.length;){let a=codePointAt$1(n,e);if(s==ZWJ||a==ZWJ||r&&isExtendingChar(a))e+=codePointSize$1(a),s=a;else if(isRegionalIndicator(a)){let o=0,u=e-2;for(;u>=0&&isRegionalIndicator(codePointAt$1(n,u));)o++,u-=2;if(o%2==0)break;e+=2}else break}return e}function prevClusterBreak(n,e,r){for(;e>0;){let s=nextClusterBreak(n,e-2,r);if(s<e)return s;e--}return 0}function codePointAt$1(n,e){let r=n.charCodeAt(e);if(!surrogateHigh$1(r)||e+1==n.length)return r;let s=n.charCodeAt(e+1);return surrogateLow$1(s)?(r-55296<<10)+(s-56320)+65536:r}function surrogateLow$1(n){return n>=56320&&n<57344}function surrogateHigh$1(n){return n>=55296&&n<56320}function codePointSize$1(n){return n<65536?1:2}class Text{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,s){[e,r]=clip(this,e,r);let a=[];return this.decompose(0,e,a,2),s.length&&s.decompose(0,s.length,a,3),this.decompose(r,this.length,a,1),TextNode.from(a,this.length-(r-e)+s.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){[e,r]=clip(this,e,r);let s=[];return this.decompose(e,r,s,0),TextNode.from(s,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),s=this.length-this.scanIdentical(e,-1),a=new RawTextCursor(this),o=new RawTextCursor(e);for(let u=r,l=r;;){if(a.next(u),o.next(u),u=0,a.lineBreak!=o.lineBreak||a.done!=o.done||a.value!=o.value)return!1;if(l+=a.value.length,a.done||l>=s)return!0}}iter(e=1){return new RawTextCursor(this,e)}iterRange(e,r=this.length){return new PartialTextCursor(this,e,r)}iterLines(e,r){let s;if(e==null)s=this.iter();else{r==null&&(r=this.lines+1);let a=this.line(e).from;s=this.iterRange(a,Math.max(a,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new LineCursor(s)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Text.empty:e.length<=32?new TextLeaf(e):TextNode.from(TextLeaf.split(e,[]))}}class TextLeaf extends Text{constructor(e,r=textLength(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,s,a){for(let o=0;;o++){let u=this.text[o],l=a+u.length;if((r?s:l)>=e)return new Line(a,l,s,u);a=l+1,s++}}decompose(e,r,s,a){let o=e<=0&&r>=this.length?this:new TextLeaf(sliceText(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(a&1){let u=s.pop(),l=appendText(o.text,u.text.slice(),0,o.length);if(l.length<=32)s.push(new TextLeaf(l,u.length+o.length));else{let c=l.length>>1;s.push(new TextLeaf(l.slice(0,c)),new TextLeaf(l.slice(c)))}}else s.push(o)}replace(e,r,s){if(!(s instanceof TextLeaf))return super.replace(e,r,s);[e,r]=clip(this,e,r);let a=appendText(this.text,appendText(s.text,sliceText(this.text,0,e)),r),o=this.length+s.length-(r-e);return a.length<=32?new TextLeaf(a,o):TextNode.from(TextLeaf.split(a,[]),o)}sliceString(e,r=this.length,s=`
`){[e,r]=clip(this,e,r);let a="";for(let o=0,u=0;o<=r&&u<this.text.length;u++){let l=this.text[u],c=o+l.length;o>e&&u&&(a+=s),e<c&&r>o&&(a+=l.slice(Math.max(0,e-o),r-o)),o=c+1}return a}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let s=[],a=-1;for(let o of e)s.push(o),a+=o.length+1,s.length==32&&(r.push(new TextLeaf(s,a)),s=[],a=-1);return a>-1&&r.push(new TextLeaf(s,a)),r}}class TextNode extends Text{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let s of e)this.lines+=s.lines}lineInner(e,r,s,a){for(let o=0;;o++){let u=this.children[o],l=a+u.length,c=s+u.lines-1;if((r?c:l)>=e)return u.lineInner(e,r,s,a);a=l+1,s=c+1}}decompose(e,r,s,a){for(let o=0,u=0;u<=r&&o<this.children.length;o++){let l=this.children[o],c=u+l.length;if(e<=c&&r>=u){let h=a&((u<=e?1:0)|(c>=r?2:0));u>=e&&c<=r&&!h?s.push(l):l.decompose(e-u,r-u,s,h)}u=c+1}}replace(e,r,s){if([e,r]=clip(this,e,r),s.lines<this.lines)for(let a=0,o=0;a<this.children.length;a++){let u=this.children[a],l=o+u.length;if(e>=o&&r<=l){let c=u.replace(e-o,r-o,s),h=this.lines-u.lines+c.lines;if(c.lines<h>>4&&c.lines>h>>6){let f=this.children.slice();return f[a]=c,new TextNode(f,this.length-(r-e)+s.length)}return super.replace(o,l,c)}o=l+1}return super.replace(e,r,s)}sliceString(e,r=this.length,s=`
`){[e,r]=clip(this,e,r);let a="";for(let o=0,u=0;o<this.children.length&&u<=r;o++){let l=this.children[o],c=u+l.length;u>e&&o&&(a+=s),e<c&&r>u&&(a+=l.sliceString(e-u,r-u,s)),u=c+1}return a}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof TextNode))return 0;let s=0,[a,o,u,l]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;a+=r,o+=r){if(a==u||o==l)return s;let c=this.children[a],h=e.children[o];if(c!=h)return s+c.scanIdentical(h,r);s+=c.length+1}}static from(e,r=e.reduce((s,a)=>s+a.length+1,-1)){let s=0;for(let g of e)s+=g.lines;if(s<32){let g=[];for(let O of e)O.flatten(g);return new TextLeaf(g,r)}let a=Math.max(32,s>>5),o=a<<1,u=a>>1,l=[],c=0,h=-1,f=[];function d(g){let O;if(g.lines>o&&g instanceof TextNode)for(let E of g.children)d(E);else g.lines>u&&(c>u||!c)?(m(),l.push(g)):g instanceof TextLeaf&&c&&(O=f[f.length-1])instanceof TextLeaf&&g.lines+O.lines<=32?(c+=g.lines,h+=g.length+1,f[f.length-1]=new TextLeaf(O.text.concat(g.text),O.length+1+g.length)):(c+g.lines>a&&m(),c+=g.lines,h+=g.length+1,f.push(g))}function m(){c!=0&&(l.push(f.length==1?f[0]:TextNode.from(f,h)),h=-1,c=f.length=0)}for(let g of e)d(g);return m(),l.length==1?l[0]:new TextNode(l,r)}}Text.empty=new TextLeaf([""],0);function textLength(n){let e=-1;for(let r of n)e+=r.length+1;return e}function appendText(n,e,r=0,s=1e9){for(let a=0,o=0,u=!0;o<n.length&&a<=s;o++){let l=n[o],c=a+l.length;c>=r&&(c>s&&(l=l.slice(0,s-a)),a<r&&(l=l.slice(r-a)),u?(e[e.length-1]+=l,u=!1):e.push(l)),a=c+1}return e}function sliceText(n,e,r){return appendText(n,[""],e,r)}class RawTextCursor{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof TextLeaf?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let s=this.nodes.length-1,a=this.nodes[s],o=this.offsets[s],u=o>>1,l=a instanceof TextLeaf?a.text.length:a.children.length;if(u==(r>0?l:0)){if(s==0)return this.done=!0,this.value="",this;r>0&&this.offsets[s-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(r>0?0:1)){if(this.offsets[s]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(a instanceof TextLeaf){let c=a.text[u+(r<0?-1:0)];if(this.offsets[s]+=r,c.length>Math.max(0,e))return this.value=e==0?c:r>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=a.children[u+(r<0?-1:0)];e>c.length?(e-=c.length,this.offsets[s]+=r):(r<0&&this.offsets[s]--,this.nodes.push(c),this.offsets.push(r>0?1:(c instanceof TextLeaf?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class PartialTextCursor{constructor(e,r,s){this.value="",this.done=!1,this.cursor=new RawTextCursor(e,r>s?-1:1),this.pos=r>s?e.length:0,this.from=Math.min(r,s),this.to=Math.max(r,s)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let s=r<0?this.pos-this.from:this.to-this.pos;e>s&&(e=s),s-=e;let{value:a}=this.cursor.next(e);return this.pos+=(a.length+e)*r,this.value=a.length<=s?a:r<0?a.slice(a.length-s):a.slice(0,s),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:s,value:a}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):s?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=a,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(e,r,s,a){this.from=e,this.to=r,this.number=s,this.text=a}get length(){return this.to-this.from}}function clip(n,e,r){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,r))]}function findClusterBreak(n,e,r=!0,s=!0){return findClusterBreak$1(n,e,r,s)}function surrogateLow(n){return n>=56320&&n<57344}function surrogateHigh(n){return n>=55296&&n<56320}function codePointAt(n,e){let r=n.charCodeAt(e);if(!surrogateHigh(r)||e+1==n.length)return r;let s=n.charCodeAt(e+1);return surrogateLow(s)?(r-55296<<10)+(s-56320)+65536:r}function fromCodePoint$1(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function codePointSize(n){return n<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(MapMode||(MapMode={}));class ChangeDesc{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let s=this.sections[r+1];e+=s<0?this.sections[r]:s}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,s=0,a=0;r<this.sections.length;){let o=this.sections[r++],u=this.sections[r++];u<0?(e(s,a,o),a+=o):a+=u,s+=o}}iterChangedRanges(e,r=!1){iterChanges(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let s=this.sections[r++],a=this.sections[r++];a<0?e.push(s,a):e.push(a,s)}return new ChangeDesc(e)}composeDesc(e){return this.empty?e:e.empty?this:composeSets(this,e)}mapDesc(e,r=!1){return e.empty?this:mapSet(this,e,r)}mapPos(e,r=-1,s=MapMode.Simple){let a=0,o=0;for(let u=0;u<this.sections.length;){let l=this.sections[u++],c=this.sections[u++],h=a+l;if(c<0){if(h>e)return o+(e-a);o+=l}else{if(s!=MapMode.Simple&&h>=e&&(s==MapMode.TrackDel&&a<e&&h>e||s==MapMode.TrackBefore&&a<e||s==MapMode.TrackAfter&&h>e))return null;if(h>e||h==e&&r<0&&!l)return e==a||r<0?o:o+c;o+=c}a=h}if(e>a)throw new RangeError(`Position ${e} is out of range for changeset of length ${a}`);return o}touchesRange(e,r=e){for(let s=0,a=0;s<this.sections.length&&a<=r;){let o=this.sections[s++],u=this.sections[s++],l=a+o;if(u>=0&&a<=r&&l>=e)return a<e&&l>r?"cover":!0;a=l}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let s=this.sections[r++],a=this.sections[r++];e+=(e?" ":"")+s+(a>=0?":"+a:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(e)}static create(e){return new ChangeDesc(e)}}class ChangeSet extends ChangeDesc{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(r,s,a,o,u)=>e=e.replace(a,a+(s-r),u),!1),e}mapDesc(e,r=!1){return mapSet(this,e,r,!0)}invert(e){let r=this.sections.slice(),s=[];for(let a=0,o=0;a<r.length;a+=2){let u=r[a],l=r[a+1];if(l>=0){r[a]=l,r[a+1]=u;let c=a>>1;for(;s.length<c;)s.push(Text.empty);s.push(u?e.slice(o,o+u):Text.empty)}o+=u}return new ChangeSet(r,s)}compose(e){return this.empty?e:e.empty?this:composeSets(this,e,!0)}map(e,r=!1){return e.empty?this:mapSet(this,e,r,!0)}iterChanges(e,r=!1){iterChanges(this,e,r)}get desc(){return ChangeDesc.create(this.sections)}filter(e){let r=[],s=[],a=[],o=new SectionIter(this);e:for(let u=0,l=0;;){let c=u==e.length?1e9:e[u++];for(;l<c||l==c&&o.len==0;){if(o.done)break e;let f=Math.min(o.len,c-l);addSection(a,f,-1);let d=o.ins==-1?-1:o.off==0?o.ins:0;addSection(r,f,d),d>0&&addInsert(s,r,o.text),o.forward(f),l+=f}let h=e[u++];for(;l<h;){if(o.done)break e;let f=Math.min(o.len,h-l);addSection(r,f,-1),addSection(a,f,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(f),l+=f}}return{changes:new ChangeSet(r,s),filtered:ChangeDesc.create(a)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let s=this.sections[r],a=this.sections[r+1];a<0?e.push(s):a==0?e.push([s]):e.push([s].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,s){let a=[],o=[],u=0,l=null;function c(f=!1){if(!f&&!a.length)return;u<r&&addSection(a,r-u,-1);let d=new ChangeSet(a,o);l=l?l.compose(d.map(l)):d,a=[],o=[],u=0}function h(f){if(Array.isArray(f))for(let d of f)h(d);else if(f instanceof ChangeSet){if(f.length!=r)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${r})`);c(),l=l?l.compose(f.map(l)):f}else{let{from:d,to:m=d,insert:g}=f;if(d>m||d<0||m>r)throw new RangeError(`Invalid change range ${d} to ${m} (in doc of length ${r})`);let O=g?typeof g=="string"?Text.of(g.split(s||DefaultSplit)):g:Text.empty,E=O.length;if(d==m&&E==0)return;d<u&&c(),d>u&&addSection(a,d-u,-1),addSection(a,m-d,E),addInsert(o,a,O),u=m}}return h(e),c(!l),l}static empty(e){return new ChangeSet(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],s=[];for(let a=0;a<e.length;a++){let o=e[a];if(typeof o=="number")r.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((u,l)=>l&&typeof u!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)r.push(o[0],0);else{for(;s.length<a;)s.push(Text.empty);s[a]=Text.of(o.slice(1)),r.push(o[0],s[a].length)}}}return new ChangeSet(r,s)}static createSet(e,r){return new ChangeSet(e,r)}}function addSection(n,e,r,s=!1){if(e==0&&r<=0)return;let a=n.length-2;a>=0&&r<=0&&r==n[a+1]?n[a]+=e:a>=0&&e==0&&n[a]==0?n[a+1]+=r:s?(n[a]+=e,n[a+1]+=r):n.push(e,r)}function addInsert(n,e,r){if(r.length==0)return;let s=e.length-2>>1;if(s<n.length)n[n.length-1]=n[n.length-1].append(r);else{for(;n.length<s;)n.push(Text.empty);n.push(r)}}function iterChanges(n,e,r){let s=n.inserted;for(let a=0,o=0,u=0;u<n.sections.length;){let l=n.sections[u++],c=n.sections[u++];if(c<0)a+=l,o+=l;else{let h=a,f=o,d=Text.empty;for(;h+=l,f+=c,c&&s&&(d=d.append(s[u-2>>1])),!(r||u==n.sections.length||n.sections[u+1]<0);)l=n.sections[u++],c=n.sections[u++];e(a,h,o,f,d),a=h,o=f}}}function mapSet(n,e,r,s=!1){let a=[],o=s?[]:null,u=new SectionIter(n),l=new SectionIter(e);for(let c=-1;;){if(u.done&&l.len||l.done&&u.len)throw new Error("Mismatched change set lengths");if(u.ins==-1&&l.ins==-1){let h=Math.min(u.len,l.len);addSection(a,h,-1),u.forward(h),l.forward(h)}else if(l.ins>=0&&(u.ins<0||c==u.i||u.off==0&&(l.len<u.len||l.len==u.len&&!r))){let h=l.len;for(addSection(a,l.ins,-1);h;){let f=Math.min(u.len,h);u.ins>=0&&c<u.i&&u.len<=f&&(addSection(a,0,u.ins),o&&addInsert(o,a,u.text),c=u.i),u.forward(f),h-=f}l.next()}else if(u.ins>=0){let h=0,f=u.len;for(;f;)if(l.ins==-1){let d=Math.min(f,l.len);h+=d,f-=d,l.forward(d)}else if(l.ins==0&&l.len<f)f-=l.len,l.next();else break;addSection(a,h,c<u.i?u.ins:0),o&&c<u.i&&addInsert(o,a,u.text),c=u.i,u.forward(u.len-f)}else{if(u.done&&l.done)return o?ChangeSet.createSet(a,o):ChangeDesc.create(a);throw new Error("Mismatched change set lengths")}}}function composeSets(n,e,r=!1){let s=[],a=r?[]:null,o=new SectionIter(n),u=new SectionIter(e);for(let l=!1;;){if(o.done&&u.done)return a?ChangeSet.createSet(s,a):ChangeDesc.create(s);if(o.ins==0)addSection(s,o.len,0,l),o.next();else if(u.len==0&&!u.done)addSection(s,0,u.ins,l),a&&addInsert(a,s,u.text),u.next();else{if(o.done||u.done)throw new Error("Mismatched change set lengths");{let c=Math.min(o.len2,u.len),h=s.length;if(o.ins==-1){let f=u.ins==-1?-1:u.off?0:u.ins;addSection(s,c,f,l),a&&f&&addInsert(a,s,u.text)}else u.ins==-1?(addSection(s,o.off?0:o.len,c,l),a&&addInsert(a,s,o.textBit(c))):(addSection(s,o.off?0:o.len,u.off?0:u.ins,l),a&&!u.off&&addInsert(a,s,u.text));l=(o.ins>c||u.ins>=0&&u.len>c)&&(l||s.length>h),o.forward2(c),u.forward(c)}}}}class SectionIter{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?Text.empty:e[r]}textBit(e){let{inserted:r}=this.set,s=this.i-2>>1;return s>=r.length&&!e?Text.empty:r[s].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class SelectionRange{constructor(e,r,s){this.from=e,this.to=r,this.flags=s}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let s,a;return this.empty?s=a=e.mapPos(this.from,r):(s=e.mapPos(this.from,1),a=e.mapPos(this.to,-1)),s==this.from&&a==this.to?this:new SelectionRange(s,a,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return EditorSelection.range(e,r);let s=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return EditorSelection.range(this.anchor,s)}eq(e,r=!1){return this.anchor==e.anchor&&this.head==e.head&&(!r||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(e.anchor,e.head)}static create(e,r,s){return new SelectionRange(e,r,s)}}class EditorSelection{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:EditorSelection.create(this.ranges.map(s=>s.map(e,r)),this.mainIndex)}eq(e,r=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let s=0;s<this.ranges.length;s++)if(!this.ranges[s].eq(e.ranges[s],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(e,r=!0){return EditorSelection.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let s=this.ranges.slice();return s[r]=e,EditorSelection.create(s,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(e.ranges.map(r=>SelectionRange.fromJSON(r)),e.main)}static single(e,r=e){return new EditorSelection([EditorSelection.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let s=0,a=0;a<e.length;a++){let o=e[a];if(o.empty?o.from<=s:o.from<s)return EditorSelection.normalized(e.slice(),r);s=o.to}return new EditorSelection(e,r)}static cursor(e,r=0,s,a){return SelectionRange.create(e,e,(r==0?0:r<0?8:16)|(s==null?7:Math.min(6,s))|(a??16777215)<<6)}static range(e,r,s,a){let o=(s??16777215)<<6|(a==null?7:Math.min(6,a));return r<e?SelectionRange.create(r,e,48|o):SelectionRange.create(e,r,(r>e?8:0)|o)}static normalized(e,r=0){let s=e[r];e.sort((a,o)=>a.from-o.from),r=e.indexOf(s);for(let a=1;a<e.length;a++){let o=e[a],u=e[a-1];if(o.empty?o.from<=u.to:o.from<u.to){let l=u.from,c=Math.max(o.to,u.to);a<=r&&r--,e.splice(--a,2,o.anchor>o.head?EditorSelection.range(c,l):EditorSelection.range(l,c))}}return new EditorSelection(e,r)}}function checkSelection(n,e){for(let r of n.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(e,r,s,a,o){this.combine=e,this.compareInput=r,this.compare=s,this.isStatic=a,this.id=nextID++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new Facet(e.combine||(r=>r),e.compareInput||((r,s)=>r===s),e.compare||(e.combine?(r,s)=>r===s:sameArray$1),!!e.static,e.enables)}of(e){return new FacetProvider([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,2,r)}from(e,r){return r||(r=s=>s),this.compute([e],s=>r(s.field(e)))}}function sameArray$1(n,e){return n==e||n.length==e.length&&n.every((r,s)=>r===e[s])}class FacetProvider{constructor(e,r,s,a){this.dependencies=e,this.facet=r,this.type=s,this.value=a,this.id=nextID++}dynamicSlot(e){var r;let s=this.value,a=this.facet.compareInput,o=this.id,u=e[o]>>1,l=this.type==2,c=!1,h=!1,f=[];for(let d of this.dependencies)d=="doc"?c=!0:d=="selection"?h=!0:((r=e[d.id])!==null&&r!==void 0?r:1)&1||f.push(e[d.id]);return{create(d){return d.values[u]=s(d),1},update(d,m){if(c&&m.docChanged||h&&(m.docChanged||m.selection)||ensureAll(d,f)){let g=s(d);if(l?!compareArray(g,d.values[u],a):!a(g,d.values[u]))return d.values[u]=g,1}return 0},reconfigure:(d,m)=>{let g,O=m.config.address[o];if(O!=null){let E=getAddr(m,O);if(this.dependencies.every(D=>D instanceof Facet?m.facet(D)===d.facet(D):D instanceof StateField?m.field(D,!1)==d.field(D,!1):!0)||(l?compareArray(g=s(d),E,a):a(g=s(d),E)))return d.values[u]=E,0}else g=s(d);return d.values[u]=g,1}}}}function compareArray(n,e,r){if(n.length!=e.length)return!1;for(let s=0;s<n.length;s++)if(!r(n[s],e[s]))return!1;return!0}function ensureAll(n,e){let r=!1;for(let s of e)ensureAddr(n,s)&1&&(r=!0);return r}function dynamicFacetSlot(n,e,r){let s=r.map(c=>n[c.id]),a=r.map(c=>c.type),o=s.filter(c=>!(c&1)),u=n[e.id]>>1;function l(c){let h=[];for(let f=0;f<s.length;f++){let d=getAddr(c,s[f]);if(a[f]==2)for(let m of d)h.push(m);else h.push(d)}return e.combine(h)}return{create(c){for(let h of s)ensureAddr(c,h);return c.values[u]=l(c),1},update(c,h){if(!ensureAll(c,o))return 0;let f=l(c);return e.compare(f,c.values[u])?0:(c.values[u]=f,1)},reconfigure(c,h){let f=ensureAll(c,s),d=h.config.facets[e.id],m=h.facet(e);if(d&&!f&&sameArray$1(r,d))return c.values[u]=m,0;let g=l(c);return e.compare(g,m)?(c.values[u]=m,0):(c.values[u]=g,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(e,r,s,a,o){this.id=e,this.createF=r,this.updateF=s,this.compareF=a,this.spec=o,this.provides=void 0}static define(e){let r=new StateField(nextID++,e.create,e.update,e.compare||((s,a)=>s===a),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(initField).find(s=>s.field==this);return((r==null?void 0:r.create)||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:s=>(s.values[r]=this.create(s),1),update:(s,a)=>{let o=s.values[r],u=this.updateF(o,a);return this.compareF(o,u)?0:(s.values[r]=u,1)},reconfigure:(s,a)=>{let o=s.facet(initField),u=a.facet(initField),l;return(l=o.find(c=>c.field==this))&&l!=u.find(c=>c.field==this)?(s.values[r]=l.create(s),1):a.config.address[this.id]!=null?(s.values[r]=a.field(this),0):(s.values[r]=this.create(s),1)}}}init(e){return[this,initField.of({field:this,create:e})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(n){return e=>new PrecExtension(e,n)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(e,r){this.inner=e,this.prec=r}}class Compartment{of(e){return new CompartmentInstance(this,e)}reconfigure(e){return Compartment.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class CompartmentInstance{constructor(e,r){this.compartment=e,this.inner=r}}class Configuration{constructor(e,r,s,a,o,u){for(this.base=e,this.compartments=r,this.dynamicSlots=s,this.address=a,this.staticValues=o,this.facets=u,this.statusTemplate=[];this.statusTemplate.length<s.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,s){let a=[],o=Object.create(null),u=new Map;for(let m of flatten(e,r,u))m instanceof StateField?a.push(m):(o[m.facet.id]||(o[m.facet.id]=[])).push(m);let l=Object.create(null),c=[],h=[];for(let m of a)l[m.id]=h.length<<1,h.push(g=>m.slot(g));let f=s==null?void 0:s.config.facets;for(let m in o){let g=o[m],O=g[0].facet,E=f&&f[m]||[];if(g.every(D=>D.type==0))if(l[O.id]=c.length<<1|1,sameArray$1(E,g))c.push(s.facet(O));else{let D=O.combine(g.map(A=>A.value));c.push(s&&O.compare(D,s.facet(O))?s.facet(O):D)}else{for(let D of g)D.type==0?(l[D.id]=c.length<<1|1,c.push(D.value)):(l[D.id]=h.length<<1,h.push(A=>D.dynamicSlot(A)));l[O.id]=h.length<<1,h.push(D=>dynamicFacetSlot(D,O,g))}}let d=h.map(m=>m(l));return new Configuration(e,u,d,l,c,o)}}function flatten(n,e,r){let s=[[],[],[],[],[]],a=new Map;function o(u,l){let c=a.get(u);if(c!=null){if(c<=l)return;let h=s[c].indexOf(u);h>-1&&s[c].splice(h,1),u instanceof CompartmentInstance&&r.delete(u.compartment)}if(a.set(u,l),Array.isArray(u))for(let h of u)o(h,l);else if(u instanceof CompartmentInstance){if(r.has(u.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(u.compartment)||u.inner;r.set(u.compartment,h),o(h,l)}else if(u instanceof PrecExtension)o(u.inner,u.prec);else if(u instanceof StateField)s[l].push(u),u.provides&&o(u.provides,l);else if(u instanceof FacetProvider)s[l].push(u),u.facet.extensions&&o(u.facet.extensions,Prec_.default);else{let h=u.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${u}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(h,l)}}return o(n,Prec_.default),s.reduce((u,l)=>u.concat(l))}function ensureAddr(n,e){if(e&1)return 2;let r=e>>1,s=n.status[r];if(s==4)throw new Error("Cyclic dependency between fields and/or facets");if(s&2)return s;n.status[r]=4;let a=n.computeSlot(n,n.config.dynamicSlots[r]);return n.status[r]=2|a}function getAddr(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:n=>n.some(e=>e),static:!0}),lineSeparator=Facet.define({combine:n=>n.length?n[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:n=>n.length?n[0]:!1});class Annotation{constructor(e,r){this.type=e,this.value=r}static define(){return new AnnotationType}}class AnnotationType{of(e){return new Annotation(this,e)}}class StateEffectType{constructor(e){this.map=e}of(e){return new StateEffect(this,e)}}class StateEffect{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new StateEffect(this.type,r)}is(e){return this.type==e}static define(e={}){return new StateEffectType(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let s=[];for(let a of e){let o=a.map(r);o&&s.push(o)}return s}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(e,r,s,a,o,u){this.startState=e,this.changes=r,this.selection=s,this.effects=a,this.annotations=o,this.scrollIntoView=u,this._doc=null,this._state=null,s&&checkSelection(s,r.newLength),o.some(l=>l.type==Transaction.time)||(this.annotations=o.concat(Transaction.time.of(Date.now())))}static create(e,r,s,a,o,u){return new Transaction(e,r,s,a,o,u)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(Transaction.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(n,e){let r=[];for(let s=0,a=0;;){let o,u;if(s<n.length&&(a==e.length||e[a]>=n[s]))o=n[s++],u=n[s++];else if(a<e.length)o=e[a++],u=e[a++];else return r;!r.length||r[r.length-1]<o?r.push(o,u):r[r.length-1]<u&&(r[r.length-1]=u)}}function mergeTransaction(n,e,r){var s;let a,o,u;return r?(a=e.changes,o=ChangeSet.empty(e.changes.length),u=n.changes.compose(e.changes)):(a=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),u=n.changes.compose(a)),{changes:u,selection:e.selection?e.selection.map(o):(s=n.selection)===null||s===void 0?void 0:s.map(a),effects:StateEffect.mapEffects(n.effects,a).concat(StateEffect.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function resolveTransactionInner(n,e,r){let s=e.selection,a=asArray$1(e.annotations);return e.userEvent&&(a=a.concat(Transaction.userEvent.of(e.userEvent))),{changes:e.changes instanceof ChangeSet?e.changes:ChangeSet.of(e.changes||[],r,n.facet(lineSeparator)),selection:s&&(s instanceof EditorSelection?s:EditorSelection.single(s.anchor,s.head)),effects:asArray$1(e.effects),annotations:a,scrollIntoView:!!e.scrollIntoView}}function resolveTransaction(n,e,r){let s=resolveTransactionInner(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(r=!1);let u=!!e[o].sequential;s=mergeTransaction(s,resolveTransactionInner(n,e[o],u?s.changes.newLength:n.doc.length),u)}let a=Transaction.create(n,s.changes,s.selection,s.effects,s.annotations,s.scrollIntoView);return extendTransaction(r?filterTransaction(a):a)}function filterTransaction(n){let e=n.startState,r=!0;for(let a of e.facet(changeFilter)){let o=a(n);if(o===!1){r=!1;break}Array.isArray(o)&&(r=r===!0?o:joinRanges(r,o))}if(r!==!0){let a,o;if(r===!1)o=n.changes.invertedDesc,a=ChangeSet.empty(e.doc.length);else{let u=n.changes.filter(r);a=u.changes,o=u.filtered.mapDesc(u.changes).invertedDesc}n=Transaction.create(e,a,n.selection&&n.selection.map(o),StateEffect.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let s=e.facet(transactionFilter);for(let a=s.length-1;a>=0;a--){let o=s[a](n);o instanceof Transaction?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Transaction?n=o[0]:n=resolveTransaction(e,asArray$1(o),!1)}return n}function extendTransaction(n){let e=n.startState,r=e.facet(transactionExtender),s=n;for(let a=r.length-1;a>=0;a--){let o=r[a](n);o&&Object.keys(o).length&&(s=mergeTransaction(s,resolveTransactionInner(e,o,n.changes.newLength),!0))}return s==n?n:Transaction.create(e,n.changes,n.selection,s.effects,s.annotations,s.scrollIntoView)}const none$2=[];function asArray$1(n){return n==null?none$2:Array.isArray(n)?n:[n]}var CharCategory=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hasWordChar(n){if(wordChar)return wordChar.test(n);for(let e=0;e<n.length;e++){let r=n[e];if(/\w/.test(r)||r>"Â€"&&(r.toUpperCase()!=r.toLowerCase()||nonASCIISingleCaseWordChar.test(r)))return!0}return!1}function makeCategorizer(n){return e=>{if(!/\S/.test(e))return CharCategory.Space;if(hasWordChar(e))return CharCategory.Word;for(let r=0;r<n.length;r++)if(e.indexOf(n[r])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(e,r,s,a,o,u){this.config=e,this.doc=r,this.selection=s,this.values=a,this.status=e.statusTemplate.slice(),this.computeSlot=o,u&&(u._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)ensureAddr(this,l<<1);this.computeSlot=null}field(e,r=!0){let s=this.config.address[e.id];if(s==null){if(r)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,s),getAddr(this,s)}update(...e){return resolveTransaction(this,e,!0)}applyTransaction(e){let r=this.config,{base:s,compartments:a}=r;for(let l of e.effects)l.is(Compartment.reconfigure)?(r&&(a=new Map,r.compartments.forEach((c,h)=>a.set(h,c)),r=null),a.set(l.value.compartment,l.value.extension)):l.is(StateEffect.reconfigure)?(r=null,s=l.value):l.is(StateEffect.appendConfig)&&(r=null,s=asArray$1(s).concat(l.value));let o;r?o=e.startState.values.slice():(r=Configuration.resolve(s,a,this),o=new EditorState(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(c,h)=>h.reconfigure(c,this),null).values);let u=e.startState.facet(allowMultipleSelections)?e.newSelection:e.newSelection.asSingle();new EditorState(r,e.newDoc,u,o,(l,c)=>c.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:EditorSelection.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,s=e(r.ranges[0]),a=this.changes(s.changes),o=[s.range],u=asArray$1(s.effects);for(let l=1;l<r.ranges.length;l++){let c=e(r.ranges[l]),h=this.changes(c.changes),f=h.map(a);for(let m=0;m<l;m++)o[m]=o[m].map(f);let d=a.mapDesc(h,!0);o.push(c.range.map(d)),a=a.compose(f),u=StateEffect.mapEffects(u,f).concat(StateEffect.mapEffects(asArray$1(c.effects),d))}return{changes:a,selection:EditorSelection.create(o,r.mainIndex),effects:u}}changes(e=[]){return e instanceof ChangeSet?e:ChangeSet.of(e,this.doc.length,this.facet(EditorState.lineSeparator))}toText(e){return Text.of(e.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(ensureAddr(this,r),getAddr(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let s in e){let a=e[s];a instanceof StateField&&this.config.address[a.id]!=null&&(r[s]=a.spec.toJSON(this.field(e[s]),this))}return r}static fromJSON(e,r={},s){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let a=[];if(s){for(let o in s)if(Object.prototype.hasOwnProperty.call(e,o)){let u=s[o],l=e[o];a.push(u.init(c=>u.spec.fromJSON(l,c)))}}return EditorState.create({doc:e.doc,selection:EditorSelection.fromJSON(e.selection),extensions:r.extensions?a.concat([r.extensions]):a})}static create(e={}){let r=Configuration.resolve(e.extensions||[],new Map),s=e.doc instanceof Text?e.doc:Text.of((e.doc||"").split(r.staticFacet(EditorState.lineSeparator)||DefaultSplit)),a=e.selection?e.selection instanceof EditorSelection?e.selection:EditorSelection.single(e.selection.anchor,e.selection.head):EditorSelection.single(0);return checkSelection(a,s.length),r.staticFacet(allowMultipleSelections)||(a=a.asSingle()),new EditorState(r,s,a,r.dynamicSlots.map(()=>null),(o,u)=>u.create(o),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(e,...r){for(let s of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(s,e)){e=s[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(s,a)=>{if(a=="$")return"$";let o=+(a||1);return!o||o>r.length?s:r[o-1]})),e}languageDataAt(e,r,s=-1){let a=[];for(let o of this.facet(languageData))for(let u of o(this,r,s))Object.prototype.hasOwnProperty.call(u,e)&&a.push(u[e]);return a}charCategorizer(e){return makeCategorizer(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:s,length:a}=this.doc.lineAt(e),o=this.charCategorizer(e),u=e-s,l=e-s;for(;u>0;){let c=findClusterBreak(r,u,!1);if(o(r.slice(c,u))!=CharCategory.Word)break;u=c}for(;l<a;){let c=findClusterBreak(r,l);if(o(r.slice(l,c))!=CharCategory.Word)break;l=c}return u==l?null:EditorSelection.range(u+s,l+s)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:n=>n.length?n[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(n,e){let r=Object.keys(n),s=Object.keys(e);return r.length==s.length&&r.every(a=>n[a]==e[a])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(n,e,r={}){let s={};for(let a of n)for(let o of Object.keys(a)){let u=a[o],l=s[o];if(l===void 0)s[o]=u;else if(!(l===u||u===void 0))if(Object.hasOwnProperty.call(r,o))s[o]=r[o](l,u);else throw new Error("Config merge conflict for field "+o)}for(let a in e)s[a]===void 0&&(s[a]=e[a]);return s}class RangeValue{eq(e){return this==e}range(e,r=e){return Range$1.create(e,r,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$1=class Ft{constructor(e,r,s){this.from=e,this.to=r,this.value=s}static create(e,r,s){return new Ft(e,r,s)}};function cmpRange(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class Chunk{constructor(e,r,s,a){this.from=e,this.to=r,this.value=s,this.maxPoint=a}get length(){return this.to[this.to.length-1]}findIndex(e,r,s,a=0){let o=s?this.to:this.from;for(let u=a,l=o.length;;){if(u==l)return u;let c=u+l>>1,h=o[c]-e||(s?this.value[c].endSide:this.value[c].startSide)-r;if(c==u)return h>=0?u:l;h>=0?l=c:u=c+1}}between(e,r,s,a){for(let o=this.findIndex(r,-1e9,!0),u=this.findIndex(s,1e9,!1,o);o<u;o++)if(a(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,r){let s=[],a=[],o=[],u=-1,l=-1;for(let c=0;c<this.value.length;c++){let h=this.value[c],f=this.from[c]+e,d=this.to[c]+e,m,g;if(f==d){let O=r.mapPos(f,h.startSide,h.mapMode);if(O==null||(m=g=O,h.startSide!=h.endSide&&(g=r.mapPos(f,h.endSide),g<m)))continue}else if(m=r.mapPos(f,h.startSide),g=r.mapPos(d,h.endSide),m>g||m==g&&h.startSide>0&&h.endSide<=0)continue;(g-m||h.endSide-h.startSide)<0||(u<0&&(u=m),h.point&&(l=Math.max(l,g-m)),s.push(h),a.push(m-u),o.push(g-u))}return{mapped:s.length?new Chunk(a,o,s,l):null,pos:u}}}class RangeSet{constructor(e,r,s,a){this.chunkPos=e,this.chunk=r,this.nextLayer=s,this.maxPoint=a}static create(e,r,s,a){return new RangeSet(e,r,s,a)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:s=!1,filterFrom:a=0,filterTo:o=this.length}=e,u=e.filter;if(r.length==0&&!u)return this;if(s&&(r=r.slice().sort(cmpRange)),this.isEmpty)return r.length?RangeSet.of(r):this;let l=new LayerCursor(this,null,-1).goto(0),c=0,h=[],f=new RangeSetBuilder;for(;l.value||c<r.length;)if(c<r.length&&(l.from-r[c].from||l.startSide-r[c].value.startSide)>=0){let d=r[c++];f.addInner(d.from,d.to,d.value)||h.push(d)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(c==r.length||this.chunkEnd(l.chunkIndex)<r[c].from)&&(!u||a>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&f.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!u||a>l.to||o<l.from||u(l.from,l.to,l.value))&&(f.addInner(l.from,l.to,l.value)||h.push(Range$1.create(l.from,l.to,l.value))),l.next());return f.finishInner(this.nextLayer.isEmpty&&!h.length?RangeSet.empty:this.nextLayer.update({add:h,filter:u,filterFrom:a,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],s=[],a=-1;for(let u=0;u<this.chunk.length;u++){let l=this.chunkPos[u],c=this.chunk[u],h=e.touchesRange(l,l+c.length);if(h===!1)a=Math.max(a,c.maxPoint),r.push(c),s.push(e.mapPos(l));else if(h===!0){let{mapped:f,pos:d}=c.map(l,e);f&&(a=Math.max(a,f.maxPoint),r.push(f),s.push(d))}}let o=this.nextLayer.map(e);return r.length==0?o:new RangeSet(s,r,o||RangeSet.empty,a)}between(e,r,s){if(!this.isEmpty){for(let a=0;a<this.chunk.length;a++){let o=this.chunkPos[a],u=this.chunk[a];if(r>=o&&e<=o+u.length&&u.between(o,e-o,r-o,s)===!1)return}this.nextLayer.between(e,r,s)}}iter(e=0){return HeapCursor.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return HeapCursor.from(e).goto(r)}static compare(e,r,s,a,o=-1){let u=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),l=r.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),c=findSharedChunks(u,l,s),h=new SpanCursor(u,c,o),f=new SpanCursor(l,c,o);s.iterGaps((d,m,g)=>compare(h,d,f,m,g,a)),s.empty&&s.length==0&&compare(h,0,f,0,0,a)}static eq(e,r,s=0,a){a==null&&(a=999999999);let o=e.filter(f=>!f.isEmpty&&r.indexOf(f)<0),u=r.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(o.length!=u.length)return!1;if(!o.length)return!0;let l=findSharedChunks(o,u),c=new SpanCursor(o,l,0).goto(s),h=new SpanCursor(u,l,0).goto(s);for(;;){if(c.to!=h.to||!sameValues(c.active,h.active)||c.point&&(!h.point||!c.point.eq(h.point)))return!1;if(c.to>a)return!0;c.next(),h.next()}}static spans(e,r,s,a,o=-1){let u=new SpanCursor(e,null,o).goto(r),l=r,c=u.openStart;for(;;){let h=Math.min(u.to,s);if(u.point){let f=u.activeForPoint(u.to),d=u.pointFrom<r?f.length+1:u.point.startSide<0?f.length:Math.min(f.length,c);a.point(l,h,u.point,f,d,u.pointRank),c=Math.min(u.openEnd(h),f.length)}else h>l&&(a.span(l,h,u.active,c),c=u.openEnd(h));if(u.to>s)return c+(u.point&&u.to>s?1:0);l=u.to,u.next()}}static of(e,r=!1){let s=new RangeSetBuilder;for(let a of e instanceof Range$1?[e]:r?lazySort(e):e)s.add(a.from,a.to,a.value);return s.finish()}static join(e){if(!e.length)return RangeSet.empty;let r=e[e.length-1];for(let s=e.length-2;s>=0;s--)for(let a=e[s];a!=RangeSet.empty;a=a.nextLayer)r=new RangeSet(a.chunkPos,a.chunk,r,Math.max(a.maxPoint,r.maxPoint));return r}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(n){if(n.length>1)for(let e=n[0],r=1;r<n.length;r++){let s=n[r];if(cmpRange(e,s)>0)return n.slice().sort(cmpRange);e=s}return n}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(e){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,s){this.addInner(e,r,s)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(e,r,s)}addInner(e,r,s){let a=e-this.lastTo||s.startSide-this.last.endSide;if(a<=0&&(e-this.lastFrom||s.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return a<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=s,this.lastFrom=e,this.lastTo=r,this.value.push(s),s.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let s=r.value.length-1;return this.last=r.value[s],this.lastFrom=r.from[s]+e,this.lastTo=r.to[s]+e,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function findSharedChunks(n,e,r){let s=new Map;for(let o of n)for(let u=0;u<o.chunk.length;u++)o.chunk[u].maxPoint<=0&&s.set(o.chunk[u],o.chunkPos[u]);let a=new Set;for(let o of e)for(let u=0;u<o.chunk.length;u++){let l=s.get(o.chunk[u]);l!=null&&(r?r.mapPos(l):l)==o.chunkPos[u]&&!(r!=null&&r.touchesRange(l,l+o.chunk[u].length))&&a.add(o.chunk[u])}return a}class LayerCursor{constructor(e,r,s,a=0){this.layer=e,this.skip=r,this.minPoint=s,this.rank=a}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,s){for(;this.chunkIndex<this.layer.chunk.length;){let a=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(a)||this.layer.chunkEnd(this.chunkIndex)<e||a.maxPoint<this.minPoint))break;this.chunkIndex++,s=!1}if(this.chunkIndex<this.layer.chunk.length){let a=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!s||this.rangeIndex<a)&&this.setRangeIndex(a)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],s=e+r.from[this.rangeIndex];if(this.from=s,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class HeapCursor{constructor(e){this.heap=e}static from(e,r=null,s=-1){let a=[];for(let o=0;o<e.length;o++)for(let u=e[o];!u.isEmpty;u=u.nextLayer)u.maxPoint>=s&&a.push(new LayerCursor(u,r,s,o));return a.length==1?a[0]:new HeapCursor(a)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let s of this.heap)s.goto(e,r);for(let s=this.heap.length>>1;s>=0;s--)heapBubble(this.heap,s);return this.next(),this}forward(e,r){for(let s of this.heap)s.forward(e,r);for(let s=this.heap.length>>1;s>=0;s--)heapBubble(this.heap,s);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),heapBubble(this.heap,0)}}}function heapBubble(n,e){for(let r=n[e];;){let s=(e<<1)+1;if(s>=n.length)break;let a=n[s];if(s+1<n.length&&a.compare(n[s+1])>=0&&(a=n[s+1],s++),r.compare(a)<0)break;n[s]=r,n[e]=a,e=s}}class SpanCursor{constructor(e,r,s){this.minPoint=s,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(e,r,s)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){remove(this.active,e),remove(this.activeTo,e),remove(this.activeRank,e),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(e){let r=0,{value:s,to:a,rank:o}=this.cursor;for(;r<this.activeRank.length&&(o-this.activeRank[r]||a-this.activeTo[r])>0;)r++;insert(this.active,r,s),insert(this.activeTo,r,a),insert(this.activeRank,r,o),e&&insert(e,r,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let s=this.openStart<0?[]:null;for(;;){let a=this.minActive;if(a>-1&&(this.activeTo[a]-this.cursor.from||this.active[a].endSide-this.cursor.startSide)<0){if(this.activeTo[a]>e){this.to=this.activeTo[a],this.endSide=this.active[a].endSide;break}this.removeActive(a),s&&remove(s,a)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(s),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(s){this.openStart=0;for(let a=s.length-1;a>=0&&s[a]<e;a--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let s=this.active.length-1;s>=0&&!(this.activeRank[s]<this.pointRank);s--)(this.activeTo[s]>e||this.activeTo[s]==e&&this.active[s].endSide>=this.point.endSide)&&r.push(this.active[s]);return r.reverse()}openEnd(e){let r=0;for(let s=this.activeTo.length-1;s>=0&&this.activeTo[s]>e;s--)r++;return r}}function compare(n,e,r,s,a,o){n.goto(e),r.goto(s);let u=s+a,l=s,c=s-e;for(;;){let h=n.to+c-r.to,f=h||n.endSide-r.endSide,d=f<0?n.to+c:r.to,m=Math.min(d,u);if(n.point||r.point?n.point&&r.point&&(n.point==r.point||n.point.eq(r.point))&&sameValues(n.activeForPoint(n.to),r.activeForPoint(r.to))||o.comparePoint(l,m,n.point,r.point):m>l&&!sameValues(n.active,r.active)&&o.compareRange(l,m,n.active,r.active),d>u)break;(h||n.openEnd!=r.openEnd)&&o.boundChange&&o.boundChange(d),l=d,f<=0&&n.next(),f>=0&&r.next()}}function sameValues(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!=e[r]&&!n[r].eq(e[r]))return!1;return!0}function remove(n,e){for(let r=e,s=n.length-1;r<s;r++)n[r]=n[r+1];n.pop()}function insert(n,e,r){for(let s=n.length-1;s>=e;s--)n[s+1]=n[s];n[e]=r}function findMinIndex(n,e){let r=-1,s=1e9;for(let a=0;a<e.length;a++)(e[a]-s||n[a].endSide-n[r].endSide)<0&&(r=a,s=e[a]);return r}function countColumn(n,e,r=n.length){let s=0;for(let a=0;a<r&&a<n.length;)n.charCodeAt(a)==9?(s+=e-s%e,a++):(s++,a=findClusterBreak(n,a));return s}function findColumn(n,e,r,s){for(let a=0,o=0;;){if(o>=e)return a;if(a==n.length)break;o+=n.charCodeAt(a)==9?r-o%r:1,a=findClusterBreak(n,a)}return s===!0?-1:n.length}const C="Í¼",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(e,r){this.rules=[];let{finish:s}=r||{};function a(u){return/^@/.test(u)?[u]:u.split(/,\s*/)}function o(u,l,c,h){let f=[],d=/^@(\w+)\b/.exec(u[0]),m=d&&d[1]=="keyframes";if(d&&l==null)return c.push(u[0]+";");for(let g in l){let O=l[g];if(/&/.test(g))o(g.split(/,\s*/).map(E=>u.map(D=>E.replace(/&/,D))).reduce((E,D)=>E.concat(D)),O,c);else if(O&&typeof O=="object"){if(!d)throw new RangeError("The value of a property ("+g+") should be a primitive value.");o(a(g),O,f,m)}else O!=null&&f.push(g.replace(/_.*/,"").replace(/[A-Z]/g,E=>"-"+E.toLowerCase())+": "+O+";")}(f.length||m)&&c.push((s&&!d&&!h?u.map(s):u).join(", ")+" {"+f.join(" ")+"}")}for(let u in e)o(a(u),e[u],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=top[COUNT]||1;return top[COUNT]=e+1,C+e.toString(36)}static mount(e,r,s){let a=e[SET],o=s&&s.nonce;a?o&&a.setNonce(o):a=new StyleSet(e,o),a.mount(Array.isArray(r)?r:[r],e)}}let adoptedSet=new Map;class StyleSet{constructor(e,r){let s=e.ownerDocument||e,a=s.defaultView;if(!e.head&&e.adoptedStyleSheets&&a.CSSStyleSheet){let o=adoptedSet.get(s);if(o)return e[SET]=o;this.sheet=new a.CSSStyleSheet,adoptedSet.set(s,this)}else this.styleTag=s.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],e[SET]=this}mount(e,r){let s=this.sheet,a=0,o=0;for(let u=0;u<e.length;u++){let l=e[u],c=this.modules.indexOf(l);if(c<o&&c>-1&&(this.modules.splice(c,1),o--,c=-1),c==-1){if(this.modules.splice(o++,0,l),s)for(let h=0;h<l.rules.length;h++)s.insertRule(l.rules[h],a++)}else{for(;o<c;)a+=this.modules[o++].rules.length;a+=l.rules.length,o++}}if(s)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let u="";for(let c=0;c<this.modules.length;c++)u+=this.modules[c].getRules()+`
`;this.styleTag.textContent=u;let l=r.head||r;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code$1 in base)shift.hasOwnProperty(code$1)||(shift[code$1]=base[code$1]);function keyName(n){var e=mac&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||ie$1&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",r=!e&&n.key||(n.shiftKey?shift:base)[n.keyCode]||n.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function crelt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){var a=r[s];typeof a=="string"?n.setAttribute(s,a):a!=null&&(n[s]=a)}e++}for(;e<arguments.length;e++)add(n,arguments[e]);return n}function add(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)add(n,e[r]);else throw new RangeError("Unsupported child node: "+e)}function getSelection(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function contains(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function hasSelection(n,e){if(!e.anchorNode)return!1;try{return contains(n,e.anchorNode)}catch{return!1}}function clientRectsFor(n){return n.nodeType==3?textRange(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function isEquivalentPosition(n,e,r,s){return r?scanFor(n,e,r,s,-1)||scanFor(n,e,r,s,1):!1}function domIndex(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function isBlockElement(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function scanFor(n,e,r,s,a){for(;;){if(n==r&&e==s)return!0;if(e==(a<0?0:maxOffset(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=domIndex(n)+(a<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(a<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=a<0?maxOffset(n):0}else return!1}}function maxOffset(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function flattenRect(n,e){let r=e?n.left:n.right;return{left:r,right:r,top:n.top,bottom:n.bottom}}function windowRect(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function getScale(n,e){let r=e.width/n.offsetWidth,s=e.height/n.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.width-n.offsetWidth)<1)&&(r=1),(s>.995&&s<1.005||!isFinite(s)||Math.abs(e.height-n.offsetHeight)<1)&&(s=1),{scaleX:r,scaleY:s}}function scrollRectIntoView(n,e,r,s,a,o,u,l){let c=n.ownerDocument,h=c.defaultView||window;for(let f=n,d=!1;f&&!d;)if(f.nodeType==1){let m,g=f==c.body,O=1,E=1;if(g)m=windowRect(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(f).position)&&(d=!0),f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let S=f.getBoundingClientRect();({scaleX:O,scaleY:E}=getScale(f,S)),m={left:S.left,right:S.left+f.clientWidth*O,top:S.top,bottom:S.top+f.clientHeight*E}}let D=0,A=0;if(a=="nearest")e.top<m.top?(A=e.top-(m.top+u),r>0&&e.bottom>m.bottom+A&&(A=e.bottom-m.bottom+u)):e.bottom>m.bottom&&(A=e.bottom-m.bottom+u,r<0&&e.top-A<m.top&&(A=e.top-(m.top+u)));else{let S=e.bottom-e.top,B=m.bottom-m.top;A=(a=="center"&&S<=B?e.top+S/2-B/2:a=="start"||a=="center"&&r<0?e.top-u:e.bottom-B+u)-m.top}if(s=="nearest"?e.left<m.left?(D=e.left-(m.left+o),r>0&&e.right>m.right+D&&(D=e.right-m.right+o)):e.right>m.right&&(D=e.right-m.right+o,r<0&&e.left<m.left+D&&(D=e.left-(m.left+o))):D=(s=="center"?e.left+(e.right-e.left)/2-(m.right-m.left)/2:s=="start"==l?e.left-o:e.right-(m.right-m.left)+o)-m.left,D||A)if(g)h.scrollBy(D,A);else{let S=0,B=0;if(A){let $=f.scrollTop;f.scrollTop+=A/E,B=(f.scrollTop-$)*E}if(D){let $=f.scrollLeft;f.scrollLeft+=D/O,S=(f.scrollLeft-$)*O}e={left:e.left-S,top:e.top-B,right:e.right-S,bottom:e.bottom-B},S&&Math.abs(S-D)<1&&(s="nearest"),B&&Math.abs(B-A)<1&&(a="nearest")}if(g)break;(e.top<m.top||e.bottom>m.bottom||e.left<m.left||e.right>m.right)&&(e={left:Math.max(e.left,m.left),right:Math.min(e.right,m.right),top:Math.max(e.top,m.top),bottom:Math.min(e.bottom,m.bottom)}),f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function scrollableParents(n){let e=n.ownerDocument,r,s;for(let a=n.parentNode;a&&!(a==e.body||r&&s);)if(a.nodeType==1)!s&&a.scrollHeight>a.clientHeight&&(s=a),!r&&a.scrollWidth>a.clientWidth&&(r=a),a=a.assignedSlot||a.parentNode;else if(a.nodeType==11)a=a.host;else break;return{x:r,y:s}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:s}=e;this.set(r,Math.min(e.anchorOffset,r?maxOffset(r):0),s,Math.min(e.focusOffset,s?maxOffset(s):0))}set(e,r,s,a){this.anchorNode=e,this.anchorOffset=r,this.focusNode=s,this.focusOffset=a}}let preventScrollSupported=null;function focusPreventScroll(n){if(n.setActive)return n.setActive();if(preventScrollSupported)return n.focus(preventScrollSupported);let e=[];for(let r=n;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(n.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let r=0;r<e.length;){let s=e[r++],a=e[r++],o=e[r++];s.scrollTop!=a&&(s.scrollTop=a),s.scrollLeft!=o&&(s.scrollLeft=o)}}}let scratchRange;function textRange(n,e,r=e){let s=scratchRange||(scratchRange=document.createRange());return s.setEnd(n,r),s.setStart(n,e),s}function dispatchKey(n,e,r,s){let a={key:e,code:e,keyCode:r,which:r,cancelable:!0};s&&({altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey}=s);let o=new KeyboardEvent("keydown",a);o.synthetic=!0,n.dispatchEvent(o);let u=new KeyboardEvent("keyup",a);return u.synthetic=!0,n.dispatchEvent(u),o.defaultPrevented||u.defaultPrevented}function getRoot(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function clearAttributes(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function atElementStart(n,e){let r=e.focusNode,s=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=s)return!1;for(s=Math.min(s,maxOffset(r));;)if(s){if(r.nodeType!=1)return!1;let a=r.childNodes[s-1];a.contentEditable=="false"?s--:(r=a,s=maxOffset(r))}else{if(r==n)return!0;s=domIndex(r),r=r.parentNode}}function isScrolledToBottom(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function textNodeBefore(n,e){for(let r=n,s=e;;){if(r.nodeType==3&&s>0)return{node:r,offset:s};if(r.nodeType==1&&s>0){if(r.contentEditable=="false")return null;r=r.childNodes[s-1],s=maxOffset(r)}else if(r.parentNode&&!isBlockElement(r))s=domIndex(r),r=r.parentNode;else return null}}function textNodeAfter(n,e){for(let r=n,s=e;;){if(r.nodeType==3&&s<r.nodeValue.length)return{node:r,offset:s};if(r.nodeType==1&&s<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[s],s=0}else if(r.parentNode&&!isBlockElement(r))s=domIndex(r)+1,r=r.parentNode;else return null}}class DOMPos{constructor(e,r,s=!0){this.node=e,this.offset=r,this.precise=s}static before(e,r){return new DOMPos(e.parentNode,domIndex(e),r)}static after(e,r){return new DOMPos(e.parentNode,domIndex(e)+1,r)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let s of this.children){if(s==e)return r;r+=s.length+s.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let s=this.dom,a=null,o;for(let u of this.children){if(u.flags&7){if(!u.dom&&(o=a?a.nextSibling:s.firstChild)){let l=ContentView.get(o);(!l||!l.parent&&l.canReuseDOM(u))&&u.reuseDOM(o)}u.sync(e,r),u.flags&=-8}if(o=a?a.nextSibling:s.firstChild,r&&!r.written&&r.node==s&&o!=u.dom&&(r.written=!0),u.dom.parentNode==s)for(;o&&o!=u.dom;)o=rm$1(o);else s.insertBefore(u.dom,o);a=u.dom}for(o=a?a.nextSibling:s.firstChild,o&&r&&r.node==s&&(r.written=!0);o;)o=rm$1(o)}else if(this.flags&1)for(let s of this.children)s.flags&7&&(s.sync(e,r),s.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let s;if(e==this.dom)s=this.dom.childNodes[r];else{let a=maxOffset(e)==0?0:r==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;a==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?a=-1:a=1),e=o}a<0?s=e:s=e.nextSibling}if(s==this.dom.firstChild)return 0;for(;s&&!ContentView.get(s);)s=s.nextSibling;if(!s)return this.length;for(let a=0,o=0;;a++){let u=this.children[a];if(u.dom==s)return o;o+=u.length+u.breakAfter}}domBoundsAround(e,r,s=0){let a=-1,o=-1,u=-1,l=-1;for(let c=0,h=s,f=s;c<this.children.length;c++){let d=this.children[c],m=h+d.length;if(h<e&&m>r)return d.domBoundsAround(e,r,h);if(m>=e&&a==-1&&(a=c,o=h),h>r&&d.dom.parentNode==this.dom){u=c,l=f;break}f=m,h=m+d.breakAfter}return{from:o,to:l<0?s+this.length:l,startDOM:(a?this.children[a-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:u<this.children.length&&u>=0?this.children[u].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,s=noChildren){this.markDirty();for(let a=e;a<r;a++){let o=this.children[a];o.parent==this&&s.indexOf(o)<0&&o.destroy()}s.length<250?this.children.splice(e,r-e,...s):this.children=[].concat(this.children.slice(0,e),s,this.children.slice(r));for(let a=0;a<s.length;a++)s[a].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ChildCursor(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,s,a,o,u){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class ChildCursor{constructor(e,r,s){this.children=e,this.pos=r,this.i=s,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let s=this.children[--this.i];this.pos-=s.length+s.breakAfter}}}function replaceRange(n,e,r,s,a,o,u,l,c){let{children:h}=n,f=h.length?h[e]:null,d=o.length?o[o.length-1]:null,m=d?d.breakAfter:u;if(!(e==s&&f&&!u&&!m&&o.length<2&&f.merge(r,a,o.length?d:null,r==0,l,c))){if(s<h.length){let g=h[s];g&&(a<g.length||g.breakAfter&&(d!=null&&d.breakAfter))?(e==s&&(g=g.split(a),a=0),!m&&d&&g.merge(0,a,d,!0,0,c)?o[o.length-1]=g:((a||g.children.length&&!g.children[0].length)&&g.merge(0,a,null,!1,0,c),o.push(g))):g!=null&&g.breakAfter&&(d?d.breakAfter=1:u=1),s++}for(f&&(f.breakAfter=u,r>0&&(!u&&o.length&&f.merge(r,f.length,o[0],!1,l,0)?f.breakAfter=o.shift().breakAfter:(r<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(r,f.length,null,!1,l,0),e++));e<s&&o.length;)if(h[s-1].become(o[o.length-1]))s--,o.pop(),c=o.length?0:l;else if(h[e].become(o[0]))e++,o.shift(),l=o.length?0:c;else break;!o.length&&e&&s<h.length&&!h[e-1].breakAfter&&h[s].merge(0,0,h[e-1],!1,l,c)&&e--,(e<s||o.length)&&n.replaceChildren(e,s,o)}}function mergeChildrenInto(n,e,r,s,a,o){let u=n.childCursor(),{i:l,off:c}=u.findPos(r,1),{i:h,off:f}=u.findPos(e,-1),d=e-r;for(let m of s)d+=m.length;n.length+=d,replaceRange(n,h,f,l,c,s,0,a,o)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,s){return this.flags&8||s&&(!(s instanceof TextView)||this.length-(r-e)+s.length>MaxJoinLen||s.flags&8)?!1:(this.text=this.text.slice(0,e)+(s?s.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new TextView(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new DOMPos(this.dom,e)}domBoundsAround(e,r,s){return{from:s,to:s+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return textCoords(this.dom,e,r)}}class MarkView extends ContentView{constructor(e,r=[],s=0){super(),this.mark=e,this.children=r,this.length=s;for(let a of r)a.setParent(this)}setAttrs(e){if(clearAttributes(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,s,a,o,u){return s&&(!(s instanceof MarkView&&s.mark.eq(this.mark))||e&&o<=0||r<this.length&&u<=0)?!1:(mergeChildrenInto(this,e,r,s?s.children.slice():[],o-1,u-1),this.markDirty(),!0)}split(e){let r=[],s=0,a=-1,o=0;for(let l of this.children){let c=s+l.length;c>e&&r.push(s<e?l.split(e-s):l),a<0&&s>=e&&(a=o),s=c,o++}let u=this.length-e;return this.length=e,a>-1&&(this.children.length=a,this.markDirty()),new MarkView(this.mark,r,u)}domAtPos(e){return inlineDOMAtPos(this,e)}coordsAt(e,r){return coordsInChildren(this,e,r)}}function textCoords(n,e,r){let s=n.nodeValue.length;e>s&&(e=s);let a=e,o=e,u=0;e==0&&r<0||e==s&&r>=0?browser.chrome||browser.gecko||(e?(a--,u=1):o<s&&(o++,u=-1)):r<0?a--:o<s&&o++;let l=textRange(n,a,o).getClientRects();if(!l.length)return null;let c=l[(u?u<0:r>=0)?0:l.length-1];return browser.safari&&!u&&c.width==0&&(c=Array.prototype.find.call(l,h=>h.width)||c),u?flattenRect(c,u<0):c||null}class WidgetView extends ContentView{static create(e,r,s){return new WidgetView(e,r,s)}constructor(e,r,s){super(),this.widget=e,this.length=r,this.side=s,this.prevWidget=null}split(e){let r=WidgetView.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,r,s,a,o,u){return s&&(!(s instanceof WidgetView)||!this.widget.compare(s.widget)||e>0&&o<=0||r<this.length&&u<=0)?!1:(this.length=e+(s?s.length:0)+(this.length-r),!0)}become(e){return e instanceof WidgetView&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Text.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,s=r&&r.state.doc,a=this.posAtStart;return s?s.slice(a,a+this.length):Text.empty}domAtPos(e){return(this.length?e==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let s=this.widget.coordsAt(this.dom,e,r);if(s)return s;let a=this.dom.getClientRects(),o=null;if(!a.length)return null;let u=this.side?this.side<0:e>0;for(let l=u?a.length-1:0;o=a[l],!(e>0?l==0:l==a.length-1||o.top<o.bottom);l+=u?-1:1);return flattenRect(o,!u)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof WidgetBufferView&&e.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(n,e){let r=n.dom,{children:s}=n,a=0;for(let o=0;a<s.length;a++){let u=s[a],l=o+u.length;if(!(l==o&&u.getSide()<=0)){if(e>o&&e<l&&u.dom.parentNode==r)return u.domAtPos(e-o);if(e<=o)break;o=l}}for(let o=a;o>0;o--){let u=s[o-1];if(u.dom.parentNode==r)return u.domAtPos(u.length)}for(let o=a;o<s.length;o++){let u=s[o];if(u.dom.parentNode==r)return u.domAtPos(0)}return new DOMPos(r,0)}function joinInlineInto(n,e,r){let s,{children:a}=n;r>0&&e instanceof MarkView&&a.length&&(s=a[a.length-1])instanceof MarkView&&s.mark.eq(e.mark)?joinInlineInto(s,e.children[0],r-1):(a.push(e),e.setParent(n)),n.length+=e.length}function coordsInChildren(n,e,r){let s=null,a=-1,o=null,u=-1;function l(h,f){for(let d=0,m=0;d<h.children.length&&m<=f;d++){let g=h.children[d],O=m+g.length;O>=f&&(g.children.length?l(g,f-m):(!o||o.isHidden&&(r>0||onSameLine(o,g)))&&(O>f||m==O&&g.getSide()>0)?(o=g,u=f-m):(m<f||m==O&&g.getSide()<0&&!g.isHidden)&&(s=g,a=f-m)),m=O}}l(n,e);let c=(r<0?s:o)||s||o;return c?c.coordsAt(Math.max(0,c==s?a:u),r):fallbackRect(n)}function fallbackRect(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let r=clientRectsFor(e);return r[r.length-1]||null}function onSameLine(n,e){let r=n.coordsAt(0,1),s=e.coordsAt(0,1);return r&&s&&s.top<r.bottom}function combineAttrs(n,e){for(let r in n)r=="class"&&e.class?e.class+=" "+n.class:r=="style"&&e.style?e.style+=";"+n.style:e[r]=n[r];return e}const noAttrs$1=Object.create(null);function attrsEq(n,e,r){if(n==e)return!0;n||(n=noAttrs$1),e||(e=noAttrs$1);let s=Object.keys(n),a=Object.keys(e);if(s.length-(r&&s.indexOf(r)>-1?1:0)!=a.length-(r&&a.indexOf(r)>-1?1:0))return!1;for(let o of s)if(o!=r&&(a.indexOf(o)==-1||n[o]!==e[o]))return!1;return!0}function updateAttrs(n,e,r){let s=!1;if(e)for(let a in e)r&&a in r||(s=!0,a=="style"?n.style.cssText="":n.removeAttribute(a));if(r)for(let a in r)e&&e[a]==r[a]||(s=!0,a=="style"?n.style.cssText=r[a]:n.setAttribute(a,r[a]));return s}function getAttrs(n){let e=Object.create(null);for(let r=0;r<n.attributes.length;r++){let s=n.attributes[r];e[s.name]=s.value}return e}class WidgetType{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,s){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var BlockType=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(e,r,s,a){super(),this.startSide=e,this.endSide=r,this.widget=s,this.spec=a}get heightRelevant(){return!1}static mark(e){return new MarkDecoration(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),s=!!e.block;return r+=s&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new PointDecoration(e,r,r,s,e.widget||null,!1)}static replace(e){let r=!!e.block,s,a;if(e.isBlockGap)s=-5e8,a=4e8;else{let{start:o,end:u}=getInclusive(e,r);s=(o?r?-3e8:-1:5e8)-1,a=(u?r?2e8:1:-6e8)+1}return new PointDecoration(e,s,a,r,e.widget||null,!0)}static line(e){return new LineDecoration(e)}static set(e,r=!1){return RangeSet.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(e){let{start:r,end:s}=getInclusive(e);super(r?-1:5e8,s?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,s;return this==e||e instanceof MarkDecoration&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((s=e.attrs)===null||s===void 0?void 0:s.class))&&attrsEq(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof LineDecoration&&this.spec.class==e.spec.class&&attrsEq(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(e,r,s,a,o,u){super(r,s,o,e),this.block=a,this.isReplace=u,this.mapMode=a?r<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof PointDecoration&&widgetsEq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}PointDecoration.prototype.point=!0;function getInclusive(n,e=!1){let{inclusiveStart:r,inclusiveEnd:s}=n;return r==null&&(r=n.inclusive),s==null&&(s=n.inclusive),{start:r??e,end:s??e}}function widgetsEq(n,e){return n==e||!!(n&&e&&n.compare(e))}function addRange(n,e,r,s=0){let a=r.length-1;a>=0&&r[a]+s>=n?r[a]=Math.max(r[a],e):r.push(n,e)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,s,a,o,u){if(s){if(!(s instanceof LineView))return!1;this.dom||s.transferDOM(this)}return a&&this.setDeco(s?s.attrs:null),mergeChildrenInto(this,e,r,s?s.children.slice():[],o,u),!0}split(e){let r=new LineView;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:s,off:a}=this.childPos(e);a&&(r.append(this.children[s].split(a),0),this.children[s].merge(a,this.children[s].length,null,!1,0,0),s++);for(let o=s;o<this.children.length;o++)r.append(this.children[o],0);for(;s>0&&this.children[s-1].length==0;)this.children[--s].destroy();return this.children.length=s,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){attrsEq(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){joinInlineInto(this,e,r)}addLineDeco(e){let r=e.spec.attributes,s=e.spec.class;r&&(this.attrs=combineAttrs(r,this.attrs||{})),s&&(this.attrs=combineAttrs({class:s},this.attrs||{}))}domAtPos(e){return inlineDOMAtPos(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var s;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let a=this.dom.lastChild;for(;a&&ContentView.get(a)instanceof MarkView;)a=a.lastChild;if(!a||!this.length||a.nodeName!="BR"&&((s=ContentView.get(a))===null||s===void 0?void 0:s.isEditable)==!1&&(!browser.ios||!this.children.some(o=>o instanceof TextView))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let s of this.children){if(!(s instanceof TextView)||/[^ -~]/.test(s.text))return null;let a=clientRectsFor(s.dom);if(a.length!=1)return null;e+=a[0].width,r=a[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let s=coordsInChildren(this,e,r);if(!this.children.length&&s&&this.parent){let{heightOracle:a}=this.parent.view.viewState,o=s.bottom-s.top;if(Math.abs(o-a.lineHeight)<2&&a.textHeight<o){let u=(o-a.textHeight)/2;return{top:s.top+u,bottom:s.bottom-u,left:s.left,right:s.left}}}return s}become(e){return e instanceof LineView&&this.children.length==0&&e.children.length==0&&attrsEq(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,r){for(let s=0,a=0;s<e.children.length;s++){let o=e.children[s],u=a+o.length;if(u>=r){if(o instanceof LineView)return o;if(u>r)break}a=u+o.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(e,r,s){super(),this.widget=e,this.length=r,this.deco=s,this.breakAfter=0,this.prevWidget=null}merge(e,r,s,a,o,u){return s&&(!(s instanceof BlockWidgetView)||!this.widget.compare(s.widget)||e>0&&o<=0||r<this.length&&u<=0)?!1:(this.length=e+(s?s.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let s=new BlockWidgetView(this.widget,r,this.deco);return s.breakAfter=this.breakAfter,s}get children(){return noChildren}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(e){return e instanceof BlockWidgetView&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){let s=this.widget.coordsAt(this.dom,e,r);return s||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?e==0:r<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:s}=this.deco;return r==s?!1:e<0?r<0:s>0}}class BlockGapWidget extends WidgetType{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ContentBuilder{constructor(e,r,s,a){this.doc=e,this.pos=r,this.end=s,this.disallowBlockEffectsFor=a,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof BlockWidgetView&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(e,r,s){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:u,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(u){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let a=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-s)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+a)),r),s),this.atCursorPos=!0,this.textOff+=a,e-=a,s=0}}span(e,r,s,a){this.buildText(r-e,s,a),this.pos=r,this.openStart<0&&(this.openStart=a)}point(e,r,s,a,o,u){if(this.disallowBlockEffectsFor[u]&&s instanceof PointDecoration){if(s.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=r-e;if(s instanceof PointDecoration)if(s.block)s.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(s.widget||NullWidget.block,l,s));else{let c=WidgetView.create(s.widget||NullWidget.inline,l,l?0:s.startSide),h=this.atCursorPos&&!c.isEditable&&o<=a.length&&(e<r||s.startSide>0),f=!c.isEditable&&(e<r||o>a.length||s.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!h&&!c.isEditable&&(this.pendingBuffer=0),this.flushBuffer(a),h&&(d.append(wrapMarks(new WidgetBufferView(1),a),o),o=a.length+Math.max(0,o-a.length)),d.append(wrapMarks(c,a),o),this.atCursorPos=f,this.pendingBuffer=f?e<r||o>a.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=a.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(s);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=o)}static build(e,r,s,a,o){let u=new ContentBuilder(e,r,s,o);return u.openEnd=RangeSet.spans(a,r,s,u),u.openStart<0&&(u.openStart=u.openEnd),u.finish(u.openEnd),u}}function wrapMarks(n,e){for(let r of e)n=new MarkView(r,[n],n.length);return n}class NullWidget extends WidgetType{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(n){let e=[];for(let r=0;r<n.length;r++)e.push(1<<+n[r]);return e}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),r=n.charCodeAt(1);Brackets[e]=r,Brackets[r]=-e}function charType(n){return n<=247?LowTypes[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?ArabicTypes[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(e,r,s){this.from=e,this.to=r,this.level=s}side(e,r){return this.dir==r==e?this.to:this.from}forward(e,r){return e==(this.dir==r)}static find(e,r,s,a){let o=-1;for(let u=0;u<e.length;u++){let l=e[u];if(l.from<=r&&l.to>=r){if(l.level==s)return u;(o<0||(a!=0?a<0?l.from<r:l.to>r:e[o].level>l.level))&&(o=u)}}if(o<0)throw new RangeError("Index out of range");return o}}function isolatesEq(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++){let s=n[r],a=e[r];if(s.from!=a.from||s.to!=a.to||s.direction!=a.direction||!isolatesEq(s.inner,a.inner))return!1}return!0}const types=[];function computeCharTypes(n,e,r,s,a){for(let o=0;o<=s.length;o++){let u=o?s[o-1].to:e,l=o<s.length?s[o].from:r,c=o?256:a;for(let h=u,f=c,d=c;h<l;h++){let m=charType(n.charCodeAt(h));m==512?m=f:m==8&&d==4&&(m=16),types[h]=m==4?2:m,m&7&&(d=m),f=m}for(let h=u,f=c,d=c;h<l;h++){let m=types[h];if(m==128)h<l-1&&f==types[h+1]&&f&24?m=types[h]=f:types[h]=256;else if(m==64){let g=h+1;for(;g<l&&types[g]==64;)g++;let O=h&&f==8||g<r&&types[g]==8?d==1?1:8:256;for(let E=h;E<g;E++)types[E]=O;h=g-1}else m==8&&d==1&&(types[h]=1);f=m,m&7&&(d=m)}}}function processBracketPairs(n,e,r,s,a){let o=a==1?2:1;for(let u=0,l=0,c=0;u<=s.length;u++){let h=u?s[u-1].to:e,f=u<s.length?s[u].from:r;for(let d=h,m,g,O;d<f;d++)if(g=Brackets[m=n.charCodeAt(d)])if(g<0){for(let E=l-3;E>=0;E-=3)if(BracketStack[E+1]==-g){let D=BracketStack[E+2],A=D&2?a:D&4?D&1?o:a:0;A&&(types[d]=types[BracketStack[E]]=A),l=E;break}}else{if(BracketStack.length==189)break;BracketStack[l++]=d,BracketStack[l++]=m,BracketStack[l++]=c}else if((O=types[d])==2||O==1){let E=O==a;c=E?0:1;for(let D=l-3;D>=0;D-=3){let A=BracketStack[D+2];if(A&2)break;if(E)BracketStack[D+2]|=2;else{if(A&4)break;BracketStack[D+2]|=4}}}}}function processNeutrals(n,e,r,s){for(let a=0,o=s;a<=r.length;a++){let u=a?r[a-1].to:n,l=a<r.length?r[a].from:e;for(let c=u;c<l;){let h=types[c];if(h==256){let f=c+1;for(;;)if(f==l){if(a==r.length)break;f=r[a++].to,l=a<r.length?r[a].from:e}else if(types[f]==256)f++;else break;let d=o==1,m=(f<e?types[f]:s)==1,g=d==m?d?1:2:s;for(let O=f,E=a,D=E?r[E-1].to:n;O>c;)O==D&&(O=r[--E].from,D=E?r[E-1].to:n),types[--O]=g;c=f}else o=h,c++}}}function emitSpans(n,e,r,s,a,o,u){let l=s%2?2:1;if(s%2==a%2)for(let c=e,h=0;c<r;){let f=!0,d=!1;if(h==o.length||c<o[h].from){let E=types[c];E!=l&&(f=!1,d=E==16)}let m=!f&&l==1?[]:null,g=f?s:s+1,O=c;e:for(;;)if(h<o.length&&O==o[h].from){if(d)break e;let E=o[h];if(!f)for(let D=E.to,A=h+1;;){if(D==r)break e;if(A<o.length&&o[A].from==D)D=o[A++].to;else{if(types[D]==l)break e;break}}if(h++,m)m.push(E);else{E.from>c&&u.push(new BidiSpan(c,E.from,g));let D=E.direction==LTR!=!(g%2);computeSectionOrder(n,D?s+1:s,a,E.inner,E.from,E.to,u),c=E.to}O=E.to}else{if(O==r||(f?types[O]!=l:types[O]==l))break;O++}m?emitSpans(n,c,O,s+1,a,m,u):c<O&&u.push(new BidiSpan(c,O,g)),c=O}else for(let c=r,h=o.length;c>e;){let f=!0,d=!1;if(!h||c>o[h-1].to){let E=types[c-1];E!=l&&(f=!1,d=E==16)}let m=!f&&l==1?[]:null,g=f?s:s+1,O=c;e:for(;;)if(h&&O==o[h-1].to){if(d)break e;let E=o[--h];if(!f)for(let D=E.from,A=h;;){if(D==e)break e;if(A&&o[A-1].to==D)D=o[--A].from;else{if(types[D-1]==l)break e;break}}if(m)m.push(E);else{E.to<c&&u.push(new BidiSpan(E.to,c,g));let D=E.direction==LTR!=!(g%2);computeSectionOrder(n,D?s+1:s,a,E.inner,E.from,E.to,u),c=E.from}O=E.from}else{if(O==e||(f?types[O-1]!=l:types[O-1]==l))break;O--}m?emitSpans(n,O,c,s+1,a,m,u):O<c&&u.push(new BidiSpan(O,c,g)),c=O}}function computeSectionOrder(n,e,r,s,a,o,u){let l=e%2?2:1;computeCharTypes(n,a,o,s,l),processBracketPairs(n,a,o,s,l),processNeutrals(a,o,s,l),emitSpans(n,a,o,e,r,s,u)}function computeOrder(n,e,r){if(!n)return[new BidiSpan(0,0,e==RTL?1:0)];if(e==LTR&&!r.length&&!BidiRE.test(n))return trivialOrder(n.length);if(r.length)for(;n.length>types.length;)types[types.length]=256;let s=[],a=e==LTR?0:1;return computeSectionOrder(n,a,a,r,0,n.length,s),s}function trivialOrder(n){return[new BidiSpan(0,n,0)]}let movedOver="";function moveVisually(n,e,r,s,a){var o;let u=s.head-n.from,l=BidiSpan.find(e,u,(o=s.bidiLevel)!==null&&o!==void 0?o:-1,s.assoc),c=e[l],h=c.side(a,r);if(u==h){let m=l+=a?1:-1;if(m<0||m>=e.length)return null;c=e[l=m],u=c.side(!a,r),h=c.side(a,r)}let f=findClusterBreak(n.text,u,c.forward(a,r));(f<c.from||f>c.to)&&(f=h),movedOver=n.text.slice(Math.min(u,f),Math.max(u,f));let d=l==(a?e.length-1:0)?null:e[l+(a?1:-1)];return d&&f==h&&d.level+(a?0:1)<c.level?EditorSelection.cursor(d.side(!a,r)+n.from,d.forward(a,r)?1:-1,d.level):EditorSelection.cursor(f+n.from,c.forward(a,r)?-1:1,c.level)}function autoDirection(n,e,r){for(let s=e;s<r;s++){let a=charType(n.charCodeAt(s));if(a==1)return LTR;if(a==2||a==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:n=>n.some(e=>e)}),nativeSelectionHidden=Facet.define({combine:n=>n.some(e=>e)}),scrollHandler=Facet.define();class ScrollTarget{constructor(e,r="nearest",s="nearest",a=5,o=5,u=!1){this.range=e,this.y=r,this.x=s,this.yMargin=a,this.xMargin=o,this.isSnapshot=u}map(e){return e.empty?this:new ScrollTarget(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ScrollTarget(EditorSelection.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(n,e)=>n.map(e)}),setEditContextFormatting=StateEffect.define();function logException(n,e,r){let s=n.facet(exceptionSink);s.length?s[0](e):window.onerror&&window.onerror(String(e),r,void 0,void 0,e)||(r?console.error(r+":",e):console.error(e))}const editable=Facet.define({combine:n=>n.length?n[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define({combine(n){return n.filter((e,r)=>{for(let s=0;s<r;s++)if(n[s].plugin==e.plugin)return!1;return!0})}});class ViewPlugin{constructor(e,r,s,a,o){this.id=e,this.create=r,this.domEventHandlers=s,this.domEventObservers=a,this.baseExtensions=o(this),this.extension=this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:e}))}static define(e,r){const{eventHandlers:s,eventObservers:a,provide:o,decorations:u}=r||{};return new ViewPlugin(nextPluginID++,e,s,a,l=>{let c=[];return u&&c.push(decorations.of(h=>{let f=h.plugin(l);return f?u(f):Decoration.none})),o&&c.push(o(l)),c})}static fromClass(e,r){return ViewPlugin.define((s,a)=>new e(s,a),r)}}class PluginInstance{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(s){if(logException(r.state,s,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(r){logException(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(s){logException(e.state,s,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(n,e){let r=n.state.facet(bidiIsolatedRanges);if(!r.length)return r;let s=r.map(o=>o instanceof Function?o(n):o),a=[];return RangeSet.spans(s,e.from,e.to,{point(){},span(o,u,l,c){let h=o-e.from,f=u-e.from,d=a;for(let m=l.length-1;m>=0;m--,c--){let g=l[m].spec.bidiIsolate,O;if(g==null&&(g=autoDirection(e.text,h,f)),c>0&&d.length&&(O=d[d.length-1]).to==h&&O.direction==g)O.to=f,d=O.inner;else{let E={from:h,to:f,direction:g,inner:[]};d.push(E),d=E.inner}}}}),a}const scrollMargins=Facet.define();function getScrollMargins(n){let e=0,r=0,s=0,a=0;for(let o of n.state.facet(scrollMargins)){let u=o(n);u&&(u.left!=null&&(e=Math.max(e,u.left)),u.right!=null&&(r=Math.max(r,u.right)),u.top!=null&&(s=Math.max(s,u.top)),u.bottom!=null&&(a=Math.max(a,u.bottom)))}return{left:e,right:r,top:s,bottom:a}}const styleModule=Facet.define();class ChangedRange{constructor(e,r,s,a){this.fromA=e,this.toA=r,this.fromB=s,this.toB=a}join(e){return new ChangedRange(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,s=this;for(;r>0;r--){let a=e[r-1];if(!(a.fromA>s.toA)){if(a.toA<s.fromA)break;s=s.join(a),e.splice(r-1,1)}}return e.splice(r,0,s),e}static extendWithRanges(e,r){if(r.length==0)return e;let s=[];for(let a=0,o=0,u=0,l=0;;a++){let c=a==e.length?null:e[a],h=u-l,f=c?c.fromB:1e9;for(;o<r.length&&r[o]<f;){let d=r[o],m=r[o+1],g=Math.max(l,d),O=Math.min(f,m);if(g<=O&&new ChangedRange(g+h,O+h,g,O).addToSet(s),m>f)break;o+=2}if(!c)return s;new ChangedRange(c.fromA,c.toA,c.fromB,c.toB).addToSet(s),u=c.toA,l=c.toB}}}class ViewUpdate{constructor(e,r,s){this.view=e,this.state=r,this.transactions=s,this.flags=0,this.startState=e.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let o of s)this.changes=this.changes.compose(o.changes);let a=[];this.changes.iterChangedRanges((o,u,l,c)=>a.push(new ChangedRange(o,u,l,c))),this.changedRanges=a}static create(e,r,s){return new ViewUpdate(e,r,s)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let s=e.changedRanges;this.minWidth>0&&s.length&&(s.every(({fromA:h,toA:f})=>f<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let a=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?a=this.domChanged.newSel.head:!touchesComposition(e.changes,this.hasComposition)&&!e.selectionSet&&(a=e.state.selection.main.head));let o=a>-1?findCompositionRange(this.view,e.changes,a):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:f}=this.hasComposition;s=new ChangedRange(h,f,e.changes.mapPos(h,-1),e.changes.mapPos(f,1)).addToSet(s.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(browser.ie||browser.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let u=this.decorations,l=this.updateDeco(),c=findChangedDeco(u,l,e.changes);return s=ChangedRange.extendWithRanges(s,c),!(this.flags&7)&&s.length==0?!1:(this.updateInner(s,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,s){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,s);let{observer:a}=this.view;a.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let u=browser.chrome||browser.ios?{node:a.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,u),this.flags&=-8,u&&(u.written||a.selectionRange.focusNode!=u.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(u=>u.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let u of this.children)u instanceof BlockWidgetView&&u.widget instanceof BlockGapWidget&&o.push(u.dom);a.updateGaps(o)}updateChildren(e,r,s){let a=s?s.range.addToSet(e.slice()):e,o=this.childCursor(r);for(let u=a.length-1;;u--){let l=u>=0?a[u]:null;if(!l)break;let{fromA:c,toA:h,fromB:f,toB:d}=l,m,g,O,E;if(s&&s.range.fromB<d&&s.range.toB>f){let $=ContentBuilder.build(this.view.state.doc,f,s.range.fromB,this.decorations,this.dynamicDecorationMap),x=ContentBuilder.build(this.view.state.doc,s.range.toB,d,this.decorations,this.dynamicDecorationMap);g=$.breakAtStart,O=$.openStart,E=x.openEnd;let w=this.compositionView(s);x.breakAtStart?w.breakAfter=1:x.content.length&&w.merge(w.length,w.length,x.content[0],!1,x.openStart,0)&&(w.breakAfter=x.content[0].breakAfter,x.content.shift()),$.content.length&&w.merge(0,0,$.content[$.content.length-1],!0,0,$.openEnd)&&$.content.pop(),m=$.content.concat(w).concat(x.content)}else({content:m,breakAtStart:g,openStart:O,openEnd:E}=ContentBuilder.build(this.view.state.doc,f,d,this.decorations,this.dynamicDecorationMap));let{i:D,off:A}=o.findPos(h,1),{i:S,off:B}=o.findPos(c,-1);replaceRange(this,S,B,D,A,m,g,O,E)}s&&this.fixCompositionDOM(s)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let r of e.transactions)for(let s of r.effects)s.is(setEditContextFormatting)&&(this.editContextFormatting=s.value)}compositionView(e){let r=new TextView(e.text.nodeValue);r.flags|=8;for(let{deco:a}of e.marks)r=new MarkView(a,[r],r.length);let s=new LineView;return s.append(r,0),s}fixCompositionDOM(e){let r=(o,u)=>{u.flags|=8|(u.children.some(c=>c.flags&7)?1:0),this.markedForComposition.add(u);let l=ContentView.get(o);l&&l!=u&&(l.dom=null),u.setDOM(o)},s=this.childPos(e.range.fromB,1),a=this.children[s.i];r(e.line,a);for(let o=e.marks.length-1;o>=-1;o--)s=a.childPos(s.off,1),a=a.children[s.i],r(o>=0?e.marks[o].node:e.text,a)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let s=this.view.root.activeElement,a=s==this.dom,o=!a&&!(this.view.state.facet(editable)||this.dom.tabIndex>-1)&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(s&&this.dom.contains(s));if(!(a||r||o))return;let u=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,c=this.moveToLine(this.domAtPos(l.anchor)),h=l.empty?c:this.moveToLine(this.domAtPos(l.head));if(browser.gecko&&l.empty&&!this.hasComposition&&betweenUneditable(c)){let d=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(d,c.node.childNodes[c.offset]||null)),c=h=new DOMPos(d,0),u=!0}let f=this.view.observer.selectionRange;(u||!f.focusNode||(!isEquivalentPosition(c.node,c.offset,f.anchorNode,f.anchorOffset)||!isEquivalentPosition(h.node,h.offset,f.focusNode,f.focusOffset))&&!this.suppressWidgetCursorChange(f,l))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(f.focusNode)&&inUneditable(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=getSelection(this.view.root);if(d)if(l.empty){if(browser.gecko){let m=nextToUneditable(c.node,c.offset);if(m&&m!=3){let g=(m==1?textNodeBefore:textNodeAfter)(c.node,c.offset);g&&(c=new DOMPos(g.node,g.offset))}}d.collapse(c.node,c.offset),l.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=l.bidiLevel)}else if(d.extend){d.collapse(c.node,c.offset);try{d.extend(h.node,h.offset)}catch{}}else{let m=document.createRange();l.anchor>l.head&&([c,h]=[h,c]),m.setEnd(h.node,h.offset),m.setStart(c.node,c.offset),d.removeAllRanges(),d.addRange(m)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),s&&s.focus())}),this.view.observer.setSelectionRange(c,h)),this.impreciseAnchor=c.precise?null:new DOMPos(f.anchorNode,f.anchorOffset),this.impreciseHead=h.precise?null:new DOMPos(f.focusNode,f.focusOffset)}suppressWidgetCursorChange(e,r){return this.hasComposition&&r.empty&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==r.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,s=getSelection(e.root),{anchorNode:a,anchorOffset:o}=e.observer.selectionRange;if(!s||!r.empty||!r.assoc||!s.modify)return;let u=LineView.find(this,r.head);if(!u)return;let l=u.posAtStart;if(r.head==l||r.head==l+u.length)return;let c=this.coordsAt(r.head,-1),h=this.coordsAt(r.head,1);if(!c||!h||c.bottom>h.top)return;let f=this.domAtPos(r.head+r.assoc);s.collapse(f.node,f.offset),s.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=r.from&&s.collapse(a,o)}moveToLine(e){let r=this.dom,s;if(e.node!=r)return e;for(let a=e.offset;!s&&a<r.childNodes.length;a++){let o=ContentView.get(r.childNodes[a]);o instanceof LineView&&(s=o.domAtPos(0))}for(let a=e.offset-1;!s&&a>=0;a--){let o=ContentView.get(r.childNodes[a]);o instanceof LineView&&(s=o.domAtPos(o.length))}return s?new DOMPos(s.node,s.offset,!0):e}nearest(e){for(let r=e;r;){let s=ContentView.get(r);if(s&&s.rootView==this)return s;r=r.parentNode}return null}posFromDOM(e,r){let s=this.nearest(e);if(!s)throw new RangeError("Trying to find position for a DOM position outside of the document");return s.localPosFromDOM(e,r)+s.posAtStart}domAtPos(e){let{i:r,off:s}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let a=this.children[r];if(s<a.length||a instanceof LineView)break;r++,s=0}return this.children[r].domAtPos(s)}coordsAt(e,r){let s=null,a=0;for(let o=this.length,u=this.children.length-1;u>=0;u--){let l=this.children[u],c=o-l.breakAfter,h=c-l.length;if(c<e)break;if(h<=e&&(h<e||l.covers(-1))&&(c>e||l.covers(1))&&(!s||l instanceof LineView&&!(s instanceof LineView&&r>=0)))s=l,a=h;else if(s&&h==e&&c==e&&l instanceof BlockWidgetView&&Math.abs(r)<2){if(l.deco.startSide<0)break;u&&(s=null)}o=h}return s?s.coordsAt(e-a,r):null}coordsForChar(e){let{i:r,off:s}=this.childPos(e,1),a=this.children[r];if(!(a instanceof LineView))return null;for(;a.children.length;){let{i:l,off:c}=a.childPos(s,1);for(;;l++){if(l==a.children.length)return null;if((a=a.children[l]).length)break}s=c}if(!(a instanceof TextView))return null;let o=findClusterBreak(a.text,s);if(o==s)return null;let u=textRange(a.dom,s,o).getClientRects();for(let l=0;l<u.length;l++){let c=u[l];if(l==u.length-1||c.top<c.bottom&&c.left<c.right)return c}return null}measureVisibleLineHeights(e){let r=[],{from:s,to:a}=e,o=this.view.contentDOM.clientWidth,u=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,c=this.view.textDirection==Direction.LTR;for(let h=0,f=0;f<this.children.length;f++){let d=this.children[f],m=h+d.length;if(m>a)break;if(h>=s){let g=d.dom.getBoundingClientRect();if(r.push(g.height),u){let O=d.dom.lastChild,E=O?clientRectsFor(O):[];if(E.length){let D=E[E.length-1],A=c?D.right-g.left:g.right-D.left;A>l&&(l=A,this.minWidth=o,this.minWidthFrom=h,this.minWidthTo=m)}}}h=m+d.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let o of this.children)if(o instanceof LineView){let u=o.measureTextSize();if(u)return u}let e=document.createElement("div"),r,s,a;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=clientRectsFor(e.firstChild)[0];r=e.getBoundingClientRect().height,s=o?o.width/27:7,a=o?o.height:r,e.remove()}),{lineHeight:r,charWidth:s,textHeight:a}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new ChildCursor(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let s=0,a=0;;a++){let o=a==r.viewports.length?null:r.viewports[a],u=o?o.from-1:this.length;if(u>s){let l=(r.lineBlockAt(u).bottom-r.lineBlockAt(s).top)/this.view.scaleY;e.push(Decoration.replace({widget:new BlockGapWidget(l),block:!0,inclusive:!0,isBlockGap:!0}).range(s,u))}if(!o)break;s=o.to+1}return Decoration.set(e)}updateDeco(){let e=1,r=this.view.state.facet(decorations).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),s=!1,a=this.view.state.facet(outerDecorations).map((o,u)=>{let l=typeof o=="function";return l&&(s=!0),l?o(this.view):o});for(a.length&&(this.dynamicDecorationMap[e++]=s,r.push(RangeSet.join(a))),this.decorations=[this.editContextFormatting,...r,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(scrollHandler))try{if(h(this.view,e.range,e))return!0}catch(f){logException(this.view.state,f,"scroll handler")}let{range:r}=e,s=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),a;if(!s)return;!r.empty&&(a=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(s={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top),right:Math.max(s.right,a.right),bottom:Math.max(s.bottom,a.bottom)});let o=getScrollMargins(this.view),u={left:s.left-o.left,top:s.top-o.top,right:s.right+o.right,bottom:s.bottom+o.bottom},{offsetWidth:l,offsetHeight:c}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,u,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==Direction.LTR)}}function betweenUneditable(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function findCompositionNode(n,e){let r=n.observer.selectionRange;if(!r.focusNode)return null;let s=textNodeBefore(r.focusNode,r.focusOffset),a=textNodeAfter(r.focusNode,r.focusOffset),o=s||a;if(a&&s&&a.node!=s.node){let l=ContentView.get(a.node);if(!l||l instanceof TextView&&l.text!=a.node.nodeValue)o=a;else if(n.docView.lastCompositionAfterCursor){let c=ContentView.get(s.node);!c||c instanceof TextView&&c.text!=s.node.nodeValue||(o=a)}}if(n.docView.lastCompositionAfterCursor=o!=s,!o)return null;let u=e-o.offset;return{from:u,to:u+o.node.nodeValue.length,node:o.node}}function findCompositionRange(n,e,r){let s=findCompositionNode(n,r);if(!s)return null;let{node:a,from:o,to:u}=s,l=a.nodeValue;if(/[\n\r]/.test(l)||n.state.doc.sliceString(s.from,s.to)!=l)return null;let c=e.invertedDesc,h=new ChangedRange(c.mapPos(o),c.mapPos(u),o,u),f=[];for(let d=a.parentNode;;d=d.parentNode){let m=ContentView.get(d);if(m instanceof MarkView)f.push({node:d,deco:m.mark});else{if(m instanceof LineView||d.nodeName=="DIV"&&d.parentNode==n.contentDOM)return{range:h,text:a,marks:f,line:d};if(d!=n.contentDOM)f.push({node:d,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs(d),tagName:d.tagName.toLowerCase()})});else return null}}}function nextToUneditable(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(e,r){addRange(e,r,this.changes)}comparePoint(e,r){addRange(e,r,this.changes)}boundChange(e){addRange(e,e,this.changes)}};function findChangedDeco(n,e,r){let s=new DecorationComparator$1;return RangeSet.compare(n,e,r,s),s.changes}function inUneditable(n,e){for(let r=n;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function touchesComposition(n,e){let r=!1;return e&&n.iterChangedRanges((s,a)=>{s<e.to&&a>e.from&&(r=!0)}),r}function groupAt(n,e,r=1){let s=n.charCategorizer(e),a=n.doc.lineAt(e),o=e-a.from;if(a.length==0)return EditorSelection.cursor(e);o==0?r=1:o==a.length&&(r=-1);let u=o,l=o;r<0?u=findClusterBreak(a.text,o,!1):l=findClusterBreak(a.text,o);let c=s(a.text.slice(u,l));for(;u>0;){let h=findClusterBreak(a.text,u,!1);if(s(a.text.slice(h,u))!=c)break;u=h}for(;l<a.length;){let h=findClusterBreak(a.text,l);if(s(a.text.slice(l,h))!=c)break;l=h}return EditorSelection.range(u+a.from,l+a.from)}function getdx(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function getdy(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function yOverlap(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function upTop(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function upBot(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function domPosAtCoords(n,e,r){let s,a,o,u,l=!1,c,h,f,d;for(let O=n.firstChild;O;O=O.nextSibling){let E=clientRectsFor(O);for(let D=0;D<E.length;D++){let A=E[D];a&&yOverlap(a,A)&&(A=upTop(upBot(A,a.bottom),a.top));let S=getdx(e,A),B=getdy(r,A);if(S==0&&B==0)return O.nodeType==3?domPosInText(O,e,r):domPosAtCoords(O,e,r);(!s||u>B||u==B&&o>S)&&(s=O,a=A,o=S,u=B,l=S?e<A.left?D>0:D<E.length-1:!0),S==0?r>A.bottom&&(!f||f.bottom<A.bottom)?(c=O,f=A):r<A.top&&(!d||d.top>A.top)&&(h=O,d=A):f&&yOverlap(f,A)?f=upBot(f,A.bottom):d&&yOverlap(d,A)&&(d=upTop(d,A.top))}}if(f&&f.bottom>=r?(s=c,a=f):d&&d.top<=r&&(s=h,a=d),!s)return{node:n,offset:0};let m=Math.max(a.left,Math.min(a.right,e));if(s.nodeType==3)return domPosInText(s,m,r);if(l&&s.contentEditable!="false")return domPosAtCoords(s,m,r);let g=Array.prototype.indexOf.call(n.childNodes,s)+(e>=(a.left+a.right)/2?1:0);return{node:n,offset:g}}function domPosInText(n,e,r){let s=n.nodeValue.length,a=-1,o=1e9,u=0;for(let l=0;l<s;l++){let c=textRange(n,l,l+1).getClientRects();for(let h=0;h<c.length;h++){let f=c[h];if(f.top==f.bottom)continue;u||(u=e-f.left);let d=(f.top>r?f.top-r:r-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&d<o){let m=e>=(f.left+f.right)/2,g=m;if((browser.chrome||browser.gecko)&&textRange(n,l).getBoundingClientRect().left==f.right&&(g=!m),d<=0)return{node:n,offset:l+(g?1:0)};a=l+(g?1:0),o=d}}}return{node:n,offset:a>-1?a:u>0?n.nodeValue.length:0}}function posAtCoords(n,e,r,s=-1){var a,o;let u=n.contentDOM.getBoundingClientRect(),l=u.top+n.viewState.paddingTop,c,{docHeight:h}=n.viewState,{x:f,y:d}=e,m=d-l;if(m<0)return 0;if(m>h)return n.state.doc.length;for(let $=n.viewState.heightOracle.textHeight/2,x=!1;c=n.elementAtHeight(m),c.type!=BlockType.Text;)for(;m=s>0?c.bottom+$:c.top-$,!(m>=0&&m<=h);){if(x)return r?null:0;x=!0,s=-s}d=l+m;let g=c.from;if(g<n.viewport.from)return n.viewport.from==0?0:r?null:posAtCoordsImprecise(n,u,c,f,d);if(g>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:r?null:posAtCoordsImprecise(n,u,c,f,d);let O=n.dom.ownerDocument,E=n.root.elementFromPoint?n.root:O,D=E.elementFromPoint(f,d);D&&!n.contentDOM.contains(D)&&(D=null),D||(f=Math.max(u.left+1,Math.min(u.right-1,f)),D=E.elementFromPoint(f,d),D&&!n.contentDOM.contains(D)&&(D=null));let A,S=-1;if(D&&((a=n.docView.nearest(D))===null||a===void 0?void 0:a.isEditable)!=!1){if(O.caretPositionFromPoint){let $=O.caretPositionFromPoint(f,d);$&&({offsetNode:A,offset:S}=$)}else if(O.caretRangeFromPoint){let $=O.caretRangeFromPoint(f,d);$&&({startContainer:A,startOffset:S}=$,(!n.contentDOM.contains(A)||browser.safari&&isSuspiciousSafariCaretResult(A,S,f)||browser.chrome&&isSuspiciousChromeCaretResult(A,S,f))&&(A=void 0))}A&&(S=Math.min(maxOffset(A),S))}if(!A||!n.docView.dom.contains(A)){let $=LineView.find(n.docView,g);if(!$)return m>c.top+c.height/2?c.to:c.from;({node:A,offset:S}=domPosAtCoords($.dom,f,d))}let B=n.docView.nearest(A);if(!B)return null;if(B.isWidget&&((o=B.dom)===null||o===void 0?void 0:o.nodeType)==1){let $=B.dom.getBoundingClientRect();return e.y<$.top||e.y<=$.bottom&&e.x<=($.left+$.right)/2?B.posAtStart:B.posAtEnd}else return B.localPosFromDOM(A,S)+B.posAtStart}function posAtCoordsImprecise(n,e,r,s,a){let o=Math.round((s-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&r.height>n.defaultLineHeight*1.5){let l=n.viewState.heightOracle.textHeight,c=Math.floor((a-r.top-(n.defaultLineHeight-l)*.5)/l);o+=c*n.viewState.heightOracle.lineLength}let u=n.state.sliceDoc(r.from,r.to);return r.from+findColumn(u,o,n.state.tabSize)}function isSuspiciousSafariCaretResult(n,e,r){let s,a=n;if(n.nodeType!=3||e!=(s=n.nodeValue.length))return!1;for(;;){let o=a.nextSibling;if(o){if(o.nodeName=="BR")break;return!1}else{let u=a.parentNode;if(!u||u.nodeName=="DIV")break;a=u}}return textRange(n,s-1,s).getBoundingClientRect().right>r}function isSuspiciousChromeCaretResult(n,e,r){if(e!=0)return!1;for(let a=n;;){let o=a.parentNode;if(!o||o.nodeType!=1||o.firstChild!=a)return!1;if(o.classList.contains("cm-line"))break;a=o}let s=n.nodeType==1?n.getBoundingClientRect():textRange(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return r-s.left>5}function blockAt(n,e,r){let s=n.lineBlockAt(e);if(Array.isArray(s.type)){let a;for(let o of s.type){if(o.from>e)break;if(!(o.to<e)){if(o.from<e&&o.to>e)return o;(!a||o.type==BlockType.Text&&(a.type!=o.type||(r<0?o.from<e:o.to>e)))&&(a=o)}}return a||s}return s}function moveToLineBoundary(n,e,r,s){let a=blockAt(n,e.head,e.assoc||-1),o=!s||a.type!=BlockType.Text||!(n.lineWrapping||a.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>a.from?e.head-1:e.head);if(o){let u=n.dom.getBoundingClientRect(),l=n.textDirectionAt(a.from),c=n.posAtCoords({x:r==(l==Direction.LTR)?u.right-1:u.left+1,y:(o.top+o.bottom)/2});if(c!=null)return EditorSelection.cursor(c,r?-1:1)}return EditorSelection.cursor(r?a.to:a.from,r?-1:1)}function moveByChar(n,e,r,s){let a=n.state.doc.lineAt(e.head),o=n.bidiSpans(a),u=n.textDirectionAt(a.from);for(let l=e,c=null;;){let h=moveVisually(a,o,u,l,r),f=movedOver;if(!h){if(a.number==(r?n.state.doc.lines:1))return l;f=`
`,a=n.state.doc.line(a.number+(r?1:-1)),o=n.bidiSpans(a),h=n.visualLineSide(a,!r)}if(c){if(!c(f))return l}else{if(!s)return h;c=s(f)}l=h}}function byGroup(n,e,r){let s=n.state.charCategorizer(e),a=s(r);return o=>{let u=s(o);return a==CharCategory.Space&&(a=u),a==u}}function moveVertically(n,e,r,s){let a=e.head,o=r?1:-1;if(a==(r?n.state.doc.length:0))return EditorSelection.cursor(a,e.assoc);let u=e.goalColumn,l,c=n.contentDOM.getBoundingClientRect(),h=n.coordsAtPos(a,e.assoc||-1),f=n.documentTop;if(h)u==null&&(u=h.left-c.left),l=o<0?h.top:h.bottom;else{let g=n.viewState.lineBlockAt(a);u==null&&(u=Math.min(c.right-c.left,n.defaultCharacterWidth*(a-g.from))),l=(o<0?g.top:g.bottom)+f}let d=c.left+u,m=s??n.viewState.heightOracle.textHeight>>1;for(let g=0;;g+=10){let O=l+(m+g)*o,E=posAtCoords(n,{x:d,y:O},!1,o);if(O<c.top||O>c.bottom||(o<0?E<a:E>a)){let D=n.docView.coordsForChar(E),A=!D||O<D.top?-1:1;return EditorSelection.cursor(E,A,void 0,u)}}}function skipAtomicRanges(n,e,r){for(;;){let s=0;for(let a of n)a.between(e-1,e+1,(o,u,l)=>{if(e>o&&e<u){let c=s||r||(e-o<u-e?-1:1);e=c<0?o:u,s=c}});if(!s)return e}}function skipAtoms(n,e,r){let s=skipAtomicRanges(n.state.facet(atomicRanges).map(a=>a(n)),r.from,e.head>r.from?-1:1);return s==r.from?r:EditorSelection.cursor(s,s<r.from?1:-1)}const LineBreakPlaceholder="ï¿¿";class DOMReader{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=LineBreakPlaceholder}readRange(e,r){if(!e)return this;let s=e.parentNode;for(let a=e;;){this.findPointBefore(s,a);let o=this.text.length;this.readNode(a);let u=a.nextSibling;if(u==r)break;let l=ContentView.get(a),c=ContentView.get(u);(l&&c?l.breakAfter:(l?l.breakAfter:isBlockElement(a))||isBlockElement(u)&&(a.nodeName!="BR"||a.cmIgnore)&&this.text.length>o)&&this.lineBreak(),a=u}return this.findPointBefore(s,r),this}readTextNode(e){let r=e.nodeValue;for(let s of this.points)s.node==e&&(s.pos=this.text.length+Math.min(s.offset,r.length));for(let s=0,a=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,u=1,l;if(this.lineSeparator?(o=r.indexOf(this.lineSeparator,s),u=this.lineSeparator.length):(l=a.exec(r))&&(o=l.index,u=l[0].length),this.append(r.slice(s,o<0?r.length:o)),o<0)break;if(this.lineBreak(),u>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=u-1);s=o+u}}readNode(e){if(e.cmIgnore)return;let r=ContentView.get(e),s=r&&r.overrideDOMText;if(s!=null){this.findPointInside(e,s.length);for(let a=s.iter();!a.next().done;)a.lineBreak?this.lineBreak():this.append(a.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let s of this.points)s.node==e&&e.childNodes[s.offset]==r&&(s.pos=this.text.length)}findPointInside(e,r){for(let s of this.points)(e.nodeType==3?s.node==e:e.contains(s.node))&&(s.pos=this.text.length+(isAtEnd(e,s.node,s.offset)?r:0))}}function isAtEnd(n,e,r){for(;;){if(!e||r<maxOffset(e))return!1;if(e==n)return!0;r=domIndex(e)+1,e=e.parentNode}}class DOMPoint{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class DOMChange{constructor(e,r,s,a){this.typeOver=a,this.bounds=null,this.text="",this.domChanged=r>-1;let{impreciseHead:o,impreciseAnchor:u}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,s,0))){let l=o||u?[]:selectionPoints(e),c=new DOMReader(l,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=selectionFromPoints(l,this.bounds.from)}else{let l=e.observer.selectionRange,c=o&&o.node==l.focusNode&&o.offset==l.focusOffset||!contains(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),h=u&&u.node==l.anchorNode&&u.offset==l.anchorOffset||!contains(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),f=e.viewport;if((browser.ios||browser.chrome)&&e.state.selection.main.empty&&c!=h&&(f.from>0||f.to<e.state.doc.length)){let d=Math.min(c,h),m=Math.max(c,h),g=f.from-d,O=f.to-m;(g==0||g==1||d==0)&&(O==0||O==-1||m==e.state.doc.length)&&(c=0,h=e.state.doc.length)}this.newSel=EditorSelection.single(h,c)}}}function applyDOMChange(n,e){let r,{newSel:s}=e,a=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:u,to:l}=e.bounds,c=a.from,h=null;(o===8||browser.android&&e.text.length<l-u)&&(c=a.to,h="end");let f=findDiff(n.state.doc.sliceString(u,l,LineBreakPlaceholder),e.text,c-u,h);f&&(browser.chrome&&o==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&f.toB--,r={from:u+f.from,to:u+f.toA,insert:Text.of(e.text.slice(f.from,f.toB).split(LineBreakPlaceholder))})}else s&&(!n.hasFocus&&n.state.facet(editable)||s.main.eq(a))&&(s=null);if(!r&&!s)return!1;if(!r&&e.typeOver&&!a.empty&&s&&s.main.empty?r={from:a.from,to:a.to,insert:n.state.doc.slice(a.from,a.to)}:(browser.mac||browser.android)&&r&&r.from==r.to&&r.from==a.head-1&&/^\. ?$/.test(r.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(s&&r.insert.length==2&&(s=EditorSelection.single(s.main.anchor-1,s.main.head-1)),r={from:r.from,to:r.to,insert:Text.of([r.insert.toString().replace("."," ")])}):r&&r.from>=a.from&&r.to<=a.to&&(r.from!=a.from||r.to!=a.to)&&a.to-a.from-(r.to-r.from)<=4?r={from:a.from,to:a.to,insert:n.state.doc.slice(a.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,a.to))}:browser.chrome&&r&&r.from==r.to&&r.from==a.head&&r.insert.toString()==`
 `&&n.lineWrapping&&(s&&(s=EditorSelection.single(s.main.anchor-1,s.main.head-1)),r={from:a.from,to:a.to,insert:Text.of([" "])}),r)return applyDOMChangeInner(n,r,s,o);if(s&&!s.main.eq(a)){let u=!1,l="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(u=!0),l=n.inputState.lastSelectionOrigin),n.dispatch({selection:s,scrollIntoView:u,userEvent:l}),!0}else return!1}function applyDOMChangeInner(n,e,r,s=-1){if(browser.ios&&n.inputState.flushIOSKey(e))return!0;let a=n.state.selection.main;if(browser.android&&(e.to==a.to&&(e.from==a.from||e.from==a.from-1&&n.state.sliceDoc(e.from,a.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&dispatchKey(n.contentDOM,"Enter",13)||(e.from==a.from-1&&e.to==a.to&&e.insert.length==0||s==8&&e.insert.length<e.to-e.from&&e.to>a.head)&&dispatchKey(n.contentDOM,"Backspace",8)||e.from==a.from&&e.to==a.to+1&&e.insert.length==0&&dispatchKey(n.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let u,l=()=>u||(u=applyDefaultInsert(n,e,r));return n.state.facet(inputHandler$1).some(c=>c(n,e.from,e.to,o,l))||n.dispatch(l()),!0}function applyDefaultInsert(n,e,r){let s,a=n.state,o=a.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let l=o.from<e.from?a.sliceDoc(o.from,e.from):"",c=o.to>e.to?a.sliceDoc(e.to,o.to):"";s=a.replaceSelection(n.state.toText(l+e.insert.sliceString(0,void 0,n.state.lineBreak)+c))}else{let l=a.changes(e),c=r&&r.main.to<=l.newLength?r.main:void 0;if(a.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let h=n.state.sliceDoc(e.from,e.to),f,d=r&&findCompositionNode(n,r.main.head);if(d){let O=e.insert.length-(e.to-e.from);f={from:d.from,to:d.to-O}}else f=n.state.doc.lineAt(o.head);let m=o.to-e.to,g=o.to-o.from;s=a.changeByRange(O=>{if(O.from==o.from&&O.to==o.to)return{changes:l,range:c||O.map(l)};let E=O.to-m,D=E-h.length;if(O.to-O.from!=g||n.state.sliceDoc(D,E)!=h||O.to>=f.from&&O.from<=f.to)return{range:O};let A=a.changes({from:D,to:E,insert:e.insert}),S=O.to-o.to;return{changes:A,range:c?EditorSelection.range(Math.max(0,c.anchor+S),Math.max(0,c.head+S)):O.map(A)}})}else s={changes:l,selection:c&&a.selection.replaceRange(c)}}let u="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,u+=".compose",n.inputState.compositionFirstChange&&(u+=".start",n.inputState.compositionFirstChange=!1)),a.update(s,{userEvent:u,scrollIntoView:!0})}function findDiff(n,e,r,s){let a=Math.min(n.length,e.length),o=0;for(;o<a&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==a&&n.length==e.length)return null;let u=n.length,l=e.length;for(;u>0&&l>0&&n.charCodeAt(u-1)==e.charCodeAt(l-1);)u--,l--;if(s=="end"){let c=Math.max(0,o-Math.min(u,l));r-=u+c-o}if(u<o&&n.length<e.length){let c=r<=o&&r>=u?o-r:0;o-=c,l=o+(l-u),u=o}else if(l<o){let c=r<=o&&r>=l?o-r:0;o-=c,u=o+(u-l),l=o}return{from:o,toA:u,toB:l}}function selectionPoints(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o}=n.observer.selectionRange;return r&&(e.push(new DOMPoint(r,s)),(a!=r||o!=s)&&e.push(new DOMPoint(a,o))),e}function selectionFromPoints(n,e){if(n.length==0)return null;let r=n[0].pos,s=n.length==2?n[1].pos:r;return r>-1&&s>-1?EditorSelection.single(r+e,s+e):null}class InputState{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,browser.safari&&e.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(e.contentDOM.ownerDocument)}handleEvent(e){!eventBelongsToEditor(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,r){let s=this.handlers[e];if(s){for(let a of s.observers)a(this.view,r);for(let a of s.handlers){if(r.defaultPrevented)break;if(a(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=computeHandlers(e),s=this.handlers,a=this.view.contentDOM;for(let o in r)if(o!="scroll"){let u=!r[o].handlers.length,l=s[o];l&&u!=!l.handlers.length&&(a.removeEventListener(o,this.handleEvent),l=null),l||a.addEventListener(o,this.handleEvent,{passive:u})}for(let o in s)o!="scroll"&&!r[o]&&a.removeEventListener(o,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&modifierCodes.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return browser.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=PendingKeys.find(s=>s.keyCode==e.keyCode))&&!e.ctrlKey||EmacsyPendingKeys.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let r=this.pendingIOSKey;return!r||r.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,r.key,r.keyCode,r instanceof KeyboardEvent?r:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(n,e){return(r,s)=>{try{return e.call(n,s,r)}catch(a){logException(r.state,a)}}}function computeHandlers(n){let e=Object.create(null);function r(s){return e[s]||(e[s]={observers:[],handlers:[]})}for(let s of n){let a=s.spec,o=a&&a.plugin.domEventHandlers,u=a&&a.plugin.domEventObservers;if(o)for(let l in o){let c=o[l];c&&r(l).handlers.push(bindHandler(s.value,c))}if(u)for(let l in u){let c=u[l];c&&r(l).observers.push(bindHandler(s.value,c))}}for(let s in handlers)r(s).handlers.push(handlers[s]);for(let s in observers)r(s).observers.push(observers[s]);return e}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(n){return Math.max(0,n)*.7+8}function dist$1(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class MouseSelection{constructor(e,r,s,a){this.view=e,this.startEvent=r,this.style=s,this.mustSelect=a,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParents=scrollableParents(e.contentDOM),this.atoms=e.state.facet(atomicRanges).map(u=>u(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(e,r),this.dragging=isInPrimarySelection(e,r)&&getClickType(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist$1(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,s=0,a=0,o=0,u=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:a,right:u}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:l}=this.scrollParents.y.getBoundingClientRect());let c=getScrollMargins(this.view);e.clientX-c.left<=a+dragScrollMargin?r=-dragScrollSpeed(a-e.clientX):e.clientX+c.right>=u-dragScrollMargin&&(r=dragScrollSpeed(e.clientX-u)),e.clientY-c.top<=o+dragScrollMargin?s=-dragScrollSpeed(o-e.clientY):e.clientY+c.bottom>=l-dragScrollMargin&&(s=dragScrollSpeed(e.clientY-l)),this.setScrollSpeed(r,s)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:r}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),r&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=r,r=0),(e||r)&&this.view.win.scrollBy(e,r),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let s=0;s<e.ranges.length;s++){let a=e.ranges[s],o=null;if(a.empty){let u=skipAtomicRanges(this.atoms,a.from,0);u!=a.from&&(o=EditorSelection.cursor(u,-1))}else{let u=skipAtomicRanges(this.atoms,a.from,-1),l=skipAtomicRanges(this.atoms,a.to,1);(u!=a.from||l!=a.to)&&(o=EditorSelection.range(a.from==a.anchor?u:l,a.from==a.head?u:l))}o&&(r||(r=e.ranges.slice()),r[s]=o)}return r?EditorSelection.create(r,e.mainIndex):e}select(e){let{view:r}=this,s=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!s.eq(r.state.selection,this.dragging===!1))&&this.view.dispatch({selection:s,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(r=>r.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(n,e){let r=n.state.facet(clickAddsSelectionRange);return r.length?r[0](e):browser.mac?e.metaKey:e.ctrlKey}function dragMovesSelection(n,e){let r=n.state.facet(dragMovesSelection$1);return r.length?r[0](e):browser.mac?!e.altKey:!e.ctrlKey}function isInPrimarySelection(n,e){let{main:r}=n.state.selection;if(r.empty)return!1;let s=getSelection(n.root);if(!s||s.rangeCount==0)return!0;let a=s.getRangeAt(0).getClientRects();for(let o=0;o<a.length;o++){let u=a[o];if(u.left<=e.clientX&&u.right>=e.clientX&&u.top<=e.clientY&&u.bottom>=e.clientY)return!0}return!1}function eventBelongsToEditor(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,s;r!=n.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(s=ContentView.get(r))&&s.ignoreEvent(e))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(n){let e=n.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{n.focus(),r.remove(),doPaste(n,r.value)},50)}function textFilter(n,e,r){for(let s of n.facet(e))r=s(r,n);return r}function doPaste(n,e){e=textFilter(n.state,clipboardInputFilter,e);let{state:r}=n,s,a=1,o=r.toText(e),u=o.lines==r.selection.ranges.length;if(lastLinewiseCopy!=null&&r.selection.ranges.every(c=>c.empty)&&lastLinewiseCopy==o.toString()){let c=-1;s=r.changeByRange(h=>{let f=r.doc.lineAt(h.from);if(f.from==c)return{range:h};c=f.from;let d=r.toText((u?o.line(a++).text:e)+r.lineBreak);return{changes:{from:f.from,insert:d},range:EditorSelection.cursor(h.from+d.length)}})}else u?s=r.changeByRange(c=>{let h=o.line(a++);return{changes:{from:c.from,to:c.to,insert:h.text},range:EditorSelection.cursor(c.from+h.length)}}):s=r.replaceSelection(o);n.dispatch(s,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};handlers.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let s of n.state.facet(mouseSelectionStyle))if(r=s(n,e),r)break;if(!r&&e.button==0&&(r=basicMouseSelection(n,e)),r){let s=!n.hasFocus;n.inputState.startMouseSelection(new MouseSelection(n,e,r,s)),s&&n.observer.ignore(()=>{focusPreventScroll(n.contentDOM);let o=n.root.activeElement;o&&!o.contains(n.contentDOM)&&o.blur()});let a=n.inputState.mouseSelection;if(a)return a.start(e),a.dragging===!1}return!1};function rangeForClick(n,e,r,s){if(s==1)return EditorSelection.cursor(e,r);if(s==2)return groupAt(n.state,e,r);{let a=LineView.find(n.docView,e),o=n.state.doc.lineAt(a?a.posAtEnd:e),u=a?a.posAtStart:o.from,l=a?a.posAtEnd:o.to;return l<n.state.doc.length&&l==o.to&&l++,EditorSelection.range(u,l)}}let inside=(n,e,r)=>e>=r.top&&e<=r.bottom&&n>=r.left&&n<=r.right;function findPositionSide(n,e,r,s){let a=LineView.find(n.docView,e);if(!a)return 1;let o=e-a.posAtStart;if(o==0)return 1;if(o==a.length)return-1;let u=a.coordsAt(o,-1);if(u&&inside(r,s,u))return-1;let l=a.coordsAt(o,1);return l&&inside(r,s,l)?1:u&&u.bottom>=s?-1:1}function queryPos(n,e){let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:findPositionSide(n,r,e.clientX,e.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(n){if(!BadMouseDetail)return n.detail;let e=lastMouseDown,r=lastMouseDownTime;return lastMouseDown=n,lastMouseDownTime=Date.now(),lastMouseDownCount=!e||r>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(n,e){let r=queryPos(n,e),s=getClickType(e),a=n.state.selection;return{update(o){o.docChanged&&(r.pos=o.changes.mapPos(r.pos),a=a.map(o.changes))},get(o,u,l){let c=queryPos(n,o),h,f=rangeForClick(n,c.pos,c.bias,s);if(r.pos!=c.pos&&!u){let d=rangeForClick(n,r.pos,r.bias,s),m=Math.min(d.from,f.from),g=Math.max(d.to,f.to);f=m<f.from?EditorSelection.range(m,g):EditorSelection.range(g,m)}return u?a.replaceRange(a.main.extend(f.from,f.to)):l&&s==1&&a.ranges.length>1&&(h=removeRangeAround(a,c.pos))?h:l?a.addRange(f):EditorSelection.create([f])}}}function removeRangeAround(n,e){for(let r=0;r<n.ranges.length;r++){let{from:s,to:a}=n.ranges[r];if(s<=e&&a>=e)return EditorSelection.create(n.ranges.slice(0,r).concat(n.ranges.slice(r+1)),n.mainIndex==r?0:n.mainIndex-(n.mainIndex>r?1:0))}return null}handlers.dragstart=(n,e)=>{let{selection:{main:r}}=n.state;if(e.target.draggable){let a=n.docView.nearest(e.target);if(a&&a.isWidget){let o=a.posAtStart,u=o+a.length;(o>=r.to||u<=r.from)&&(r=EditorSelection.range(o,u))}}let{inputState:s}=n;return s.mouseSelection&&(s.mouseSelection.dragging=!0),s.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",textFilter(n.state,clipboardOutputFilter,n.state.sliceDoc(r.from,r.to))),e.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=n=>(n.inputState.draggedContent=null,!1);function dropText(n,e,r,s){if(r=textFilter(n.state,clipboardInputFilter,r),!r)return;let a=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=n.inputState,u=s&&o&&dragMovesSelection(n,e)?{from:o.from,to:o.to}:null,l={from:a,insert:r},c=n.state.changes(u?[u,l]:l);n.focus(),n.dispatch({changes:c,selection:{anchor:c.mapPos(a,-1),head:c.mapPos(a,1)},userEvent:u?"move.drop":"input.drop"}),n.inputState.draggedContent=null}handlers.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let s=Array(r.length),a=0,o=()=>{++a==r.length&&dropText(n,e,s.filter(u=>u!=null).join(n.state.lineBreak),!1)};for(let u=0;u<r.length;u++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(s[u]=l.result),o()},l.readAsText(r[u])}return!0}else{let s=e.dataTransfer.getData("Text");if(s)return dropText(n,e,s,!0),!0}return!1};handlers.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let r=brokenClipboardAPI?null:e.clipboardData;return r?(doPaste(n,r.getData("text/plain")||r.getData("text/uri-list")),!0):(capturePaste(n),!1)};function captureCopy(n,e){let r=n.dom.parentNode;if(!r)return;let s=r.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.value=e,s.focus(),s.selectionEnd=e.length,s.selectionStart=0,setTimeout(()=>{s.remove(),n.focus()},50)}function copiedRange(n){let e=[],r=[],s=!1;for(let a of n.selection.ranges)a.empty||(e.push(n.sliceDoc(a.from,a.to)),r.push(a));if(!e.length){let a=-1;for(let{from:o}of n.selection.ranges){let u=n.doc.lineAt(o);u.number>a&&(e.push(u.text),r.push({from:u.from,to:Math.min(n.doc.length,u.to+1)})),a=u.number}s=!0}return{text:textFilter(n,clipboardOutputFilter,e.join(n.lineBreak)),ranges:r,linewise:s}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(n,e)=>{let{text:r,ranges:s,linewise:a}=copiedRange(n.state);if(!r&&!a)return!1;lastLinewiseCopy=a?r:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:s,scrollIntoView:!0,userEvent:"delete.cut"});let o=brokenClipboardAPI?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",r),!0):(captureCopy(n,r),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(n,e){let r=[];for(let s of n.facet(focusChangeEffect)){let a=s(n,e);a&&r.push(a)}return r.length?n.update({effects:r,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let r=focusChangeTransaction(n.state,e);r?n.dispatch(r):n.update([])}},10)}observers.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),updateForFocusChange(n)};observers.blur=n=>{n.observer.clearSelectionRange(),updateForFocusChange(n)};observers.compositionstart=observers.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};observers.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,browser.chrome&&browser.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};observers.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(n,e)=>{var r,s;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let o=(r=e.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"),u=e.getTargetRanges();if(o&&u.length){let l=u[0],c=n.posAtDOM(l.startContainer,l.startOffset),h=n.posAtDOM(l.endContainer,l.endOffset);return applyDOMChangeInner(n,{from:c,to:h,insert:n.state.toText(o)},null),!0}}let a;if(browser.chrome&&browser.android&&(a=PendingKeys.find(o=>o.inputType==e.inputType))&&(n.observer.delayAndroidKey(a.key,a.keyCode),a.key=="Backspace"||a.key=="Delete")){let o=((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0;setTimeout(()=>{var u;(((u=window.visualViewport)===null||u===void 0?void 0:u.height)||0)>o+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return browser.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),browser.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>observers.compositionend(n,e),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(n){appliedFirefoxHack.has(n)||(appliedFirefoxHack.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(e){this.lineWrapping=e,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,r){let s=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(s+=Math.max(0,Math.ceil((r-e-s*this.lineLength*.5)/this.lineLength))),this.lineHeight*s}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return wrappingWhiteSpace.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let s=0;s<e.length;s++){let a=e[s];a<0?s++:this.heightSamples[Math.floor(a*10)]||(r=!0,this.heightSamples[Math.floor(a*10)]=!0)}return r}refresh(e,r,s,a,o,u){let l=wrappingWhiteSpace.indexOf(e)>-1,c=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=r,this.charWidth=s,this.textHeight=a,this.lineLength=o,c){this.heightSamples={};for(let h=0;h<u.length;h++){let f=u[h];f<0?h++:this.heightSamples[Math.floor(f*10)]=!0}}return c}}class MeasuredHeights{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(e,r,s,a,o){this.from=e,this.length=r,this.top=s,this.height=a,this._content=o}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new BlockInfo(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var QueryType$1=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(e,r,s=2){this.length=e,this.height=r,this.flags=s}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Epsilon&&(heightChangeFlag=!0),this.height=e)}replace(e,r,s){return HeightMap.of(s)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,s,a){let o=this,u=s.doc;for(let l=a.length-1;l>=0;l--){let{fromA:c,toA:h,fromB:f,toB:d}=a[l],m=o.lineAt(c,QueryType$1.ByPosNoHeight,s.setDoc(r),0,0),g=m.to>=h?m:o.lineAt(h,QueryType$1.ByPosNoHeight,s,0,0);for(d+=g.to-h,h=g.to;l>0&&m.from<=a[l-1].toA;)c=a[l-1].fromA,f=a[l-1].fromB,l--,c<m.from&&(m=o.lineAt(c,QueryType$1.ByPosNoHeight,s,0,0));f+=m.from-c,c=m.from;let O=NodeBuilder.build(s.setDoc(u),e,f,d);o=replace$1(o,o.replace(c,h,O))}return o.updateHeight(s,0)}static empty(){return new HeightMapText(0,0)}static of(e){if(e.length==1)return e[0];let r=0,s=e.length,a=0,o=0;for(;;)if(r==s)if(a>o*2){let l=e[r-1];l.break?e.splice(--r,1,l.left,null,l.right):e.splice(--r,1,l.left,l.right),s+=1+l.break,a-=l.size}else if(o>a*2){let l=e[s];l.break?e.splice(s,1,l.left,null,l.right):e.splice(s,1,l.left,l.right),s+=2+l.break,o-=l.size}else break;else if(a<o){let l=e[r++];l&&(a+=l.size)}else{let l=e[--s];l&&(o+=l.size)}let u=0;return e[r-1]==null?(u=1,r--):e[r]==null&&(u=1,s++),new HeightMapBranch(HeightMap.of(e.slice(0,r)),u,HeightMap.of(e.slice(s)))}}function replace$1(n,e){return n==e?n:(n.constructor!=e.constructor&&(heightChangeFlag=!0),e)}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(e,r,s){super(e,r),this.deco=s}blockAt(e,r,s,a){return new BlockInfo(a,this.length,s,this.height,this.deco||0)}lineAt(e,r,s,a,o){return this.blockAt(0,s,a,o)}forEachLine(e,r,s,a,o,u){e<=o+this.length&&r>=o&&u(this.blockAt(0,s,a,o))}updateHeight(e,r=0,s=!1,a){return a&&a.from<=r&&a.more&&this.setHeight(a.heights[a.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,s,a){return new BlockInfo(a,this.length,s,this.height,this.breaks)}replace(e,r,s){let a=s[0];return s.length==1&&(a instanceof HeightMapText||a instanceof HeightMapGap&&a.flags&4)&&Math.abs(this.length-a.length)<10?(a instanceof HeightMapGap?a=new HeightMapText(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):HeightMap.of(s)}updateHeight(e,r=0,s=!1,a){return a&&a.from<=r&&a.more?this.setHeight(a.heights[a.index++]):(s||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(e){super(e,0)}heightMetrics(e,r){let s=e.doc.lineAt(r).number,a=e.doc.lineAt(r+this.length).number,o=a-s+1,u,l=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*o);u=c/o,this.length>o+1&&(l=(this.height-c)/(this.length-o-1))}else u=this.height/o;return{firstLine:s,lastLine:a,perLine:u,perChar:l}}blockAt(e,r,s,a){let{firstLine:o,lastLine:u,perLine:l,perChar:c}=this.heightMetrics(r,a);if(r.lineWrapping){let h=a+(e<r.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-s)/this.height))*this.length)),f=r.doc.lineAt(h),d=l+f.length*c,m=Math.max(s,e-d/2);return new BlockInfo(f.from,f.length,m,d,0)}else{let h=Math.max(0,Math.min(u-o,Math.floor((e-s)/l))),{from:f,length:d}=r.doc.line(o+h);return new BlockInfo(f,d,s+l*h,l,0)}}lineAt(e,r,s,a,o){if(r==QueryType$1.ByHeight)return this.blockAt(e,s,a,o);if(r==QueryType$1.ByPosNoHeight){let{from:g,to:O}=s.doc.lineAt(e);return new BlockInfo(g,O-g,0,0,0)}let{firstLine:u,perLine:l,perChar:c}=this.heightMetrics(s,o),h=s.doc.lineAt(e),f=l+h.length*c,d=h.number-u,m=a+l*d+c*(h.from-o-d);return new BlockInfo(h.from,h.length,Math.max(a,Math.min(m,a+this.height-f)),f,0)}forEachLine(e,r,s,a,o,u){e=Math.max(e,o),r=Math.min(r,o+this.length);let{firstLine:l,perLine:c,perChar:h}=this.heightMetrics(s,o);for(let f=e,d=a;f<=r;){let m=s.doc.lineAt(f);if(f==e){let O=m.number-l;d+=c*O+h*(e-o-O)}let g=c+h*m.length;u(new BlockInfo(m.from,m.length,d,g,0)),d+=g,f=m.to+1}}replace(e,r,s){let a=this.length-r;if(a>0){let o=s[s.length-1];o instanceof HeightMapGap?s[s.length-1]=new HeightMapGap(o.length+a):s.push(null,new HeightMapGap(a-1))}if(e>0){let o=s[0];o instanceof HeightMapGap?s[0]=new HeightMapGap(e+o.length):s.unshift(new HeightMapGap(e-1),null)}return HeightMap.of(s)}decomposeLeft(e,r){r.push(new HeightMapGap(e-1),null)}decomposeRight(e,r){r.push(null,new HeightMapGap(this.length-e-1))}updateHeight(e,r=0,s=!1,a){let o=r+this.length;if(a&&a.from<=r+this.length&&a.more){let u=[],l=Math.max(r,a.from),c=-1;for(a.from>r&&u.push(new HeightMapGap(a.from-r-1).updateHeight(e,r));l<=o&&a.more;){let f=e.doc.lineAt(l).length;u.length&&u.push(null);let d=a.heights[a.index++];c==-1?c=d:Math.abs(d-c)>=Epsilon&&(c=-2);let m=new HeightMapText(f,d);m.outdated=!1,u.push(m),l+=f+1}l<=o&&u.push(null,new HeightMapGap(o-l).updateHeight(e,l));let h=HeightMap.of(u);return(c<0||Math.abs(h.height-this.height)>=Epsilon||Math.abs(c-this.heightMetrics(e,r).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace$1(this,h)}else(s||this.outdated)&&(this.setHeight(e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(e,r,s){super(e.length+r+s.length,e.height+s.height,r|(e.outdated||s.outdated?2:0)),this.left=e,this.right=s,this.size=e.size+s.size}get break(){return this.flags&1}blockAt(e,r,s,a){let o=s+this.left.height;return e<o?this.left.blockAt(e,r,s,a):this.right.blockAt(e,r,o,a+this.left.length+this.break)}lineAt(e,r,s,a,o){let u=a+this.left.height,l=o+this.left.length+this.break,c=r==QueryType$1.ByHeight?e<u:e<l,h=c?this.left.lineAt(e,r,s,a,o):this.right.lineAt(e,r,s,u,l);if(this.break||(c?h.to<l:h.from>l))return h;let f=r==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return c?h.join(this.right.lineAt(l,f,s,u,l)):this.left.lineAt(l,f,s,a,o).join(h)}forEachLine(e,r,s,a,o,u){let l=a+this.left.height,c=o+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,r,s,a,o,u),r>=c&&this.right.forEachLine(e,r,s,l,c,u);else{let h=this.lineAt(c,QueryType$1.ByPos,s,a,o);e<h.from&&this.left.forEachLine(e,h.from-1,s,a,o,u),h.to>=e&&h.from<=r&&u(h),r>h.to&&this.right.forEachLine(h.to+1,r,s,l,c,u)}}replace(e,r,s){let a=this.left.length+this.break;if(r<a)return this.balanced(this.left.replace(e,r,s),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-a,r-a,s));let o=[];e>0&&this.decomposeLeft(e,o);let u=o.length;for(let l of s)o.push(l);if(e>0&&mergeGaps(o,u-1),r<this.length){let l=o.length;this.decomposeRight(r,o),mergeGaps(o,l)}return HeightMap.of(o)}decomposeLeft(e,r){let s=this.left.length;if(e<=s)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(s++,e>=s&&r.push(null)),e>s&&this.right.decomposeLeft(e-s,r)}decomposeRight(e,r){let s=this.left.length,a=s+this.break;if(e>=a)return this.right.decomposeRight(e-a,r);e<s&&this.left.decomposeRight(e,r),this.break&&e<a&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?HeightMap.of(this.break?[e,null,r]:[e,r]):(this.left=replace$1(this.left,e),this.right=replace$1(this.right,r),this.setHeight(e.height+r.height),this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,s=!1,a){let{left:o,right:u}=this,l=r+o.length+this.break,c=null;return a&&a.from<=r+o.length&&a.more?c=o=o.updateHeight(e,r,s,a):o.updateHeight(e,r,s),a&&a.from<=l+u.length&&a.more?c=u=u.updateHeight(e,l,s,a):u.updateHeight(e,l,s),c?this.balanced(o,u):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(n,e){let r,s;n[e]==null&&(r=n[e-1])instanceof HeightMapGap&&(s=n[e+1])instanceof HeightMapGap&&n.splice(e-1,3,new HeightMapGap(r.length+1+s.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let s=Math.min(r,this.lineEnd),a=this.nodes[this.nodes.length-1];a instanceof HeightMapText?a.length+=s-this.pos:(s>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(s-this.pos,-1)),this.writtenTo=s,r>s&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,s){if(e<r||s.heightRelevant){let a=s.widget?s.widget.estimatedHeight:0,o=s.widget?s.widget.lineBreaks:0;a<0&&(a=this.oracle.lineHeight);let u=r-e;s.block?this.addBlock(new HeightMapBlock(u,a,s)):(u||o||a>=relevantWidgetHeight)&&this.addLineDeco(a,o,u)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new HeightMapText(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let s=new HeightMapGap(r-e);return this.oracle.doc.lineAt(e).to==r&&(s.flags|=4),s}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof HeightMapText)return e;let r=new HeightMapText(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,s){let a=this.ensureLine();a.length+=s,a.collapsed+=s,a.widgetHeight=Math.max(a.widgetHeight,e),a.breaks+=r,this.writtenTo=this.pos=this.pos+s}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let s=e;for(let a of this.nodes)a instanceof HeightMapText&&a.updateHeight(this.oracle,s),s+=a?a.length:1;return this.nodes}static build(e,r,s,a){let o=new NodeBuilder(s,e);return RangeSet.spans(r,s,a,o,0),o.finish(s)}}function heightRelevantDecoChanges(n,e,r){let s=new DecorationComparator;return RangeSet.compare(n,e,r,s,0),s.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,s,a){(e<r||s&&s.heightRelevant||a&&a.heightRelevant)&&addRange(e,r,this.changes,5)}}function visiblePixelRange(n,e){let r=n.getBoundingClientRect(),s=n.ownerDocument,a=s.defaultView||window,o=Math.max(0,r.left),u=Math.min(a.innerWidth,r.right),l=Math.max(0,r.top),c=Math.min(a.innerHeight,r.bottom);for(let h=n.parentNode;h&&h!=s.body;)if(h.nodeType==1){let f=h,d=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&d.overflow!="visible"){let m=f.getBoundingClientRect();o=Math.max(o,m.left),u=Math.min(u,m.right),l=Math.max(l,m.top),c=Math.min(h==n.parentNode?a.innerHeight:c,m.bottom)}h=d.position=="absolute"||d.position=="fixed"?f.offsetParent:f.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:o-r.left,right:Math.max(o,u)-r.left,top:l-(r.top+e),bottom:Math.max(l,c)-(r.top+e)}}function inWindow(n){let e=n.getBoundingClientRect(),r=n.ownerDocument.defaultView||window;return e.left<r.innerWidth&&e.right>0&&e.top<r.innerHeight&&e.bottom>0}function fullPixelRange(n,e){let r=n.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class LineGap{constructor(e,r,s,a){this.from=e,this.to=r,this.size=s,this.displaySize=a}static same(e,r){if(e.length!=r.length)return!1;for(let s=0;s<e.length;s++){let a=e[s],o=r[s];if(a.from!=o.from||a.to!=o.to||a.size!=o.size)return!1}return!0}draw(e,r){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(contentAttributes).some(s=>typeof s!="function"&&s.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(r),this.stateDeco=e.facet(decorations).filter(s=>typeof s!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(e.doc),[new ChangedRange(0,0,0,e.doc.length)]);for(let s=0;s<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());s++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(s=>s.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let s=0;s<=1;s++){let a=s?r.head:r.anchor;if(!e.some(({from:o,to:u})=>a>=o&&a<=u)){let{from:o,to:u}=this.lineBlockAt(a);e.push(new Viewport(o,u))}}return this.viewports=e.sort((s,a)=>s.from-a.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(scaleBlock(e,this.scaler))})}update(e,r=null){this.state=e.state;let s=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(f=>typeof f!="function");let a=e.changedRanges,o=ChangedRange.extendWithRanges(a,heightRelevantDecoChanges(s,this.stateDeco,e?e.changes:ChangeSet.empty(this.state.doc.length))),u=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=u||heightChangeFlag)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=u);let c=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<c.from||r.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,r));let h=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,s=window.getComputedStyle(r),a=this.heightOracle,o=s.whiteSpace;this.defaultTextDirection=s.direction=="rtl"?Direction.RTL:Direction.LTR;let u=this.heightOracle.mustRefreshForWrapping(o),l=r.getBoundingClientRect(),c=u||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let h=0,f=0;if(l.width&&l.height){let{scaleX:$,scaleY:x}=getScale(r,l);($>.005&&Math.abs(this.scaleX-$)>.005||x>.005&&Math.abs(this.scaleY-x)>.005)&&(this.scaleX=$,this.scaleY=x,h|=16,u=c=!0)}let d=(parseInt(s.paddingTop)||0)*this.scaleY,m=(parseInt(s.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=m)&&(this.paddingTop=d,this.paddingBottom=m,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(a.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let g=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=g&&(this.scrollAnchorHeight=-1,this.scrollTop=g),this.scrolledToBottom=isScrolledToBottom(e.scrollDOM);let O=(this.printing?fullPixelRange:visiblePixelRange)(r,this.paddingTop),E=O.top-this.pixelViewport.top,D=O.bottom-this.pixelViewport.bottom;this.pixelViewport=O;let A=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(A!=this.inView&&(this.inView=A,A&&(c=!0)),!this.inView&&!this.scrollTarget&&!inWindow(e.dom))return 0;let S=l.width;if((this.contentDOMWidth!=S||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),c){let $=e.docView.measureVisibleLineHeights(this.viewport);if(a.mustRefreshForHeights($)&&(u=!0),u||a.lineWrapping&&Math.abs(S-this.contentDOMWidth)>a.charWidth){let{lineHeight:x,charWidth:w,textHeight:R}=e.docView.measureTextSize();u=x>0&&a.refresh(o,x,w,R,Math.max(5,S/w),$),u&&(e.docView.minWidth=0,h|=16)}E>0&&D>0?f=Math.max(E,D):E<0&&D<0&&(f=Math.min(E,D)),clearHeightChangeFlag();for(let x of this.viewports){let w=x.from==this.viewport.from?$:e.docView.measureVisibleLineHeights(x);this.heightMap=(u?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(a,0,u,new MeasuredHeights(x.from,w))}heightChangeFlag&&(h|=2)}let B=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return B&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(f,this.scrollTarget),h|=this.updateForViewport()),(h&2||B)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(u?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let s=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),a=this.heightMap,o=this.heightOracle,{visibleTop:u,visibleBottom:l}=this,c=new Viewport(a.lineAt(u-s*1e3,QueryType$1.ByHeight,o,0,0).from,a.lineAt(l+(1-s)*1e3,QueryType$1.ByHeight,o,0,0).to);if(r){let{head:h}=r.range;if(h<c.from||h>c.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=a.lineAt(h,QueryType$1.ByPos,o,0,0),m;r.y=="center"?m=(d.top+d.bottom)/2-f/2:r.y=="start"||r.y=="nearest"&&h<c.from?m=d.top:m=d.bottom-f,c=new Viewport(a.lineAt(m-1e3/2,QueryType$1.ByHeight,o,0,0).from,a.lineAt(m+f+1e3/2,QueryType$1.ByHeight,o,0,0).to)}}return c}mapViewport(e,r){let s=r.mapPos(e.from,-1),a=r.mapPos(e.to,1);return new Viewport(this.heightMap.lineAt(s,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(a,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},s=0){if(!this.inView)return!0;let{top:a}=this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(r,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:u,visibleBottom:l}=this;return(e==0||a<=u-Math.max(10,Math.min(-s,250)))&&(r==this.state.doc.length||o>=l+Math.max(10,Math.min(s,250)))&&a>u-2*1e3&&o<l+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let s=[];for(let a of e)r.touchesRange(a.from,a.to)||s.push(new LineGap(r.mapPos(a.from),r.mapPos(a.to),a.size,a.displaySize));return s}ensureLineGaps(e,r){let s=this.heightOracle.lineWrapping,a=s?1e4:2e3,o=a>>1,u=a<<1;if(this.defaultTextDirection!=Direction.LTR&&!s)return[];let l=[],c=(f,d,m,g)=>{if(d-f<o)return;let O=this.state.selection.main,E=[O.from];O.empty||E.push(O.to);for(let A of E)if(A>f&&A<d){c(f,A-10,m,g),c(A+10,d,m,g);return}let D=find(e,A=>A.from>=m.from&&A.to<=m.to&&Math.abs(A.from-f)<o&&Math.abs(A.to-d)<o&&!E.some(S=>A.from<S&&A.to>S));if(!D){if(d<m.to&&r&&s&&r.visibleRanges.some(B=>B.from<=d&&B.to>=d)){let B=r.moveToLineBoundary(EditorSelection.cursor(d),!1,!0).head;B>f&&(d=B)}let A=this.gapSize(m,f,d,g),S=s||A<2e6?A:2e6;D=new LineGap(f,d,A,S)}l.push(D)},h=f=>{if(f.length<u||f.type!=BlockType.Text)return;let d=lineStructure(f.from,f.to,this.stateDeco);if(d.total<u)return;let m=this.scrollTarget?this.scrollTarget.range.head:null,g,O;if(s){let E=a/this.heightOracle.lineLength*this.heightOracle.lineHeight,D,A;if(m!=null){let S=findFraction(d,m),B=((this.visibleBottom-this.visibleTop)/2+E)/f.height;D=S-B,A=S+B}else D=(this.visibleTop-f.top-E)/f.height,A=(this.visibleBottom-f.top+E)/f.height;g=findPosition(d,D),O=findPosition(d,A)}else{let E=d.total*this.heightOracle.charWidth,D=a*this.heightOracle.charWidth,A=0;if(E>2e6)for(let w of e)w.from>=f.from&&w.from<f.to&&w.size!=w.displaySize&&w.from*this.heightOracle.charWidth+A<this.pixelViewport.left&&(A=w.size-w.displaySize);let S=this.pixelViewport.left+A,B=this.pixelViewport.right+A,$,x;if(m!=null){let w=findFraction(d,m),R=((B-S)/2+D)/E;$=w-R,x=w+R}else $=(S-D)/E,x=(B+D)/E;g=findPosition(d,$),O=findPosition(d,x)}g>f.from&&c(f.from,g,f,d),O<f.to&&c(O,f.to,f,d)};for(let f of this.viewportLines)Array.isArray(f.type)?f.type.forEach(h):h(f);return l}gapSize(e,r,s,a){let o=findFraction(a,s)-findFraction(a,r);return this.heightOracle.lineWrapping?e.height*o:a.total*this.heightOracle.charWidth*o}updateLineGaps(e){LineGap.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Decoration.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let r=this.stateDeco;this.lineGaps.length&&(r=r.concat(this.lineGapDeco));let s=[];RangeSet.spans(r,this.viewport.from,this.viewport.to,{span(o,u){s.push({from:o,to:u})},point(){}},20);let a=0;if(s.length!=this.visibleRanges.length)a=12;else for(let o=0;o<s.length&&!(a&8);o++){let u=this.visibleRanges[o],l=s[o];(u.from!=l.from||u.to!=l.to)&&(a|=4,e&&e.mapPos(u.from,-1)==l.from&&e.mapPos(u.to,1)==l.to||(a|=8))}return this.visibleRanges=s,a}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||scaleBlock(this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(r=>r.top<=e&&r.bottom>=e)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(e),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(e,r){this.from=e,this.to=r}}function lineStructure(n,e,r){let s=[],a=n,o=0;return RangeSet.spans(r,n,e,{span(){},point(u,l){u>a&&(s.push({from:a,to:u}),o+=u-a),a=l}},20),a<e&&(s.push({from:a,to:e}),o+=e-a),{total:o,ranges:s}}function findPosition({total:n,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let s=Math.floor(n*r);for(let a=0;;a++){let{from:o,to:u}=e[a],l=u-o;if(s<=l)return o+s;s-=l}}function findFraction(n,e){let r=0;for(let{from:s,to:a}of n.ranges){if(e<=a){r+=e-s;break}r+=a-s}return r/n.total}function find(n,e){for(let r of n)if(e(r))return r}const IdScaler={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class BigScaler{constructor(e,r,s){let a=0,o=0,u=0;this.viewports=s.map(({from:l,to:c})=>{let h=r.lineAt(l,QueryType$1.ByPos,e,0,0).top,f=r.lineAt(c,QueryType$1.ByPos,e,0,0).bottom;return a+=f-h,{from:l,to:c,top:h,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-a)/(r.height-a);for(let l of this.viewports)l.domTop=u+(l.top-o)*this.scale,u=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let r=0,s=0,a=0;;r++){let o=r<this.viewports.length?this.viewports[r]:null;if(!o||e<o.top)return a+(e-s)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);s=o.bottom,a=o.domBottom}}fromDOM(e){for(let r=0,s=0,a=0;;r++){let o=r<this.viewports.length?this.viewports[r]:null;if(!o||e<o.domTop)return s+(e-a)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);s=o.bottom,a=o.domBottom}}eq(e){return e instanceof BigScaler?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((r,s)=>r.from==e.viewports[s].from&&r.to==e.viewports[s].to):!1}}function scaleBlock(n,e){if(e.scale==1)return n;let r=e.toDOM(n.top),s=e.toDOM(n.bottom);return new BlockInfo(n.from,n.length,r,s-r,Array.isArray(n._content)?n._content.map(a=>scaleBlock(a,e)):n._content)}const theme=Facet.define({combine:n=>n.join(" ")}),darkTheme=Facet.define({combine:n=>n.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(n,e,r){return new StyleModule(e,{finish(s){return/&/.test(s)?s.replace(/&\w*/,a=>{if(a=="&")return n;if(!r||!r[a])throw new RangeError(`Unsupported selector: ${a}`);return r[a]}):n+" "+s}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let s of r)this.queue.push(s);(browser.ie&&browser.ie_version<=11||browser.ios&&e.composing)&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&browser.android&&e.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(e),e.state.facet(editable)&&(e.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,s)=>r!=e[s]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:s}=this,a=this.selectionRange;if(s.state.facet(editable)?s.root.activeElement!=this.dom:!hasSelection(this.dom,a))return;let o=a.anchorNode&&s.docView.nearest(a.anchorNode);if(o&&o.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!s.state.selection.main.empty&&a.focusNode&&isEquivalentPosition(a.focusNode,a.focusOffset,a.anchorNode,a.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=getSelection(e.root);if(!r)return!1;let s=browser.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,r)||r;if(!s||this.selectionRange.eq(s))return!1;let a=hasSelection(this.dom,s);return a&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,s)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(s),a&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let s=this.dom;s;)if(s.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==s?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);for(let s of this.scrollTargets=r)s.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var s;if(!this.delayedAndroidKey){let a=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&dispatchKey(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(a)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((s=this.delayedAndroidKey)===null||s===void 0)&&s.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,s=-1,a=!1;for(let o of e){let u=this.readMutation(o);u&&(u.typeOver&&(a=!0),r==-1?{from:r,to:s}=u:(r=Math.min(u.from,r),s=Math.max(u.to,s)))}return{from:r,to:s,typeOver:a}}readChange(){let{from:e,to:r,typeOver:s}=this.processRecords(),a=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(e<0&&!a)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new DOMChange(this.view,e,r,s);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let s=this.view.state,a=applyDOMChange(this.view,r);return this.view.state==s&&(r.domChanged||r.newSel&&!r.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),a}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let s=findChild(r,e.previousSibling||e.target.previousSibling,-1),a=findChild(r,e.nextSibling||e.target.nextSibling,1);return{from:s?r.posAfter(s):r.posAtStart,to:a?r.posBefore(a):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(editable)!=e.state.facet(editable)&&(e.view.contentDOM.editContext=e.state.facet(editable)?this.editContext.editContext:null))}destroy(){var e,r,s;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(s=this.resizeScroll)===null||s===void 0||s.disconnect();for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(n,e,r){for(;e;){let s=ContentView.get(e);if(s&&s.parent==n)return s;let a=e.parentNode;e=a!=n.dom?a:r>0?e.nextSibling:e.previousSibling}return null}function buildSelectionRangeFromRange(n,e){let r=e.startContainer,s=e.startOffset,a=e.endContainer,o=e.endOffset,u=n.docView.domAtPos(n.state.selection.main.anchor);return isEquivalentPosition(u.node,u.offset,a,o)&&([r,s,a,o]=[a,o,r,s]),{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o}}function safariSelectionRangeHack(n,e){if(e.getComposedRanges){let a=e.getComposedRanges(n.root)[0];if(a)return buildSelectionRangeFromRange(n,a)}let r=null;function s(a){a.preventDefault(),a.stopImmediatePropagation(),r=a.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",s,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",s,!0),r?buildSelectionRangeFromRange(n,r):null}class EditContextManager{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let r=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=s=>{let a=e.state.selection.main,{anchor:o,head:u}=a,l=this.toEditorPos(s.updateRangeStart),c=this.toEditorPos(s.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:s.updateRangeStart,editorBase:l,drifted:!1});let h={from:l,to:c,insert:Text.of(s.text.split(`
`))};if(h.from==this.from&&o<this.from?h.from=o:h.to==this.to&&o>this.to&&(h.to=o),h.from==h.to&&!h.insert.length){let f=EditorSelection.single(this.toEditorPos(s.selectionStart),this.toEditorPos(s.selectionEnd));f.main.eq(a)||e.dispatch({selection:f,userEvent:"select"});return}if((browser.mac||browser.android)&&h.from==u-1&&/^\. ?$/.test(s.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(h={from:l,to:c,insert:Text.of([s.text.replace("."," ")])}),this.pendingContextChange=h,!e.state.readOnly){let f=this.to-this.from+(h.to-h.from+h.insert.length);applyDOMChangeInner(e,h,EditorSelection.single(this.toEditorPos(s.selectionStart,f),this.toEditorPos(s.selectionEnd,f)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=s=>{let a=[],o=null;for(let u=this.toEditorPos(s.rangeStart),l=this.toEditorPos(s.rangeEnd);u<l;u++){let c=e.coordsForChar(u);o=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||o||new DOMRect,a.push(o)}r.updateCharacterBounds(s.rangeStart,a)},this.handlers.textformatupdate=s=>{let a=[];for(let o of s.getTextFormats()){let u=o.underlineStyle,l=o.underlineThickness;if(u!="None"&&l!="None"){let c=this.toEditorPos(o.rangeStart),h=this.toEditorPos(o.rangeEnd);if(c<h){let f=`text-decoration: underline ${u=="Dashed"?"dashed ":u=="Squiggle"?"wavy ":""}${l=="Thin"?1:2}px`;a.push(Decoration.mark({attributes:{style:f}}).range(c,h))}}}e.dispatch({effects:setEditContextFormatting.of(Decoration.set(a))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:s}=this.composing;this.composing=null,s&&this.reset(e.state)}};for(let s in this.handlers)r.addEventListener(s,this.handlers[s]);this.measureReq={read:s=>{this.editContext.updateControlBounds(s.contentDOM.getBoundingClientRect());let a=getSelection(s.root);a&&a.rangeCount&&this.editContext.updateSelectionBounds(a.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let r=0,s=!1,a=this.pendingContextChange;return e.changes.iterChanges((o,u,l,c,h)=>{if(s)return;let f=h.length-(u-o);if(a&&u>=a.to)if(a.from==o&&a.to==u&&a.insert.eq(h)){a=this.pendingContextChange=null,r+=f,this.to+=f;return}else a=null,this.revertPending(e.state);if(o+=r,u+=r,u<=this.from)this.from+=f,this.to+=f;else if(o<this.to){if(o<this.from||u>this.to||this.to-this.from+h.length>3e4){s=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(u),h.toString()),this.to+=f}r+=f}),a&&!s&&this.revertPending(e.state),!s}update(e){let r=this.pendingContextChange,s=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(s.from,s.to)&&e.transactions.some(a=>!a.isUserEvent("input.type")&&a.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||r)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:r}=e.selection.main;this.from=Math.max(0,r-1e4),this.to=Math.min(e.doc.length,r+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let r=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(r.from),this.toContextPos(r.from+r.insert.length),e.doc.sliceString(r.from,r.to))}setSelection(e){let{main:r}=e.selection,s=this.toContextPos(Math.max(this.from,Math.min(this.to,r.anchor))),a=this.toContextPos(r.head);(this.editContext.selectionStart!=s||this.editContext.selectionEnd!=a)&&this.editContext.updateSelection(s,a)}rangeIsValid(e){let{head:r}=e.selection.main;return!(this.from>0&&r-this.from<500||this.to<e.doc.length&&this.to-r<500||this.to-this.from>1e4*3)}toEditorPos(e,r=this.to-this.from){e=Math.min(e,r);let s=this.composing;return s&&s.drifted?s.editorBase+(e-s.contextBase):e+this.from}toContextPos(e){let r=this.composing;return r&&r.drifted?r.contextBase+(e-r.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var r;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:s}=e;this.dispatchTransactions=e.dispatchTransactions||s&&(a=>a.forEach(o=>s(o,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=e.root||getRoot(e.parent)||document,this.viewState=new ViewState(e.state||EditorState.create(e)),e.scrollTo&&e.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(a=>new PluginInstance(a));for(let a of this.plugins)a.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((r=document.fonts)===null||r===void 0)&&r.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let r=e.length==1&&e[0]instanceof Transaction?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,s=!1,a,o=this.state;for(let m of e){if(m.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=m.state}if(this.destroyed){this.viewState.state=o;return}let u=this.hasFocus,l=0,c=null;e.some(m=>m.annotation(isFocusChange))?(this.inputState.notifiedFocused=u,l=1):u!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=u,c=focusChangeTransaction(o,u),c||(l=1));let h=this.observer.delayedAndroidKey,f=null;if(h?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(f=null)):this.observer.clear(),o.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(o);a=ViewUpdate.create(this,o,e),a.flags|=l;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let m of e){if(d&&(d=d.map(m.changes)),m.scrollIntoView){let{main:g}=m.state.selection;d=new ScrollTarget(g.empty?g:EditorSelection.cursor(g.head,g.head>g.anchor?-1:1))}for(let g of m.effects)g.is(scrollIntoView$1)&&(d=g.value.clip(this.state))}this.viewState.update(a,d),this.bidiCache=CachedOrder.update(this.bidiCache,a.changes),a.empty||(this.updatePlugins(a),this.inputState.update(a)),r=this.docView.update(a),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),s=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(m=>m.isUserEvent("select.pointer")))}finally{this.updateState=0}if(a.startState.facet(theme)!=a.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(r||s||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!a.empty)for(let m of this.state.facet(updateListener))try{m(a)}catch(g){logException(this.state,g,"update listener")}(c||f)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),f&&!applyDOMChange(this,f)&&h.force&&dispatchKey(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let s of this.plugins)s.destroy(this);this.viewState=new ViewState(e),this.plugins=e.facet(viewPlugin).map(s=>new PluginInstance(s)),this.pluginMap.clear();for(let s of this.plugins)s.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(viewPlugin),s=e.state.facet(viewPlugin);if(r!=s){let a=[];for(let o of s){let u=r.indexOf(o);if(u<0)a.push(new PluginInstance(o));else{let l=this.plugins[u];l.mustUpdate=e,a.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=a,this.pluginMap.clear()}else for(let a of this.plugins)a.mustUpdate=e;for(let a=0;a<this.plugins.length;a++)this.plugins[a].update(this);r!=s&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let r=e.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(s){logException(this.state,s,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,s=this.scrollDOM,a=s.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:u}=this.viewState;Math.abs(a-this.viewState.scrollTop)>1&&(u=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(u<0)if(isScrolledToBottom(s))o=-1,u=this.viewState.heightMap.height;else{let g=this.viewState.scrollAnchorAt(a);o=g.from,u=g.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];c&4||([this.measureRequests,h]=[h,this.measureRequests]);let f=h.map(g=>{try{return g.read(this)}catch(O){return logException(this.state,O),BadMeasure}}),d=ViewUpdate.create(this,this.state,[]),m=!1;d.flags|=c,r?r.flags|=c:r=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),m=this.docView.update(d),m&&this.docViewUpdate());for(let g=0;g<h.length;g++)if(f[g]!=BadMeasure)try{let O=h[g];O.write&&O.write(f[g],this)}catch(O){logException(this.state,O)}if(m&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=-1;continue}else{let O=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-u;if(O>1||O<-1){a=a+O,s.scrollTop=a/this.scaleY,u=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let l of this.state.facet(updateListener))l(r)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let e=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,r);let s=this.observer.ignore(()=>{let a=updateAttrs(this.contentDOM,this.contentAttrs,r),o=updateAttrs(this.dom,this.editorAttrs,e);return a||o});return this.editorAttrs=e,this.contentAttrs=r,s}showAnnouncements(e){let r=!0;for(let s of e)for(let a of s.effects)if(a.is(EditorView.announce)){r&&(this.announceDOM.textContent=""),r=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=a.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let e=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.plugin!=e)&&this.pluginMap.set(e,r=this.plugins.find(s=>s.plugin==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,s){return skipAtoms(this,e,moveByChar(this,e,r,s))}moveByGroup(e,r){return skipAtoms(this,e,moveByChar(this,e,r,s=>byGroup(this,e.head,s)))}visualLineSide(e,r){let s=this.bidiSpans(e),a=this.textDirectionAt(e.from),o=s[r?s.length-1:0];return EditorSelection.cursor(o.side(r,a)+e.from,o.forward(!r,a)?1:-1)}moveToLineBoundary(e,r,s=!0){return moveToLineBoundary(this,e,r,s)}moveVertically(e,r,s){return skipAtoms(this,e,moveVertically(this,e,r,s))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),posAtCoords(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let s=this.docView.coordsAt(e,r);if(!s||s.left==s.right)return s;let a=this.state.doc.lineAt(e),o=this.bidiSpans(a),u=o[BidiSpan.find(o,e-a.from,-1,r)];return flattenRect(s,u.dir==Direction.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(perLineTextDirection)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>MaxBidiLine)return trivialOrder(e.length);let r=this.textDirectionAt(e.from),s;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==r&&(o.fresh||isolatesEq(o.isolates,s=getIsolatedRanges(this,e))))return o.order;s||(s=getIsolatedRanges(this,e));let a=computeOrder(e.text,r,s);return this.bidiCache.push(new CachedOrder(e.from,e.to,r,s,!0,a)),a}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return scrollIntoView$1.of(new ScrollTarget(typeof e=="number"?EditorSelection.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,s=this.viewState.scrollAnchorAt(e);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(s.from),"start","start",s.top-e,r,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ViewPlugin.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ViewPlugin.define(()=>({}),{eventObservers:e})}static theme(e,r){let s=StyleModule.newName(),a=[theme.of(s),styleModule.of(buildTheme(`.${s}`,e))];return r&&r.dark&&a.push(darkTheme.of(!0)),a}static baseTheme(e){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,e,lightDarkIDs)))}static findFromDOM(e){var r;let s=e.querySelector(".cm-content"),a=s&&ContentView.get(s)||ContentView.get(e);return((r=a==null?void 0:a.rootView)===null||r===void 0?void 0:r.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:n=>n.length?n[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(e,r,s,a,o,u){this.from=e,this.to=r,this.dir=s,this.isolates=a,this.fresh=o,this.order=u}static update(e,r){if(r.empty&&!e.some(o=>o.fresh))return e;let s=[],a=e.length?e[e.length-1].dir:Direction.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let u=e[o];u.dir==a&&!r.touchesRange(u.from,u.to)&&s.push(new CachedOrder(r.mapPos(u.from,1),r.mapPos(u.to,-1),u.dir,u.isolates,!1,u.order))}return s}}function attrsFromFacet(n,e,r){for(let s=n.state.facet(e),a=s.length-1;a>=0;a--){let o=s[a],u=typeof o=="function"?o(n):o;u&&combineAttrs(u,r)}return r}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(n,e){const r=n.split(/-(?!$)/);let s=r[r.length-1];s=="Space"&&(s=" ");let a,o,u,l;for(let c=0;c<r.length-1;++c){const h=r[c];if(/^(cmd|meta|m)$/i.test(h))l=!0;else if(/^a(lt)?$/i.test(h))a=!0;else if(/^(c|ctrl|control)$/i.test(h))o=!0;else if(/^s(hift)?$/i.test(h))u=!0;else if(/^mod$/i.test(h))e=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+h)}return a&&(s="Alt-"+s),o&&(s="Ctrl-"+s),l&&(s="Meta-"+s),u&&(s="Shift-"+s),s}function modifiers(n,e,r){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),r!==!1&&e.shiftKey&&(n="Shift-"+n),n}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(n,e){return runHandlers(getKeymap(e.state),n,e,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(n){let e=n.facet(keymap),r=Keymaps.get(e);return r||Keymaps.set(e,r=buildKeymap(e.reduce((s,a)=>s.concat(a),[]))),r}function runScopeHandlers(n,e,r){return runHandlers(getKeymap(n.state),e,n,r)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(n,e=currentPlatform){let r=Object.create(null),s=Object.create(null),a=(u,l)=>{let c=s[u];if(c==null)s[u]=l;else if(c!=l)throw new Error("Key binding "+u+" is used both as a regular binding and as a multi-stroke prefix")},o=(u,l,c,h,f)=>{var d,m;let g=r[u]||(r[u]=Object.create(null)),O=l.split(/ (?!$)/).map(A=>normalizeKeyName(A,e));for(let A=1;A<O.length;A++){let S=O.slice(0,A).join(" ");a(S,!0),g[S]||(g[S]={preventDefault:!0,stopPropagation:!1,run:[B=>{let $=storedPrefix={view:B,prefix:S,scope:u};return setTimeout(()=>{storedPrefix==$&&(storedPrefix=null)},PrefixTimeout),!0}]})}let E=O.join(" ");a(E,!1);let D=g[E]||(g[E]={preventDefault:!1,stopPropagation:!1,run:((m=(d=g._any)===null||d===void 0?void 0:d.run)===null||m===void 0?void 0:m.slice())||[]});c&&D.run.push(c),h&&(D.preventDefault=!0),f&&(D.stopPropagation=!0)};for(let u of n){let l=u.scope?u.scope.split(" "):["editor"];if(u.any)for(let h of l){let f=r[h]||(r[h]=Object.create(null));f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=u;for(let m in f)f[m].run.push(g=>d(g,currentKeyEvent))}let c=u[e]||u.key;if(c)for(let h of l)o(h,c,u.run,u.preventDefault,u.stopPropagation),u.shift&&o(h,"Shift-"+c,u.shift,u.preventDefault,u.stopPropagation)}return r}let currentKeyEvent=null;function runHandlers(n,e,r,s){currentKeyEvent=e;let a=keyName(e),o=codePointAt(a,0),u=codePointSize(o)==a.length&&a!=" ",l="",c=!1,h=!1,f=!1;storedPrefix&&storedPrefix.view==r&&storedPrefix.scope==s&&(l=storedPrefix.prefix+" ",modifierCodes.indexOf(e.keyCode)<0&&(h=!0,storedPrefix=null));let d=new Set,m=D=>{if(D){for(let A of D.run)if(!d.has(A)&&(d.add(A),A(r)))return D.stopPropagation&&(f=!0),!0;D.preventDefault&&(D.stopPropagation&&(f=!0),h=!0)}return!1},g=n[s],O,E;return g&&(m(g[l+modifiers(a,e,!u)])?c=!0:u&&(e.altKey||e.metaKey||e.ctrlKey)&&!(browser.windows&&e.ctrlKey&&e.altKey)&&!(browser.mac&&e.altKey&&!e.ctrlKey)&&(O=base[e.keyCode])&&O!=a?(m(g[l+modifiers(O,e,!0)])||e.shiftKey&&(E=shift[e.keyCode])!=a&&E!=O&&m(g[l+modifiers(E,e,!1)]))&&(c=!0):u&&e.shiftKey&&m(g[l+modifiers(a,e,!0)])&&(c=!0),!c&&m(g._any)&&(c=!0)),h&&(c=!0),c&&f&&e.stopPropagation(),currentKeyEvent=null,c}class RectangleMarker{constructor(e,r,s,a,o){this.className=e,this.left=r,this.top=s,this.width=a,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,s){if(s.empty){let a=e.coordsAtPos(s.head,s.assoc||1);if(!a)return[];let o=getBase(e);return[new RectangleMarker(r,a.left-o.left,a.top-o.top,null,a.bottom-a.top)]}else return rectanglesForRange(e,r,s)}}function getBase(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Direction.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function wrappedLine(n,e,r,s){let a=n.coordsAtPos(e,r*2);if(!a)return s;let o=n.dom.getBoundingClientRect(),u=(a.top+a.bottom)/2,l=n.posAtCoords({x:o.left+1,y:u}),c=n.posAtCoords({x:o.right-1,y:u});return l==null||c==null?s:{from:Math.max(s.from,Math.min(l,c)),to:Math.min(s.to,Math.max(l,c))}}function rectanglesForRange(n,e,r){if(r.to<=n.viewport.from||r.from>=n.viewport.to)return[];let s=Math.max(r.from,n.viewport.from),a=Math.min(r.to,n.viewport.to),o=n.textDirection==Direction.LTR,u=n.contentDOM,l=u.getBoundingClientRect(),c=getBase(n),h=u.querySelector(".cm-line"),f=h&&window.getComputedStyle(h),d=l.left+(f?parseInt(f.paddingLeft)+Math.min(0,parseInt(f.textIndent)):0),m=l.right-(f?parseInt(f.paddingRight):0),g=blockAt(n,s,1),O=blockAt(n,a,-1),E=g.type==BlockType.Text?g:null,D=O.type==BlockType.Text?O:null;if(E&&(n.lineWrapping||g.widgetLineBreaks)&&(E=wrappedLine(n,s,1,E)),D&&(n.lineWrapping||O.widgetLineBreaks)&&(D=wrappedLine(n,a,-1,D)),E&&D&&E.from==D.from&&E.to==D.to)return S(B(r.from,r.to,E));{let x=E?B(r.from,null,E):$(g,!1),w=D?B(null,r.to,D):$(O,!0),R=[];return(E||g).to<(D||O).from-(E&&D?1:0)||g.widgetLineBreaks>1&&x.bottom+n.defaultLineHeight/2<w.top?R.push(A(d,x.bottom,m,w.top)):x.bottom<w.top&&n.elementAtHeight((x.bottom+w.top)/2).type==BlockType.Text&&(x.bottom=w.top=(x.bottom+w.top)/2),S(x).concat(R).concat(S(w))}function A(x,w,R,k){return new RectangleMarker(e,x-c.left,w-c.top,R-x,k-w)}function S({top:x,bottom:w,horizontal:R}){let k=[];for(let y=0;y<R.length;y+=2)k.push(A(R[y],x,R[y+1],w));return k}function B(x,w,R){let k=1e9,y=-1e9,P=[];function b(Q,v,M,W,G){let Z=n.coordsAtPos(Q,Q==R.to?-2:2),V=n.coordsAtPos(M,M==R.from?2:-2);!Z||!V||(k=Math.min(Z.top,V.top,k),y=Math.max(Z.bottom,V.bottom,y),G==Direction.LTR?P.push(o&&v?d:Z.left,o&&W?m:V.right):P.push(!o&&W?d:V.left,!o&&v?m:Z.right))}let _=x??R.from,N=w??R.to;for(let Q of n.visibleRanges)if(Q.to>_&&Q.from<N)for(let v=Math.max(Q.from,_),M=Math.min(Q.to,N);;){let W=n.state.doc.lineAt(v);for(let G of n.bidiSpans(W)){let Z=G.from+W.from,V=G.to+W.from;if(Z>=M)break;V>v&&b(Math.max(Z,v),x==null&&Z<=_,Math.min(V,M),w==null&&V>=N,G.dir)}if(v=W.to+1,v>=M)break}return P.length==0&&b(_,x==null,N,w==null,n.textDirection),{top:k,bottom:y,horizontal:P}}function $(x,w){let R=l.top+(w?x.top:x.bottom);return{top:R,bottom:R,horizontal:[]}}}function sameMarker(n,e){return n.constructor==e.constructor&&n.eq(e)}class LayerView{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(layerOrder)!=e.state.facet(layerOrder)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let r=0,s=e.facet(layerOrder);for(;r<s.length&&s[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,s)=>!sameMarker(r,this.drawn[s]))){let r=this.dom.firstChild,s=0;for(let a of e)a.update&&r&&a.constructor&&this.drawn[s].constructor&&a.update(r,this.drawn[s])?(r=r.nextSibling,s++):this.dom.insertBefore(a.draw(),r);for(;r;){let a=r.nextSibling;r.remove(),r=a}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(n){return[ViewPlugin.define(e=>new LayerView(e,n)),layerOrder.of(n)]}const selectionConfig=Facet.define({combine(n){return combineConfig(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function drawSelection(n={}){return[selectionConfig.of(n),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(n){return n.startState.facet(selectionConfig)!=n.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(n){let{state:e}=n,r=e.facet(selectionConfig),s=[];for(let a of e.selection.ranges){let o=a==e.selection.main;if(a.empty||r.drawRangeCursor){let u=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=a.empty?a:EditorSelection.cursor(a.head,a.head>a.anchor?-1:1);for(let c of RectangleMarker.forRange(n,u,l))s.push(c)}}return s},update(n,e){n.transactions.some(s=>s.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=configChanged(n);return r&&setBlinkRate(n.state,e),n.docChanged||n.selectionSet||r},mount(n,e){setBlinkRate(e.state,n)},class:"cm-cursorLayer"});function setBlinkRate(n,e){e.style.animationDuration=n.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:RectangleMarker.forRange(n,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||configChanged(n)},class:"cm-selectionLayer"}),hideNativeSelection=Prec.highest(EditorView.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),setDropCursorPos=StateEffect.define({map(n,e){return n==null?null:e.mapPos(n)}}),dropCursorPos=StateField.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((r,s)=>s.is(setDropCursorPos)?s.value:r,n)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let r=n.state.field(dropCursorPos);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(dropCursorPos)!=r||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(dropCursorPos),r=e!=null&&n.coordsAtPos(e);if(!r)return null;let s=n.scrollDOM.getBoundingClientRect();return{left:r.left-s.left+n.scrollDOM.scrollLeft*n.scaleX,top:r.top-s.top+n.scrollDOM.scrollTop*n.scaleY,height:r.bottom-r.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/r+"px",this.cursor.style.height=n.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(dropCursorPos)!=n&&this.view.dispatch({effects:setDropCursorPos.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(n,e,r,s,a){e.lastIndex=0;for(let o=n.iterRange(r,s),u=r,l;!o.next().done;u+=o.value.length)if(!o.lineBreak)for(;l=e.exec(o.value);)a(u+l.index,l)}function matchRanges(n,e){let r=n.visibleRanges;if(r.length==1&&r[0].from==n.viewport.from&&r[0].to==n.viewport.to)return r;let s=[];for(let{from:a,to:o}of r)a=Math.max(n.state.doc.lineAt(a).from,a-e),o=Math.min(n.state.doc.lineAt(o).to,o+e),s.length&&s[s.length-1].to>=a?s[s.length-1].to=o:s.push({from:a,to:o});return s}class MatchDecorator{constructor(e){const{regexp:r,decoration:s,decorate:a,boundary:o,maxLength:u=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,a)this.addMatch=(l,c,h,f)=>a(f,h,h+l[0].length,l,c);else if(typeof s=="function")this.addMatch=(l,c,h,f)=>{let d=s(l,c,h);d&&f(h,h+l[0].length,d)};else if(s)this.addMatch=(l,c,h,f)=>f(h,h+l[0].length,s);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=u}createDeco(e){let r=new RangeSetBuilder,s=r.add.bind(r);for(let{from:a,to:o}of matchRanges(e,this.maxLength))iterMatches(e.state.doc,this.regexp,a,o,(u,l)=>this.addMatch(l,e,u,s));return r.finish()}updateDeco(e,r){let s=1e9,a=-1;return e.docChanged&&e.changes.iterChanges((o,u,l,c)=>{c>=e.view.viewport.from&&l<=e.view.viewport.to&&(s=Math.min(l,s),a=Math.max(c,a))}),e.viewportMoved||a-s>1e3?this.createDeco(e.view):a>-1?this.updateRange(e.view,r.map(e.changes),s,a):r}updateRange(e,r,s,a){for(let o of e.visibleRanges){let u=Math.max(o.from,s),l=Math.min(o.to,a);if(l>=u){let c=e.state.doc.lineAt(u),h=c.to<l?e.state.doc.lineAt(l):c,f=Math.max(o.from,c.from),d=Math.min(o.to,h.to);if(this.boundary){for(;u>c.from;u--)if(this.boundary.test(c.text[u-1-c.from])){f=u;break}for(;l<h.to;l++)if(this.boundary.test(h.text[l-h.from])){d=l;break}}let m=[],g,O=(E,D,A)=>m.push(A.range(E,D));if(c==h)for(this.regexp.lastIndex=f-c.from;(g=this.regexp.exec(c.text))&&g.index<d-c.from;)this.addMatch(g,e,g.index+c.from,O);else iterMatches(e.state.doc,this.regexp,f,d,(E,D)=>this.addMatch(D,e,E,O));r=r.update({filterFrom:f,filterTo:d,filter:(E,D)=>E<f||D>d,add:m})}}return r}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--ÂŸÂ­Øœâ€‹â€Žâ€\u2028\u2029â€­â€®â¦â§â©\uFEFFï¿¹-ï¿¼]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var n;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let e=document.body.style;_supportsTabSize=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(n){let e=combineConfig(n,{render:null,specialChars:Specials,addSpecialChars:null});return(e.replaceTabs=!supportsTabSize())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,UnicodeRegexpSupport)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,UnicodeRegexpSupport)),e}});function highlightSpecialChars(n={}){return[specialCharConfig.of(n),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new MatchDecorator({regexp:n.specialChars,decoration:(e,r,s)=>{let{doc:a}=r.state,o=codePointAt(e[0],0);if(o==9){let u=a.lineAt(s),l=r.state.tabSize,c=countColumn(u.text,l,s-u.from);return Decoration.replace({widget:new TabWidget((l-c%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=Decoration.replace({widget:new SpecialCharWidget(n,o)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(specialCharConfig);n.startState.facet(specialCharConfig)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const DefaultPlaceholder="â€¢";function placeholder$1(n){return n>=32?DefaultPlaceholder:n==10?"â¤":String.fromCharCode(9216+n)}class SpecialCharWidget extends WidgetType{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=placeholder$1(this.code),s=e.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),a=this.options.render&&this.options.render(this.code,s,r);if(a)return a;let o=document.createElement("span");return o.textContent=r,o.title=s,o.setAttribute("aria-label",s),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,r=[];for(let s of n.state.selection.ranges){let a=n.lineBlockAt(s.head);a.from>e&&(r.push(lineDeco.range(a.from)),e=a.from)}return Decoration.set(r)}},{decorations:n=>n.decorations}),MaxOff=2e3;function rectangleFor(n,e,r){let s=Math.min(e.line,r.line),a=Math.max(e.line,r.line),o=[];if(e.off>MaxOff||r.off>MaxOff||e.col<0||r.col<0){let u=Math.min(e.off,r.off),l=Math.max(e.off,r.off);for(let c=s;c<=a;c++){let h=n.doc.line(c);h.length<=l&&o.push(EditorSelection.range(h.from+u,h.to+l))}}else{let u=Math.min(e.col,r.col),l=Math.max(e.col,r.col);for(let c=s;c<=a;c++){let h=n.doc.line(c),f=findColumn(h.text,u,n.tabSize,!0);if(f<0)o.push(EditorSelection.cursor(h.to));else{let d=findColumn(h.text,l,n.tabSize);o.push(EditorSelection.range(h.from+f,h.from+d))}}}return o}function absoluteColumn(n,e){let r=n.coordsAtPos(n.viewport.from);return r?Math.round(Math.abs((r.left-e)/n.defaultCharacterWidth)):-1}function getPos(n,e){let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),s=n.state.doc.lineAt(r),a=r-s.from,o=a>MaxOff?-1:a==s.length?absoluteColumn(n,e.clientX):countColumn(s.text,n.state.tabSize,r-s.from);return{line:s.number,col:o,off:a}}function rectangleSelectionStyle(n,e){let r=getPos(n,e),s=n.state.selection;return r?{update(a){if(a.docChanged){let o=a.changes.mapPos(a.startState.doc.line(r.line).from),u=a.state.doc.lineAt(o);r={line:u.number,col:r.col,off:Math.min(r.off,u.length)},s=s.map(a.changes)}},get(a,o,u){let l=getPos(n,a);if(!l)return s;let c=rectangleFor(n.state,r,l);return c.length?u?EditorSelection.create(c.concat(s.ranges)):EditorSelection.create(c):s}}:null}function rectangularSelection(n){let e=r=>r.altKey&&r.button==0;return EditorView.mouseSelectionStyle.of((r,s)=>e(s)?rectangleSelectionStyle(r,s):null)}const keys={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(n={}){let[e,r]=keys[n.key||"Alt"],s=ViewPlugin.fromClass(class{constructor(a){this.view=a,this.isDown=!1}set(a){this.isDown!=a&&(this.isDown=a,this.view.update([]))}},{eventObservers:{keydown(a){this.set(a.keyCode==e||r(a))},keyup(a){(a.keyCode==e||!r(a))&&this.set(!1)},mousemove(a){this.set(r(a))}}});return[s,EditorView.contentAttributes.of(a=>{var o;return!((o=a.plugin(s))===null||o===void 0)&&o.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(e,r,s,a){this.facet=r,this.createTooltipView=s,this.removeTooltipView=a,this.input=e.state.facet(r),this.tooltips=this.input.filter(u=>u);let o=null;this.tooltipViews=this.tooltips.map(u=>o=s(u,o))}update(e,r){var s;let a=e.state.facet(this.facet),o=a.filter(c=>c);if(a===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let u=[],l=r?[]:null;for(let c=0;c<o.length;c++){let h=o[c],f=-1;if(h){for(let d=0;d<this.tooltips.length;d++){let m=this.tooltips[d];m&&m.create==h.create&&(f=d)}if(f<0)u[c]=this.createTooltipView(h,c?u[c-1]:null),l&&(l[c]=!!h.above);else{let d=u[c]=this.tooltipViews[f];l&&(l[c]=r[f]),d.update&&d.update(e)}}}for(let c of this.tooltipViews)u.indexOf(c)<0&&(this.removeTooltipView(c),(s=c.destroy)===null||s===void 0||s.call(c));return r&&(l.forEach((c,h)=>r[h]=c),r.length=l.length),this.input=a,this.tooltips=o,this.tooltipViews=u,!0}}function windowSpace(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const tooltipConfig=Facet.define({combine:n=>{var e,r,s;return{position:browser.ios?"absolute":((e=n.find(a=>a.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=n.find(a=>a.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((s=n.find(a=>a.tooltipSpace))===null||s===void 0?void 0:s.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(tooltipConfig);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(n,showTooltip,(r,s)=>this.createTooltip(r,s),r=>{this.resizeObserver&&this.resizeObserver.unobserve(r.dom),r.dom.remove()}),this.above=this.manager.tooltips.map(r=>!!r.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let r=e||n.geometryChanged,s=n.state.facet(tooltipConfig);if(s.position!=this.position&&!this.madeAbsolute){this.position=s.position;for(let a of this.manager.tooltipViews)a.dom.style.position=this.position;r=!0}if(s.parent!=this.parent){this.parent&&this.container.remove(),this.parent=s.parent,this.createContainer();for(let a of this.manager.tooltipViews)this.container.appendChild(a.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(n,e){let r=n.create(this.view),s=e?e.dom:null;if(r.dom.classList.add("cm-tooltip"),n.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let a=document.createElement("div");a.className="cm-tooltip-arrow",r.dom.appendChild(a)}return r.dom.style.position=this.position,r.dom.style.top=Outside,r.dom.style.left="0px",this.container.insertBefore(r.dom,s),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var n,e,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let s of this.manager.tooltipViews)s.dom.remove(),(n=s.destroy)===null||n===void 0||n.call(s);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.intersectionObserver)===null||r===void 0||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(browser.gecko)r=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==Outside&&o.style.left=="0px"){let u=o.getBoundingClientRect();r=Math.abs(u.top+1e4)>1||Math.abs(u.left)>1}}if(r||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(n=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let s=this.view.scrollDOM.getBoundingClientRect(),a=getScrollMargins(this.view);return{visible:{left:s.left+a.left,top:s.top+a.top,right:s.right-a.right,bottom:s.bottom-a.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,u)=>{let l=this.manager.tooltipViews[u];return l.getCoords?l.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:r}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{visible:r,space:s,scaleX:a,scaleY:o}=n,u=[];for(let l=0;l<this.manager.tooltips.length;l++){let c=this.manager.tooltips[l],h=this.manager.tooltipViews[l],{dom:f}=h,d=n.pos[l],m=n.size[l];if(!d||c.clip!==!1&&(d.bottom<=Math.max(r.top,s.top)||d.top>=Math.min(r.bottom,s.bottom)||d.right<Math.max(r.left,s.left)-.1||d.left>Math.min(r.right,s.right)+.1)){f.style.top=Outside;continue}let g=c.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,O=g?7:0,E=m.right-m.left,D=(e=knownHeight.get(h))!==null&&e!==void 0?e:m.bottom-m.top,A=h.offset||noOffset,S=this.view.textDirection==Direction.LTR,B=m.width>s.right-s.left?S?s.left:s.right-m.width:S?Math.max(s.left,Math.min(d.left-(g?14:0)+A.x,s.right-E)):Math.min(Math.max(s.left,d.left-E+(g?14:0)-A.x),s.right-E),$=this.above[l];!c.strictSide&&($?d.top-D-O-A.y<s.top:d.bottom+D+O+A.y>s.bottom)&&$==s.bottom-d.bottom>d.top-s.top&&($=this.above[l]=!$);let x=($?d.top-s.top:s.bottom-d.bottom)-O;if(x<D&&h.resize!==!1){if(x<this.view.defaultLineHeight){f.style.top=Outside;continue}knownHeight.set(h,D),f.style.height=(D=x)/o+"px"}else f.style.height&&(f.style.height="");let w=$?d.top-D-O-A.y:d.bottom+O+A.y,R=B+E;if(h.overlap!==!0)for(let k of u)k.left<R&&k.right>B&&k.top<w+D&&k.bottom>w&&(w=$?k.top-D-2-O:k.bottom+O+2);if(this.position=="absolute"?(f.style.top=(w-n.parent.top)/o+"px",setLeftStyle(f,(B-n.parent.left)/a)):(f.style.top=w/o+"px",setLeftStyle(f,B/a)),g){let k=d.left+(S?A.x:-A.x)-(B+14-7);g.style.left=k/a+"px"}h.overlap!==!0&&u.push({left:B,top:w,right:R,bottom:w+D}),f.classList.toggle("cm-tooltip-above",$),f.classList.toggle("cm-tooltip-below",!$),h.positioned&&h.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(n,e){let r=parseInt(n.style.left,10);(isNaN(r)||Math.abs(e-r)>1)&&(n.style.left=e+"px")}const baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:n=>n.reduce((e,r)=>e.concat(r),[])});class HoverTooltipHost{static create(e){return new HoverTooltipHost(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(e,showHoverTooltip,(r,s)=>this.createHostedView(r,s),r=>r.dom.remove())}createHostedView(e,r){let s=e.create(this.view);return s.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(s.dom,r?r.dom.nextSibling:this.dom.firstChild),this.mounted&&s.mount&&s.mount(this.view),s}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let s of this.manager.tooltipViews){let a=s[e];if(a!==void 0){if(r===void 0)r=a;else if(r!==a)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],n=>{let e=n.facet(showHoverTooltip);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var s;return(s=r.end)!==null&&s!==void 0?s:r.pos})),create:HoverTooltipHost.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class HoverPlugin{constructor(e,r,s,a,o){this.view=e,this.source=r,this.field=s,this.setHover=a,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,s=e.docView.nearest(r.target);if(!s)return;let a,o=1;if(s instanceof WidgetView)a=s.posAtStart;else{if(a=e.posAtCoords(r),a==null)return;let l=e.coordsAtPos(a);if(!l||r.y<l.top||r.y>l.bottom||r.x<l.left-e.defaultCharacterWidth||r.x>l.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(a)).find(f=>f.from<=a&&f.to>=a),h=c&&c.dir==Direction.RTL?-1:1;o=r.x<l.left?-h:h}let u=this.source(e,a,o);if(u!=null&&u.then){let l=this.pending={pos:a};u.then(c=>{this.pending==l&&(this.pending=null,c&&!(Array.isArray(c)&&!c.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>logException(e.state,c,"hover tooltip"))}else u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])})}get tooltip(){let e=this.view.plugin(tooltipPlugin),r=e?e.manager.tooltips.findIndex(s=>s.create==HoverTooltipHost.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r,s;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:a,tooltip:o}=this;if(a.length&&o&&!isInTooltip(o.dom,e)||this.pending){let{pos:u}=a[0]||this.pending,l=(s=(r=a[0])===null||r===void 0?void 0:r.end)!==null&&s!==void 0?s:u;(u==l?this.view.posAtCoords(this.lastMove)!=u:!isOverRange(this.view,u,l,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r.length){let{tooltip:s}=this;s&&s.dom.contains(e.relatedTarget)?this.watchTooltipLeave(s.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let r=s=>{e.removeEventListener("mouseleave",r),this.active.length&&!this.view.dom.contains(s.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(n,e){let{left:r,right:s,top:a,bottom:o}=n.getBoundingClientRect(),u;if(u=n.querySelector(".cm-tooltip-arrow")){let l=u.getBoundingClientRect();a=Math.min(l.top,a),o=Math.max(l.bottom,o)}return e.clientX>=r-tooltipMargin&&e.clientX<=s+tooltipMargin&&e.clientY>=a-tooltipMargin&&e.clientY<=o+tooltipMargin}function isOverRange(n,e,r,s,a,o){let u=n.scrollDOM.getBoundingClientRect(),l=n.documentTop+n.documentPadding.top+n.contentHeight;if(u.left>s||u.right<s||u.top>a||Math.min(u.bottom,l)<a)return!1;let c=n.posAtCoords({x:s,y:a},!1);return c>=e&&c<=r}function hoverTooltip(n,e={}){let r=StateEffect.define(),s=StateField.define({create(){return[]},update(a,o){if(a.length&&(e.hideOnChange&&(o.docChanged||o.selection)?a=[]:e.hideOn&&(a=a.filter(u=>!e.hideOn(o,u))),o.docChanged)){let u=[];for(let l of a){let c=o.changes.mapPos(l.pos,-1,MapMode.TrackDel);if(c!=null){let h=Object.assign(Object.create(null),l);h.pos=c,h.end!=null&&(h.end=o.changes.mapPos(h.end)),u.push(h)}}a=u}for(let u of o.effects)u.is(r)&&(a=u.value),u.is(closeHoverTooltipEffect)&&(a=[]);return a},provide:a=>showHoverTooltip.from(a)});return{active:s,extension:[s,ViewPlugin.define(a=>new HoverPlugin(a,n,s,r,e.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(n,e){let r=n.plugin(tooltipPlugin);if(!r)return null;let s=r.manager.tooltips.indexOf(e);return s<0?null:r.manager.tooltipViews[s]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(n){let e,r;for(let s of n)e=e||s.topContainer,r=r||s.bottomContainer;return{topContainer:e,bottomContainer:r}}});function getPanel(n,e){let r=n.plugin(panelPlugin),s=r?r.specs.indexOf(e):-1;return s>-1?r.panels[s]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(n){this.input=n.state.facet(showPanel),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(n));let e=n.state.facet(panelConfig);this.top=new PanelGroup(n,!0,e.topContainer),this.bottom=new PanelGroup(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(n){let e=n.state.facet(panelConfig);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new PanelGroup(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=n.state.facet(showPanel);if(r!=this.input){let s=r.filter(c=>c),a=[],o=[],u=[],l=[];for(let c of s){let h=this.specs.indexOf(c),f;h<0?(f=c(n.view),l.push(f)):(f=this.panels[h],f.update&&f.update(n)),a.push(f),(f.top?o:u).push(f)}this.specs=s,this.panels=a,this.top.sync(o),this.bottom.sync(u);for(let c of l)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let s of this.panels)s.update&&s.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>EditorView.scrollMargins.of(e=>{let r=e.plugin(n);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class PanelGroup{constructor(e,r,s){this.view=e,this.top=r,this.container=s,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=rm(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=rm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function rm(n){let e=n.nextSibling;return n.remove(),e}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},activeGutters=Facet.define();function gutter(n){return[gutters(),activeGutters.of({...defaults$1,...n})]}const unfixGutters=Facet.define({combine:n=>n.some(e=>e)});function gutters(n){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(activeGutters).map(e=>new SingleGutterView(n,e)),this.fixed=!n.state.facet(unfixGutters);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,r=n.view.viewport,s=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(s<(r.to-r.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let r=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),s=[],a=this.gutters.map(o=>new UpdateContext(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(s.length&&(s=[]),Array.isArray(o.type)){let u=!0;for(let l of o.type)if(l.type==BlockType.Text&&u){advanceCursor(r,s,l.from);for(let c of a)c.line(this.view,l,s);u=!1}else if(l.widget)for(let c of a)c.widget(this.view,l)}else if(o.type==BlockType.Text){advanceCursor(r,s,o.from);for(let u of a)u.line(this.view,o,s)}else if(o.widget)for(let u of a)u.widget(this.view,o);for(let o of a)o.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(activeGutters),r=n.state.facet(activeGutters),s=n.docChanged||n.heightChanged||n.viewportChanged||!RangeSet.eq(n.startState.facet(gutterLineClass),n.state.facet(gutterLineClass),n.view.viewport.from,n.view.viewport.to);if(e==r)for(let a of this.gutters)a.update(n)&&(s=!0);else{s=!0;let a=[];for(let o of r){let u=e.indexOf(o);u<0?a.push(new SingleGutterView(this.view,o)):(this.gutters[u].update(n),a.push(this.gutters[u]))}for(let o of this.gutters)o.dom.remove(),a.indexOf(o)<0&&o.destroy();for(let o of a)o.config.side=="after"?this.getDOMAfter().appendChild(o.dom):this.dom.appendChild(o.dom);this.gutters=a}return s}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>EditorView.scrollMargins.of(e=>{let r=e.plugin(n);if(!r||r.gutters.length==0||!r.fixed)return null;let s=r.dom.offsetWidth*e.scaleX,a=r.domAfter?r.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Direction.LTR?{left:s,right:a}:{right:s,left:a}})});function asArray(n){return Array.isArray(n)?n:[n]}function advanceCursor(n,e,r){for(;n.value&&n.from<=r;)n.from==r&&e.push(n.value),n.next()}class UpdateContext{constructor(e,r,s){this.gutter=e,this.height=s,this.i=0,this.cursor=RangeSet.iter(e.markers,r.from)}addElement(e,r,s){let{gutter:a}=this,o=(r.top-this.height)/e.scaleY,u=r.height/e.scaleY;if(this.i==a.elements.length){let l=new GutterElement(e,u,o,s);a.elements.push(l),a.dom.appendChild(l.dom)}else a.elements[this.i].update(e,u,o,s);this.height=r.bottom,this.i++}line(e,r,s){let a=[];advanceCursor(this.cursor,a,r.from),s.length&&(a=a.concat(s));let o=this.gutter.config.lineMarker(e,r,a);o&&a.unshift(o);let u=this.gutter;a.length==0&&!u.config.renderEmptyElements||this.addElement(e,r,a)}widget(e,r){let s=this.gutter.config.widgetMarker(e,r.widget,r),a=s?[s]:null;for(let o of e.state.facet(gutterWidgetClass)){let u=o(e,r.widget,r);u&&(a||(a=[])).push(u)}a&&this.addElement(e,r,a)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class SingleGutterView{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let s in r.domEventHandlers)this.dom.addEventListener(s,a=>{let o=a.target,u;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let c=o.getBoundingClientRect();u=(c.top+c.bottom)/2}else u=a.clientY;let l=e.lineBlockAtHeight(u-e.documentTop);r.domEventHandlers[s](e,l,a)&&a.preventDefault()});this.markers=asArray(r.markers(e)),r.initialSpacer&&(this.spacer=new GutterElement(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=asArray(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let a=this.config.updateSpacer(this.spacer.markers[0],e);a!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[a])}let s=e.view.viewport;return!RangeSet.eq(this.markers,r,s.from,s.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class GutterElement{constructor(e,r,s,a){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,s,a)}update(e,r,s,a){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=s&&(this.dom.style.marginTop=(this.above=s)?s+"px":""),sameMarkers(this.markers,a)||this.setMarkers(e,a)}setMarkers(e,r){let s="cm-gutterElement",a=this.dom.firstChild;for(let o=0,u=0;;){let l=u,c=o<r.length?r[o++]:null,h=!1;if(c){let f=c.elementClass;f&&(s+=" "+f);for(let d=u;d<this.markers.length;d++)if(this.markers[d].compare(c)){l=d,h=!0;break}}else l=this.markers.length;for(;u<l;){let f=this.markers[u++];if(f.toDOM){f.destroy(a);let d=a.nextSibling;a.remove(),a=d}}if(!c)break;c.toDOM&&(h?a=a.nextSibling:this.dom.insertBefore(c.toDOM(e),a)),h&&u++}this.dom.className=s,this.markers=r}destroy(){this.setMarkers(null,[])}}function sameMarkers(n,e){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!n[r].compare(e[r]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(n){return combineConfig(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let s=Object.assign({},e);for(let a in r){let o=s[a],u=r[a];s[a]=o?(l,c,h)=>o(l,c,h)||u(l,c,h):u}return s}})}});class NumberMarker extends GutterMarker{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(n,e){return n.state.facet(lineNumberConfig).formatNumber(e,n.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(lineNumberMarkers)},lineMarker(e,r,s){return s.some(a=>a.toDOM)?null:new NumberMarker(formatNumber(e,e.state.doc.lineAt(r.from).number))},widgetMarker:(e,r,s)=>{for(let a of e.state.facet(lineNumberWidgetMarker)){let o=a(e,r,s);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(lineNumberConfig)!=e.state.facet(lineNumberConfig),initialSpacer(e){return new NumberMarker(formatNumber(e,maxLineNumber(e.state.doc.lines)))},updateSpacer(e,r){let s=formatNumber(r.view,maxLineNumber(r.view.state.doc.lines));return s==e.number?e:new NumberMarker(s)},domEventHandlers:n.facet(lineNumberConfig).domEventHandlers,side:"before"}));function lineNumbers(n={}){return[lineNumberConfig.of(n),gutters(),lineNumberGutter]}function maxLineNumber(n){let e=9;for(;e<n;)e=e*10+9;return e}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],n=>{let e=[],r=-1;for(let s of n.selection.ranges){let a=n.doc.lineAt(s.head).from;a>r&&(r=a,e.push(activeLineGutterMarker.range(a)))}return RangeSet.of(e)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(e,r){this.from=e,this.to=r}}class NodeProp{constructor(e={}){this.id=nextPropID++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=NodeType.match(e)),r=>{let s=e(r);return s===void 0?null:[this,s]}}}NodeProp.closedBy=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.group=new NodeProp({deserialize:n=>n.split(" ")});NodeProp.isolate=new NodeProp({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(e,r,s){this.tree=e,this.overlay=r,this.parser=s}static get(e){return e&&e.props&&e.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(e,r,s,a=0){this.name=e,this.props=r,this.id=s,this.flags=a}static define(e){let r=e.props&&e.props.length?Object.create(null):noProps,s=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),a=new NodeType(e.name||"",r,e.id,s);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(a)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[o[0].id]=o[1]}}return a}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(NodeProp.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let s in e)for(let a of s.split(" "))r[a]=e[s];return s=>{for(let a=s.prop(NodeProp.group),o=-1;o<(a?a.length:0);o++){let u=r[o<0?s.name:a[o]];if(u)return u}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let s of this.types){let a=null;for(let o of e){let u=o(s);u&&(a||(a=Object.assign({},s.props)),a[u[0].id]=u[1])}r.push(a?new NodeType(s.name,a,s.id,s.flags):s)}return new NodeSet(r)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(e,r,s,a,o){if(this.type=e,this.children=r,this.positions=s,this.length=a,this.props=null,o&&o.length){this.props=Object.create(null);for(let[u,l]of o)this.props[typeof u=="number"?u:u.id]=l}}toString(){let e=MountedTree.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let s of this.children){let a=s.toString();a&&(r&&(r+=","),r+=a)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new TreeCursor(this.topNode,e)}cursorAt(e,r=0,s=0){let a=CachedNode.get(this)||this.topNode,o=new TreeCursor(a);return o.moveTo(e,r),CachedNode.set(this,o._tree),o}get topNode(){return new TreeNode(this,0,0,null)}resolve(e,r=0){let s=resolveNode(CachedNode.get(this)||this.topNode,e,r,!1);return CachedNode.set(this,s),s}resolveInner(e,r=0){let s=resolveNode(CachedInnerNode.get(this)||this.topNode,e,r,!0);return CachedInnerNode.set(this,s),s}resolveStack(e,r=0){return stackIterator(this,e,r)}iterate(e){let{enter:r,leave:s,from:a=0,to:o=this.length}=e,u=e.mode||0,l=(u&IterMode.IncludeAnonymous)>0;for(let c=this.cursor(u|IterMode.IncludeAnonymous);;){let h=!1;if(c.from<=o&&c.to>=a&&(!l&&c.type.isAnonymous||r(c)!==!1)){if(c.firstChild())continue;h=!0}for(;h&&s&&(l||!c.type.isAnonymous)&&s(c),!c.nextSibling();){if(!c.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(r,s,a)=>new Tree(this.type,r,s,a,this.propValues),e.makeTree||((r,s,a)=>new Tree(NodeType.none,r,s,a)))}static build(e){return buildTree(e)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(e,r,s){this.buffer=e,this.length=r,this.set=s}get type(){return NodeType.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],s=this.buffer[e+3],a=this.set.types[r],o=a.name;if(/\W/.test(o)&&!a.isError&&(o=JSON.stringify(o)),e+=4,s==e)return o;let u=[];for(;e<s;)u.push(this.childString(e)),e=this.buffer[e+3];return o+"("+u.join(",")+")"}findChild(e,r,s,a,o){let{buffer:u}=this,l=-1;for(let c=e;c!=r&&!(checkSide(o,a,u[c+1],u[c+2])&&(l=c,s>0));c=u[c+3]);return l}slice(e,r,s){let a=this.buffer,o=new Uint16Array(r-e),u=0;for(let l=e,c=0;l<r;){o[c++]=a[l++],o[c++]=a[l++]-s;let h=o[c++]=a[l++]-s;o[c++]=a[l++]-e,u=Math.max(u,h)}return new TreeBuffer(o,u,this.set)}}function checkSide(n,e,r,s){switch(n){case-2:return r<e;case-1:return s>=e&&r<e;case 0:return r<e&&s>e;case 1:return r<=e&&s>e;case 2:return s>e;case 4:return!0}}function resolveNode(n,e,r,s){for(var a;n.from==n.to||(r<1?n.from>=e:n.from>e)||(r>-1?n.to<=e:n.to<e);){let u=!s&&n instanceof TreeNode&&n.index<0?null:n.parent;if(!u)return n;n=u}let o=s?0:IterMode.IgnoreOverlays;if(s)for(let u=n,l=u.parent;l;u=l,l=u.parent)u instanceof TreeNode&&u.index<0&&((a=l.enter(e,r,o))===null||a===void 0?void 0:a.from)!=u.from&&(n=l);for(;;){let u=n.enter(e,r,o);if(!u)return n;n=u}}class BaseNode{cursor(e=0){return new TreeCursor(this,e)}getChild(e,r=null,s=null){let a=getChildren(this,e,r,s);return a.length?a[0]:null}getChildren(e,r=null,s=null){return getChildren(this,e,r,s)}resolve(e,r=0){return resolveNode(this,e,r,!1)}resolveInner(e,r=0){return resolveNode(this,e,r,!0)}matchContext(e){return matchNodeContext(this.parent,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),s=this;for(;r;){let a=r.lastChild;if(!a||a.to!=r.to)break;a.type.isError&&a.from==a.to?(s=r,r=a.prevSibling):r=a}return s}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(e,r,s,a){super(),this._tree=e,this.from=r,this.index=s,this._parent=a}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,s,a,o=0){for(let u=this;;){for(let{children:l,positions:c}=u._tree,h=r>0?l.length:-1;e!=h;e+=r){let f=l[e],d=c[e]+u.from;if(checkSide(a,s,d,d+f.length)){if(f instanceof TreeBuffer){if(o&IterMode.ExcludeBuffers)continue;let m=f.findChild(0,f.buffer.length,r,s-d,a);if(m>-1)return new BufferNode(new BufferContext(u,f,e,d),null,m)}else if(o&IterMode.IncludeAnonymous||!f.type.isAnonymous||hasChild(f)){let m;if(!(o&IterMode.IgnoreMounts)&&(m=MountedTree.get(f))&&!m.overlay)return new TreeNode(m.tree,d,e,u);let g=new TreeNode(f,d,e,u);return o&IterMode.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(r<0?f.children.length-1:0,r,s,a)}}}if(o&IterMode.IncludeAnonymous||!u.type.isAnonymous||(u.index>=0?e=u.index+r:e=r<0?-1:u._parent._tree.children.length,u=u._parent,!u))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,s=0){let a;if(!(s&IterMode.IgnoreOverlays)&&(a=MountedTree.get(this._tree))&&a.overlay){let o=e-this.from;for(let{from:u,to:l}of a.overlay)if((r>0?u<=o:u<o)&&(r<0?l>=o:l>o))return new TreeNode(a.tree,a.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,s)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(n,e,r,s){let a=n.cursor(),o=[];if(!a.firstChild())return o;if(r!=null){for(let u=!1;!u;)if(u=a.type.is(r),!a.nextSibling())return o}for(;;){if(s!=null&&a.type.is(s))return o;if(a.type.is(e)&&o.push(a.node),!a.nextSibling())return s==null?o:[]}}function matchNodeContext(n,e,r=e.length-1){for(let s=n;r>=0;s=s.parent){if(!s)return!1;if(!s.type.isAnonymous){if(e[r]&&e[r]!=s.name)return!1;r--}}return!0}class BufferContext{constructor(e,r,s,a){this.parent=e,this.buffer=r,this.index=s,this.start=a}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,s){super(),this.context=e,this._parent=r,this.index=s,this.type=e.buffer.set.types[e.buffer.buffer[s]]}child(e,r,s){let{buffer:a}=this.context,o=a.findChild(this.index+4,a.buffer[this.index+3],e,r-this.context.start,s);return o<0?null:new BufferNode(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,s=0){if(s&IterMode.ExcludeBuffers)return null;let{buffer:a}=this.context,o=a.findChild(this.index+4,a.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return o<0?null:new BufferNode(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new BufferNode(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new BufferNode(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:s}=this.context,a=this.index+4,o=s.buffer[this.index+3];if(o>a){let u=s.buffer[this.index+1];e.push(s.slice(a,o,u)),r.push(0)}return new Tree(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(n){if(!n.length)return null;let e=0,r=n[0];for(let o=1;o<n.length;o++){let u=n[o];(u.from>r.from||u.to<r.to)&&(r=u,e=o)}let s=r instanceof TreeNode&&r.index<0?null:r.parent,a=n.slice();return s?a[e]=s:a.splice(e,1),new StackIterator(a,r)}class StackIterator{constructor(e,r){this.heads=e,this.node=r}get next(){return iterStack(this.heads)}}function stackIterator(n,e,r){let s=n.resolveInner(e,r),a=null;for(let o=s instanceof TreeNode?s:s.context.parent;o;o=o.parent)if(o.index<0){let u=o.parent;(a||(a=[s])).push(u.resolve(e,r)),o=u}else{let u=MountedTree.get(o.tree);if(u&&u.overlay&&u.overlay[0].from<=e&&u.overlay[u.overlay.length-1].to>=e){let l=new TreeNode(u.tree,u.overlay[0].from+o.from,-1,o);(a||(a=[s])).push(resolveNode(l,e,r,!1))}}return a?iterStack(a):s}class TreeCursor{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof TreeNode)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let s=e._parent;s;s=s._parent)this.stack.unshift(s.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:s,buffer:a}=this.buffer;return this.type=r||a.set.types[a.buffer[e]],this.from=s+a.buffer[e+1],this.to=s+a.buffer[e+2],!0}yield(e){return e?e instanceof TreeNode?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,s){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,s,this.mode));let{buffer:a}=this.buffer,o=a.findChild(this.index+4,a.buffer[this.index+3],e,r-this.buffer.start,s);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,s=this.mode){return this.buffer?s&IterMode.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,s))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,s=this.stack.length-1;if(e<0){let a=s<0?0:this.stack[s]+4;if(this.index!=a)return this.yieldBuf(r.findChild(a,this.index,-1,0,4))}else{let a=r.buffer[this.index+3];if(a<(s<0?r.buffer.length:r.buffer[this.stack[s]+3]))return this.yieldBuf(a)}return s<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,s,{buffer:a}=this;if(a){if(e>0){if(this.index<a.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(a.buffer.buffer[o+3]<this.index)return!1;({index:r,parent:s}=a)}else({index:r,_parent:s}=this._tree);for(;s;{index:r,_parent:s}=s)if(r>-1)for(let o=r+e,u=e<0?-1:s._tree.children.length;o!=u;o+=e){let l=s._tree.children[o];if(this.mode&IterMode.IncludeAnonymous||l instanceof TreeBuffer||!l.type.isAnonymous||hasChild(l))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,s=0;if(e&&e.context==this.buffer)e:for(let a=this.index,o=this.stack.length;o>=0;){for(let u=e;u;u=u._parent)if(u.index==a){if(a==this.index)return u;r=u,s=o+1;break e}a=this.stack[--o]}for(let a=s;a<this.stack.length;a++)r=new BufferNode(this.buffer,r,this.stack[a]);return this.bufferNode=new BufferNode(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let s=0;;){let a=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){s++;continue}this.type.isAnonymous||(a=!0)}for(;;){if(a&&r&&r(this),a=this.type.isAnonymous,!s)return;if(this.nextSibling())break;this.parent(),s--,a=!0}}}matchContext(e){if(!this.buffer)return matchNodeContext(this.node.parent,e);let{buffer:r}=this.buffer,{types:s}=r.set;for(let a=e.length-1,o=this.stack.length-1;a>=0;o--){if(o<0)return matchNodeContext(this._tree,e,a);let u=s[r.buffer[this.stack[o]]];if(!u.isAnonymous){if(e[a]&&e[a]!=u.name)return!1;a--}}return!0}}function hasChild(n){return n.children.some(e=>e instanceof TreeBuffer||!e.type.isAnonymous||hasChild(e))}function buildTree(n){var e;let{buffer:r,nodeSet:s,maxBufferLength:a=DefaultBufferLength,reused:o=[],minRepeatType:u=s.types.length}=n,l=Array.isArray(r)?new FlatBufferCursor(r,r.length):r,c=s.types,h=0,f=0;function d(x,w,R,k,y,P){let{id:b,start:_,end:N,size:Q}=l,v=f,M=h;for(;Q<0;)if(l.next(),Q==-1){let Y=o[b];R.push(Y),k.push(_-x);return}else if(Q==-3){h=b;return}else if(Q==-4){f=b;return}else throw new RangeError(`Unrecognized record size: ${Q}`);let W=c[b],G,Z,V=_-x;if(N-_<=a&&(Z=D(l.pos-w,y))){let Y=new Uint16Array(Z.size-Z.skip),j=l.pos-Z.size,H=Y.length;for(;l.pos>j;)H=A(Z.start,Y,H);G=new TreeBuffer(Y,N-Z.start,s),V=Z.start-x}else{let Y=l.pos-Q;l.next();let j=[],H=[],K=b>=u?b:-1,J=0,L=N;for(;l.pos>Y;)K>=0&&l.id==K&&l.size>=0?(l.end<=L-a&&(O(j,H,_,J,l.end,L,K,v,M),J=j.length,L=l.end),l.next()):P>2500?m(_,Y,j,H):d(_,Y,j,H,K,P+1);if(K>=0&&J>0&&J<j.length&&O(j,H,_,J,_,L,K,v,M),j.reverse(),H.reverse(),K>-1&&J>0){let U=g(W,M);G=balanceRange(W,j,H,0,j.length,0,N-_,U,U)}else G=E(W,j,H,N-_,v-N,M)}R.push(G),k.push(V)}function m(x,w,R,k){let y=[],P=0,b=-1;for(;l.pos>w;){let{id:_,start:N,end:Q,size:v}=l;if(v>4)l.next();else{if(b>-1&&N<b)break;b<0&&(b=Q-a),y.push(_,N,Q),P++,l.next()}}if(P){let _=new Uint16Array(P*4),N=y[y.length-2];for(let Q=y.length-3,v=0;Q>=0;Q-=3)_[v++]=y[Q],_[v++]=y[Q+1]-N,_[v++]=y[Q+2]-N,_[v++]=v;R.push(new TreeBuffer(_,y[2]-N,s)),k.push(N-x)}}function g(x,w){return(R,k,y)=>{let P=0,b=R.length-1,_,N;if(b>=0&&(_=R[b])instanceof Tree){if(!b&&_.type==x&&_.length==y)return _;(N=_.prop(NodeProp.lookAhead))&&(P=k[b]+_.length+N)}return E(x,R,k,y,P,w)}}function O(x,w,R,k,y,P,b,_,N){let Q=[],v=[];for(;x.length>k;)Q.push(x.pop()),v.push(w.pop()+R-y);x.push(E(s.types[b],Q,v,P-y,_-P,N)),w.push(y-R)}function E(x,w,R,k,y,P,b){if(P){let _=[NodeProp.contextHash,P];b=b?[_].concat(b):[_]}if(y>25){let _=[NodeProp.lookAhead,y];b=b?[_].concat(b):[_]}return new Tree(x,w,R,k,b)}function D(x,w){let R=l.fork(),k=0,y=0,P=0,b=R.end-a,_={size:0,start:0,skip:0};e:for(let N=R.pos-x;R.pos>N;){let Q=R.size;if(R.id==w&&Q>=0){_.size=k,_.start=y,_.skip=P,P+=4,k+=4,R.next();continue}let v=R.pos-Q;if(Q<0||v<N||R.start<b)break;let M=R.id>=u?4:0,W=R.start;for(R.next();R.pos>v;){if(R.size<0)if(R.size==-3)M+=4;else break e;else R.id>=u&&(M+=4);R.next()}y=W,k+=Q,P+=M}return(w<0||k==x)&&(_.size=k,_.start=y,_.skip=P),_.size>4?_:void 0}function A(x,w,R){let{id:k,start:y,end:P,size:b}=l;if(l.next(),b>=0&&k<u){let _=R;if(b>4){let N=l.pos-(b-4);for(;l.pos>N;)R=A(x,w,R)}w[--R]=_,w[--R]=P-x,w[--R]=y-x,w[--R]=k}else b==-3?h=k:b==-4&&(f=k);return R}let S=[],B=[];for(;l.pos>0;)d(n.start||0,n.bufferStart||0,S,B,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:S.length?B[0]+S[0].length:0;return new Tree(c[n.topID],S.reverse(),B.reverse(),$)}const nodeSizeCache=new WeakMap;function nodeSize(n,e){if(!n.isAnonymous||e instanceof TreeBuffer||e.type!=n)return 1;let r=nodeSizeCache.get(e);if(r==null){r=1;for(let s of e.children){if(s.type!=n||!(s instanceof Tree)){r=1;break}r+=nodeSize(n,s)}nodeSizeCache.set(e,r)}return r}function balanceRange(n,e,r,s,a,o,u,l,c){let h=0;for(let O=s;O<a;O++)h+=nodeSize(n,e[O]);let f=Math.ceil(h*1.5/8),d=[],m=[];function g(O,E,D,A,S){for(let B=D;B<A;){let $=B,x=E[B],w=nodeSize(n,O[B]);for(B++;B<A;B++){let R=nodeSize(n,O[B]);if(w+R>=f)break;w+=R}if(B==$+1){if(w>f){let R=O[$];g(R.children,R.positions,0,R.children.length,E[$]+S);continue}d.push(O[$])}else{let R=E[B-1]+O[B-1].length-x;d.push(balanceRange(n,O,E,$,B,x,R,null,c))}m.push(x+S-o)}}return g(e,r,s,a,0),(l||c)(d,m,u)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(e,r,s){let a=this.map.get(e);a||this.map.set(e,a=new Map),a.set(r,s)}getBuffer(e,r){let s=this.map.get(e);return s&&s.get(r)}set(e,r){e instanceof BufferNode?this.setBuffer(e.context.buffer,e.index,r):e instanceof TreeNode&&this.map.set(e.tree,r)}get(e){return e instanceof BufferNode?this.getBuffer(e.context.buffer,e.index):e instanceof TreeNode?this.map.get(e.tree):void 0}cursorSet(e,r){e.buffer?this.setBuffer(e.buffer.buffer,e.index,r):this.map.set(e.tree,r)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class TreeFragment{constructor(e,r,s,a,o=!1,u=!1){this.from=e,this.to=r,this.tree=s,this.offset=a,this.open=(o?1:0)|(u?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],s=!1){let a=[new TreeFragment(0,e.length,e,0,!1,s)];for(let o of r)o.to>e.length&&a.push(o);return a}static applyChanges(e,r,s=128){if(!r.length)return e;let a=[],o=1,u=e.length?e[0]:null;for(let l=0,c=0,h=0;;l++){let f=l<r.length?r[l]:null,d=f?f.fromA:1e9;if(d-c>=s)for(;u&&u.from<d;){let m=u;if(c>=m.from||d<=m.to||h){let g=Math.max(m.from,c)-h,O=Math.min(m.to,d)-h;m=g>=O?null:new TreeFragment(g,O,m.tree,m.offset+h,l>0,!!f)}if(m&&a.push(m),u.to>d)break;u=o<e.length?e[o++]:null}if(!f)break;c=f.toA,h=f.toA-f.toB}return a}}class Parser{startParse(e,r,s){return typeof e=="string"&&(e=new StringInput(e)),s=s?s.length?s.map(a=>new Range(a.from,a.to)):[new Range(0,0)]:[new Range(0,e.length)],this.createParse(e,r||[],s)}parse(e,r,s){let a=this.startParse(e,r,s);for(;;){let o=a.advance();if(o)return o}}}class StringInput{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(e,r,s,a){this.name=e,this.set=r,this.base=s,this.modified=a,this.id=nextTagID++}toString(){let{name:e}=this;for(let r of this.modified)r.name&&(e=`${r.name}(${e})`);return e}static define(e,r){let s=typeof e=="string"?e:"?";if(e instanceof Tag&&(r=e),r!=null&&r.base)throw new Error("Can not derive from a modified tag");let a=new Tag(s,[],null,[]);if(a.set.push(a),r)for(let o of r.set)a.set.push(o);return a}static defineModifier(e){let r=new Modifier(e);return s=>s.modified.indexOf(r)>-1?s:Modifier.get(s.base||s,s.modified.concat(r).sort((a,o)=>a.id-o.id))}}let nextModifierID=0;class Modifier{constructor(e){this.name=e,this.instances=[],this.id=nextModifierID++}static get(e,r){if(!r.length)return e;let s=r[0].instances.find(l=>l.base==e&&sameArray(r,l.modified));if(s)return s;let a=[],o=new Tag(e.name,a,e,r);for(let l of r)l.instances.push(o);let u=powerSet(r);for(let l of e.set)if(!l.modified.length)for(let c of u)a.push(Modifier.get(l,c));return o}}function sameArray(n,e){return n.length==e.length&&n.every((r,s)=>r==e[s])}function powerSet(n){let e=[[]];for(let r=0;r<n.length;r++)for(let s=0,a=e.length;s<a;s++)e.push(e[s].concat(n[r]));return e.sort((r,s)=>s.length-r.length)}function styleTags(n){let e=Object.create(null);for(let r in n){let s=n[r];Array.isArray(s)||(s=[s]);for(let a of r.split(" "))if(a){let o=[],u=2,l=a;for(let d=0;;){if(l=="..."&&d>0&&d+3==a.length){u=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!m)throw new RangeError("Invalid path: "+a);if(o.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),d+=m[0].length,d==a.length)break;let g=a[d++];if(d==a.length&&g=="!"){u=0;break}if(g!="/")throw new RangeError("Invalid path: "+a);l=a.slice(d)}let c=o.length-1,h=o[c];if(!h)throw new RangeError("Invalid path: "+a);let f=new Rule(s,u,c>0?o.slice(0,c):null);e[h]=f.sort(e[h])}}return ruleNodeProp.add(e)}const ruleNodeProp=new NodeProp;class Rule{constructor(e,r,s,a){this.tags=e,this.mode=r,this.context=s,this.next=a}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(n,e){let r=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))r[o.tag.id]=o.class;else for(let u of o.tag)r[u.id]=o.class;let{scope:s,all:a=null}=e||{};return{style:o=>{let u=a;for(let l of o)for(let c of l.set){let h=r[c.id];if(h){u=u?u+" "+h:h;break}}return u},scope:s}}function highlightTags(n,e){let r=null;for(let s of n){let a=s.style(e);a&&(r=r?r+" "+a:a)}return r}function highlightTree(n,e,r,s=0,a=n.length){let o=new HighlightBuilder(s,Array.isArray(e)?e:[e],r);o.highlightRange(n.cursor(),s,a,"",o.highlighters),o.flush(a)}class HighlightBuilder{constructor(e,r,s){this.at=e,this.highlighters=r,this.span=s,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,s,a,o){let{type:u,from:l,to:c}=e;if(l>=s||c<=r)return;u.isTop&&(o=this.highlighters.filter(g=>!g.scope||g.scope(u)));let h=a,f=getStyleTags(e)||Rule.empty,d=highlightTags(o,f.tags);if(d&&(h&&(h+=" "),h+=d,f.mode==1&&(a+=(a?" ":"")+d)),this.startSpan(Math.max(r,l),h),f.opaque)return;let m=e.tree&&e.tree.prop(NodeProp.mounted);if(m&&m.overlay){let g=e.node.enter(m.overlay[0].from+l,1),O=this.highlighters.filter(D=>!D.scope||D.scope(m.tree.type)),E=e.firstChild();for(let D=0,A=l;;D++){let S=D<m.overlay.length?m.overlay[D]:null,B=S?S.from+l:c,$=Math.max(r,A),x=Math.min(s,B);if($<x&&E)for(;e.from<x&&(this.highlightRange(e,$,x,a,o),this.startSpan(Math.min(x,e.to),h),!(e.to>=B||!e.nextSibling())););if(!S||B>s)break;A=S.to+l,A>r&&(this.highlightRange(g.cursor(),Math.max(r,S.from+l),Math.min(s,A),"",O),this.startSpan(Math.min(s,A),h))}E&&e.parent()}else if(e.firstChild()){m&&(a="");do if(!(e.to<=r)){if(e.from>=s)break;this.highlightRange(e,r,s,a,o),this.startSpan(Math.min(s,e.to),h)}while(e.nextSibling());e.parent()}}}function getStyleTags(n){let e=n.type.prop(ruleNodeProp);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const t$1=Tag.define,comment=t$1(),name=t$1(),typeName=t$1(name),propertyName=t$1(name),literal=t$1(),string=t$1(literal),number=t$1(literal),content=t$1(),heading=t$1(content),keyword$3=t$1(),operator=t$1(),punctuation=t$1(),bracket$1=t$1(punctuation),meta=t$1(),tags={comment,lineComment:t$1(comment),blockComment:t$1(comment),docComment:t$1(comment),name,variableName:t$1(name),typeName,tagName:t$1(typeName),propertyName,attributeName:t$1(propertyName),className:t$1(name),labelName:t$1(name),namespace:t$1(name),macroName:t$1(name),literal,string,docString:t$1(string),character:t$1(string),attributeValue:t$1(string),number,integer:t$1(number),float:t$1(number),bool:t$1(literal),regexp:t$1(literal),escape:t$1(literal),color:t$1(literal),url:t$1(literal),keyword:keyword$3,self:t$1(keyword$3),null:t$1(keyword$3),atom:t$1(keyword$3),unit:t$1(keyword$3),modifier:t$1(keyword$3),operatorKeyword:t$1(keyword$3),controlKeyword:t$1(keyword$3),definitionKeyword:t$1(keyword$3),moduleKeyword:t$1(keyword$3),operator,derefOperator:t$1(operator),arithmeticOperator:t$1(operator),logicOperator:t$1(operator),bitwiseOperator:t$1(operator),compareOperator:t$1(operator),updateOperator:t$1(operator),definitionOperator:t$1(operator),typeOperator:t$1(operator),controlOperator:t$1(operator),punctuation,separator:t$1(punctuation),bracket:bracket$1,angleBracket:t$1(bracket$1),squareBracket:t$1(bracket$1),paren:t$1(bracket$1),brace:t$1(bracket$1),content,heading,heading1:t$1(heading),heading2:t$1(heading),heading3:t$1(heading),heading4:t$1(heading),heading5:t$1(heading),heading6:t$1(heading),contentSeparator:t$1(content),list:t$1(content),quote:t$1(content),emphasis:t$1(content),strong:t$1(content),link:t$1(content),monospace:t$1(content),strikethrough:t$1(content),inserted:t$1(),deleted:t$1(),changed:t$1(),invalid:t$1(),meta,documentMeta:t$1(meta),annotation:t$1(meta),processingInstruction:t$1(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let n in tags){let e=tags[n];e instanceof Tag&&(e.name=n)}tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(n){return Facet.define({combine:n?e=>e.concat(n):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(e,r,s=[],a=""){this.data=e,this.name=a,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=r,this.extension=[language.of(this),EditorState.languageData.of((o,u,l)=>{let c=topNodeAt(o,u,l),h=c.type.prop(languageDataProp);if(!h)return[];let f=o.facet(h),d=c.type.prop(sublanguageProp);if(d){let m=c.resolve(u-c.from,l);for(let g of d)if(g.test(m,o)){let O=o.facet(g.facet);return g.type=="replace"?O:O.concat(f)}}return f})].concat(s)}isActiveAt(e,r,s=-1){return topNodeAt(e,r,s).type.prop(languageDataProp)==this.data}findRegions(e){let r=e.facet(language);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let s=[],a=(o,u)=>{if(o.prop(languageDataProp)==this.data){s.push({from:u,to:u+o.length});return}let l=o.prop(NodeProp.mounted);if(l){if(l.tree.prop(languageDataProp)==this.data){if(l.overlay)for(let c of l.overlay)s.push({from:c.from+u,to:c.to+u});else s.push({from:u,to:u+o.length});return}else if(l.overlay){let c=s.length;if(a(l.tree,l.overlay[0].from+u),s.length>c)return}}for(let c=0;c<o.children.length;c++){let h=o.children[c];h instanceof Tree&&a(h,o.positions[c]+u)}};return a(syntaxTree(e),0),s}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(n,e,r){let s=n.facet(language),a=syntaxTree(n).topNode;if(!s||s.allowsNesting)for(let o=a;o;o=o.enter(e,r,IterMode.ExcludeBuffers))o.type.isTop&&(a=o);return a}class LRLanguage extends Language{constructor(e,r,s){super(e,r,[],s),this.parser=r}static define(e){let r=defineLanguageFacet(e.languageData);return new LRLanguage(r,e.parser.configure({props:[languageDataProp.add(s=>s.isTop?r:void 0)]}),e.name)}configure(e,r){return new LRLanguage(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(n){let e=n.field(Language.state,!1);return e?e.tree:Tree.empty}class DocInput{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let s=this.cursorPos-this.string.length;return e<s||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-s,r-s)}}let currentContext=null;class ParseContext{constructor(e,r,s=[],a,o,u,l,c){this.parser=e,this.state=r,this.fragments=s,this.tree=a,this.treeLen=o,this.viewport=u,this.skipped=l,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,r,s){return new ParseContext(e,r,[],Tree.empty,0,s,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Tree.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var s;if(typeof e=="number"){let a=Date.now()+e;e=()=>Date.now()>a}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let a=this.parse.advance();if(a)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(a,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(s=this.parse.stoppedAt)!==null&&s!==void 0?s:this.state.doc.length,this.tree=a,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=currentContext;currentContext=this;try{return e()}finally{currentContext=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=cutFragments(e,r.from,r.to);return e}changes(e,r){let{fragments:s,tree:a,treeLen:o,viewport:u,skipped:l}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((h,f,d,m)=>c.push({fromA:h,toA:f,fromB:d,toB:m})),s=TreeFragment.applyChanges(s,c),a=Tree.empty,o=0,u={from:e.mapPos(u.from,-1),to:e.mapPos(u.to,1)},this.skipped.length){l=[];for(let h of this.skipped){let f=e.mapPos(h.from,1),d=e.mapPos(h.to,-1);f<d&&l.push({from:f,to:d})}}}return new ParseContext(this.parser,r,s,a,o,u,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let s=0;s<this.skipped.length;s++){let{from:a,to:o}=this.skipped[s];a<e.to&&o>e.from&&(this.fragments=cutFragments(this.fragments,a,o),this.skipped.splice(s--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends Parser{createParse(r,s,a){let o=a[0].from,u=a[a.length-1].to;return{parsedPos:o,advance(){let c=currentContext;if(c){for(let h of a)c.tempSkipped.push(h);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=u,new Tree(NodeType.none,[],[],u-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return currentContext}}function cutFragments(n,e,r){return TreeFragment.applyChanges(n,[{fromA:e,toA:r,fromB:e,toB:r}])}class LanguageState{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),s=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,s)||r.takeTree(),new LanguageState(r)}static init(e){let r=Math.min(3e3,e.doc.length),s=ParseContext.create(e.facet(language).parser,e,{from:0,to:r});return s.work(20,r)||s.takeTree(),new LanguageState(s)}}Language.state=StateField.define({create:LanguageState.init,update(n,e){for(let r of e.effects)if(r.is(Language.setState))return r.value;return e.startState.facet(language)!=e.state.facet(language)?LanguageState.init(e.state):n.apply(e)}});let requestIdle=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(requestIdle=n=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(Language.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(Language.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=requestIdle(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:s,viewport:{to:a}}=this.view,o=s.field(Language.state);if(o.tree==o.context.tree&&o.context.isDone(a+1e5))return;let u=Date.now()+Math.min(this.chunkBudget,100,e&&!isInputPending?Math.max(25,e.timeRemaining()-5):1e9),l=o.context.treeLen<a&&s.doc.length>a+1e3,c=o.context.work(()=>isInputPending&&isInputPending()||Date.now()>u,a+(l?0:1e5));this.chunkBudget-=Date.now()-r,(c||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(o.context))})),this.chunkBudget>0&&!(c&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>logException(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(n){return n.length?n[0]:null},enables:n=>[Language.state,parseWorker,EditorView.contentAttributes.compute([n],e=>{let r=e.facet(n);return r&&r.name?{"data-language":r.name}:{}})]});class LanguageSupport{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function getIndentUnit(n){let e=n.facet(indentUnit);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function indentString(n,e){let r="",s=n.tabSize,a=n.facet(indentUnit)[0];if(a=="	"){for(;e>=s;)r+="	",e-=s;a=" "}for(let o=0;o<e;o++)r+=a;return r}function getIndentation(n,e){n instanceof EditorState&&(n=new IndentContext(n));for(let s of n.state.facet(indentService)){let a=s(n,e);if(a!==void 0)return a}let r=syntaxTree(n.state);return r.length>=e?syntaxIndentation(n,r,e):null}class IndentContext{constructor(e,r={}){this.state=e,this.options=r,this.unit=getIndentUnit(e)}lineAt(e,r=1){let s=this.state.doc.lineAt(e),{simulateBreak:a,simulateDoubleBreak:o}=this.options;return a!=null&&a>=s.from&&a<=s.to?o&&a==e?{text:"",from:e}:(r<0?a<e:a<=e)?{text:s.text.slice(a-s.from),from:a}:{text:s.text.slice(0,a-s.from),from:s.from}:s}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:s,from:a}=this.lineAt(e,r);return s.slice(e-a,Math.min(s.length,e+100-a))}column(e,r=1){let{text:s,from:a}=this.lineAt(e,r),o=this.countColumn(s,e-a),u=this.options.overrideIndentation?this.options.overrideIndentation(a):-1;return u>-1&&(o+=u-this.countColumn(s,s.search(/\S|$/))),o}countColumn(e,r=e.length){return countColumn(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:s,from:a}=this.lineAt(e,r),o=this.options.overrideIndentation;if(o){let u=o(a);if(u>-1)return u}return this.countColumn(s,s.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(n,e,r){let s=e.resolveStack(r),a=e.resolveInner(r,-1).resolve(r,0).enterUnfinishedNodesBefore(r);if(a!=s.node){let o=[];for(let u=a;u&&!(u.from<s.node.from||u.to>s.node.to||u.from==s.node.from&&u.type==s.node.type);u=u.parent)o.push(u);for(let u=o.length-1;u>=0;u--)s={node:o[u],next:s}}return indentFor(s,n,r)}function indentFor(n,e,r){for(let s=n;s;s=s.next){let a=indentStrategy(s.node);if(a)return a(TreeIndentContext.create(e,r,s))}return 0}function ignoreClosed(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function indentStrategy(n){let e=n.type.prop(indentNodeProp);if(e)return e;let r=n.firstChild,s;if(r&&(s=r.type.prop(NodeProp.closedBy))){let a=n.lastChild,o=a&&s.indexOf(a.name)>-1;return u=>delimitedStrategy(u,!0,1,void 0,o&&!ignoreClosed(u)?a.from:void 0)}return n.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(e,r,s){super(e.state,e.options),this.base=e,this.pos=r,this.context=s}get node(){return this.context.node}static create(e,r,s){return new TreeIndentContext(e,r,s)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let s=e.resolve(r.from);for(;s.parent&&s.parent.from==s.from;)s=s.parent;if(isParent(s,e))break;r=this.state.doc.lineAt(s.from)}return this.lineIndent(r.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(n,e){for(let r=e;r;r=r.parent)if(n==r)return!0;return!1}function bracketedAligned(n){let e=n.node,r=e.childAfter(e.from),s=e.lastChild;if(!r)return null;let a=n.options.simulateBreak,o=n.state.doc.lineAt(r.from),u=a==null||a<=o.from?o.to:Math.min(o.to,a);for(let l=r.to;;){let c=e.childAfter(l);if(!c||c==s)return null;if(!c.type.isSkipped){if(c.from>=u)return null;let h=/^ */.exec(o.text.slice(r.to-o.from))[0].length;return{from:r.from,to:r.to+h}}l=c.to}}function delimitedIndent({closing:n,align:e=!0,units:r=1}){return s=>delimitedStrategy(s,e,r,n)}function delimitedStrategy(n,e,r,s,a){let o=n.textAfter,u=o.match(/^\s*/)[0].length,l=s&&o.slice(u,u+s.length)==s||a==n.pos+u,c=e?bracketedAligned(n):null;return c?l?n.column(c.from):n.column(c.to):n.baseIndent+(l?0:n.unit*r)}const flatIndent=n=>n.baseIndent;function continuedIndent({except:n,units:e=1}={}){return r=>{let s=n&&n.test(r.textAfter);return r.baseIndent+(s?0:e*r.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let r=n.newDoc,{head:s}=n.newSelection.main,a=r.lineAt(s);if(s>a.from+DontIndentBeyond)return n;let o=r.sliceString(a.from,s);if(!e.some(h=>h.test(o)))return n;let{state:u}=n,l=-1,c=[];for(let{head:h}of u.selection.ranges){let f=u.doc.lineAt(h);if(f.from==l)continue;l=f.from;let d=getIndentation(u,f.from);if(d==null)continue;let m=/^\s*/.exec(f.text)[0],g=indentString(u,d);m!=g&&c.push({from:f.from,to:f.from+m.length,insert:g})}return c.length?[n,{changes:c,sequential:!0}]:n})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(n){let e=n.firstChild,r=n.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?n.to:r.from}:null}function syntaxFolding(n,e,r){let s=syntaxTree(n);if(s.length<r)return null;let a=s.resolveStack(r,1),o=null;for(let u=a;u;u=u.next){let l=u.node;if(l.to<=r||l.from>r)continue;if(o&&l.from<e)break;let c=l.type.prop(foldNodeProp);if(c&&(l.to<s.length-50||s.length==n.doc.length||!isUnfinished(l))){let h=c(l,n);h&&h.from<=r&&h.from>=e&&h.to>r&&(o=h)}}return o}function isUnfinished(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function foldable(n,e,r){for(let s of n.facet(foldService)){let a=s(n,e,r);if(a)return a}return syntaxFolding(n,e,r)}function mapRange(n,e){let r=e.mapPos(n.from,1),s=e.mapPos(n.to,-1);return r>=s?void 0:{from:r,to:s}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(n){let e=[];for(let{head:r}of n.state.selection.ranges)e.some(s=>s.from<=r&&s.to>=r)||e.push(n.lineBlockAt(r));return e}const foldState=StateField.define({create(){return Decoration.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((r,s)=>n=clearTouchedFolds(n,r,s)),n=n.map(e.changes);for(let r of e.effects)if(r.is(foldEffect)&&!foldExists(n,r.value.from,r.value.to)){let{preparePlaceholder:s}=e.state.facet(foldConfig),a=s?Decoration.replace({widget:new PreparedFoldWidget(s(e.state,r.value))}):foldWidget;n=n.update({add:[a.range(r.value.from,r.value.to)]})}else r.is(unfoldEffect)&&(n=n.update({filter:(s,a)=>r.value.from!=s||r.value.to!=a,filterFrom:r.value.from,filterTo:r.value.to}));return e.selection&&(n=clearTouchedFolds(n,e.selection.main.head)),n},provide:n=>EditorView.decorations.from(n),toJSON(n,e){let r=[];return n.between(0,e.doc.length,(s,a)=>{r.push(s,a)}),r},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<n.length;){let s=n[r++],a=n[r++];if(typeof s!="number"||typeof a!="number")throw new RangeError("Invalid JSON for fold state");e.push(foldWidget.range(s,a))}return Decoration.set(e,!0)}});function clearTouchedFolds(n,e,r=e){let s=!1;return n.between(e,r,(a,o)=>{a<r&&o>e&&(s=!0)}),s?n.update({filterFrom:e,filterTo:r,filter:(a,o)=>a>=r||o<=e}):n}function findFold(n,e,r){var s;let a=null;return(s=n.field(foldState,!1))===null||s===void 0||s.between(e,r,(o,u)=>{(!a||a.from>o)&&(a={from:o,to:u})}),a}function foldExists(n,e,r){let s=!1;return n.between(e,e,(a,o)=>{a==e&&o==r&&(s=!0)}),s}function maybeEnable(n,e){return n.field(foldState,!1)?e:e.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=n=>{for(let e of selectedLines(n)){let r=foldable(n.state,e.from,e.to);if(r)return n.dispatch({effects:maybeEnable(n.state,[foldEffect.of(r),announceFold(n,r)])}),!0}return!1},unfoldCode=n=>{if(!n.state.field(foldState,!1))return!1;let e=[];for(let r of selectedLines(n)){let s=findFold(n.state,r.from,r.to);s&&e.push(unfoldEffect.of(s),announceFold(n,s,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function announceFold(n,e,r=!0){let s=n.state.doc.lineAt(e.from).number,a=n.state.doc.lineAt(e.to).number;return EditorView.announce.of(`${n.state.phrase(r?"Folded lines":"Unfolded lines")} ${s} ${n.state.phrase("to")} ${a}.`)}const foldAll=n=>{let{state:e}=n,r=[];for(let s=0;s<e.doc.length;){let a=n.lineBlockAt(s),o=foldable(e,a.from,a.to);o&&r.push(foldEffect.of(o)),s=(o?n.lineBlockAt(o.to):a).to+1}return r.length&&n.dispatch({effects:maybeEnable(n.state,r)}),!!r.length},unfoldAll=n=>{let e=n.state.field(foldState,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,n.state.doc.length,(s,a)=>{r.push(unfoldEffect.of({from:s,to:a}))}),n.dispatch({effects:r}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:"â€¦"},foldConfig=Facet.define({combine(n){return combineConfig(n,defaultConfig)}});function codeFolding(n){return[foldState,baseTheme$1$2]}function widgetToDOM(n,e){let{state:r}=n,s=r.facet(foldConfig),a=u=>{let l=n.lineBlockAt(n.posAtDOM(u.target)),c=findFold(n.state,l.from,l.to);c&&n.dispatch({effects:unfoldEffect.of(c)}),u.preventDefault()};if(s.placeholderDOM)return s.placeholderDOM(n,a,e);let o=document.createElement("span");return o.textContent=s.placeholderText,o.setAttribute("aria-label",r.phrase("folded code")),o.title=r.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=a,o}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(n){return widgetToDOM(n,null)}}});class PreparedFoldWidget extends WidgetType{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return widgetToDOM(e,this.value)}}const foldGutterDefaults={openText:"âŒ„",closedText:"â€º",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function foldGutter(n={}){let e={...foldGutterDefaults,...n},r=new FoldMarker(e,!0),s=new FoldMarker(e,!1),a=ViewPlugin.fromClass(class{constructor(u){this.from=u.viewport.from,this.markers=this.buildMarkers(u)}update(u){(u.docChanged||u.viewportChanged||u.startState.facet(language)!=u.state.facet(language)||u.startState.field(foldState,!1)!=u.state.field(foldState,!1)||syntaxTree(u.startState)!=syntaxTree(u.state)||e.foldingChanged(u))&&(this.markers=this.buildMarkers(u.view))}buildMarkers(u){let l=new RangeSetBuilder;for(let c of u.viewportLineBlocks){let h=findFold(u.state,c.from,c.to)?s:foldable(u.state,c.from,c.to)?r:null;h&&l.add(c.from,c.from,h)}return l.finish()}}),{domEventHandlers:o}=e;return[a,gutter({class:"cm-foldGutter",markers(u){var l;return((l=u.plugin(a))===null||l===void 0?void 0:l.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(e,!1)},domEventHandlers:{...o,click:(u,l,c)=>{if(o.click&&o.click(u,l,c))return!0;let h=findFold(u.state,l.from,l.to);if(h)return u.dispatch({effects:unfoldEffect.of(h)}),!0;let f=foldable(u.state,l.from,l.to);return f?(u.dispatch({effects:foldEffect.of(f)}),!0):!1}}}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(e,r){this.specs=e;let s;function a(l){let c=StyleModule.newName();return(s||(s=Object.create(null)))["."+c]=l,c}const o=typeof r.all=="string"?r.all:r.all?a(r.all):void 0,u=r.scope;this.scope=u instanceof Language?l=>l.prop(languageDataProp)==u.data:u?l=>l==u:void 0,this.style=tagHighlighter(e.map(l=>({tag:l.tag,class:l.class||a(Object.assign({},l,{tag:null}))})),{all:o}).style,this.module=s?new StyleModule(s):null,this.themeType=r.themeType}static define(e,r){return new HighlightStyle(e,r||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(n){return n.length?[n[0]]:null}});function getHighlighters(n){let e=n.facet(highlighterFacet);return e.length?e:n.facet(fallbackHighlighter)}function syntaxHighlighting(n,e){let r=[treeHighlighter],s;return n instanceof HighlightStyle&&(n.module&&r.push(EditorView.styleModule.of(n.module)),s=n.themeType),e!=null&&e.fallback?r.push(fallbackHighlighter.of(n)):s?r.push(highlighterFacet.computeN([EditorView.darkTheme],a=>a.facet(EditorView.darkTheme)==(s=="dark")?[n]:[])):r.push(highlighterFacet.of(n)),r}class TreeHighlighter{constructor(e){this.markCache=Object.create(null),this.tree=syntaxTree(e.state),this.decorations=this.buildDeco(e,getHighlighters(e.state)),this.decoratedTo=e.viewport.to}update(e){let r=syntaxTree(e.state),s=getHighlighters(e.state),a=s!=getHighlighters(e.startState),{viewport:o}=e.view,u=e.changes.mapPos(this.decoratedTo,1);r.length<o.to&&!a&&r.type==this.tree.type&&u>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=u):(r!=this.tree||e.viewportChanged||a)&&(this.tree=r,this.decorations=this.buildDeco(e.view,s),this.decoratedTo=o.to)}buildDeco(e,r){if(!r||!this.tree.length)return Decoration.none;let s=new RangeSetBuilder;for(let{from:a,to:o}of e.visibleRanges)highlightTree(this.tree,r,(u,l,c)=>{s.add(u,l,this.markCache[c]||(this.markCache[c]=Decoration.mark({class:c})))},a,o);return s.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:n=>n.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#404740"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(n){return combineConfig(n,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(n){let e=[],r=n.matched?matchingMark:nonmatchingMark;return e.push(r.range(n.start.from,n.start.to)),n.end&&e.push(r.range(n.end.from,n.end.to)),e}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let r=[],s=e.state.facet(bracketMatchingConfig);for(let a of e.state.selection.ranges){if(!a.empty)continue;let o=matchBrackets(e.state,a.head,-1,s)||a.head>0&&matchBrackets(e.state,a.head-1,1,s)||s.afterCursor&&(matchBrackets(e.state,a.head,1,s)||a.head<e.state.doc.length&&matchBrackets(e.state,a.head+1,-1,s));o&&(r=r.concat(s.renderMatch(o,e.state)))}return Decoration.set(r,!0)},provide:n=>EditorView.decorations.from(n)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(n={}){return[bracketMatchingConfig.of(n),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(n,e,r){let s=n.prop(e<0?NodeProp.openedBy:NodeProp.closedBy);if(s)return s;if(n.name.length==1){let a=r.indexOf(n.name);if(a>-1&&a%2==(e<0?1:0))return[r[a+e]]}return null}function findHandle(n){let e=n.type.prop(bracketMatchingHandle);return e?e(n.node):n}function matchBrackets(n,e,r,s={}){let a=s.maxScanDistance||DefaultScanDist,o=s.brackets||DefaultBrackets,u=syntaxTree(n),l=u.resolveInner(e,r);for(let c=l;c;c=c.parent){let h=matchingNodes(c.type,r,o);if(h&&c.from<c.to){let f=findHandle(c);if(f&&(r>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return matchMarkedBrackets(n,e,r,c,f,h,o)}}return matchPlainBrackets(n,e,r,u,l.type,a,o)}function matchMarkedBrackets(n,e,r,s,a,o,u){let l=s.parent,c={from:a.from,to:a.to},h=0,f=l==null?void 0:l.cursor();if(f&&(r<0?f.childBefore(s.from):f.childAfter(s.to)))do if(r<0?f.to<=s.from:f.from>=s.to){if(h==0&&o.indexOf(f.type.name)>-1&&f.from<f.to){let d=findHandle(f);return{start:c,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(matchingNodes(f.type,r,u))h++;else if(matchingNodes(f.type,-r,u)){if(h==0){let d=findHandle(f);return{start:c,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}h--}}while(r<0?f.prevSibling():f.nextSibling());return{start:c,matched:!1}}function matchPlainBrackets(n,e,r,s,a,o,u){let l=r<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),c=u.indexOf(l);if(c<0||c%2==0!=r>0)return null;let h={from:r<0?e-1:e,to:r>0?e+1:e},f=n.doc.iterRange(e,r>0?n.doc.length:0),d=0;for(let m=0;!f.next().done&&m<=o;){let g=f.value;r<0&&(m+=g.length);let O=e+m*r;for(let E=r>0?0:g.length-1,D=r>0?g.length:-1;E!=D;E+=r){let A=u.indexOf(g[E]);if(!(A<0||s.resolveInner(O+E,1).type!=a))if(A%2==0==r>0)d++;else{if(d==1)return{start:h,end:{from:O+E,to:O+E+1},matched:A>>1==c>>1};d--}}r>0&&(m+=g.length)}return f.done?{start:h,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[n]=createTokenType(noTokens,e);function warnForPart(n,e){warned.indexOf(n)>-1||(warned.push(n),console.warn(e))}function createTokenType(n,e){let r=[];for(let l of e.split(" ")){let c=[];for(let h of l.split(".")){let f=n[h]||tags[h];f?typeof f=="function"?c.length?c=c.map(f):warnForPart(h,`Modifier ${h} used at start of tag`):c.length?warnForPart(h,`Tag ${h} used as modifier`):c=Array.isArray(f)?f:[f]:warnForPart(h,`Unknown highlighting tag ${h}`)}for(let h of c)r.push(h)}if(!r.length)return 0;let s=e.replace(/ /g,"_"),a=s+" "+r.map(l=>l.id),o=byTag[a];if(o)return o.id;let u=byTag[a]=NodeType.define({id:typeArray.length,name:s,props:[styleTags({[s]:r})]});return typeArray.push(u),u.id}Direction.RTL,Direction.LTR;const toggleComment=n=>{let{state:e}=n,r=e.doc.lineAt(e.selection.main.from),s=getConfig(n.state,r.from);return s.line?toggleLineComment(n):s.block?toggleBlockCommentByLine(n):!1};function command(n,e){return({state:r,dispatch:s})=>{if(r.readOnly)return!1;let a=n(e,r);return a?(s(r.update(a)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((n,e)=>changeBlockComment(n,e,selectedLineRanges(e)),0);function getConfig(n,e){let r=n.languageDataAt("commentTokens",e,1);return r.length?r[0]:{}}const SearchMargin=50;function findBlockComment(n,{open:e,close:r},s,a){let o=n.sliceDoc(s-SearchMargin,s),u=n.sliceDoc(a,a+SearchMargin),l=/\s*$/.exec(o)[0].length,c=/^\s*/.exec(u)[0].length,h=o.length-l;if(o.slice(h-e.length,h)==e&&u.slice(c,c+r.length)==r)return{open:{pos:s-l,margin:l&&1},close:{pos:a+c,margin:c&&1}};let f,d;a-s<=2*SearchMargin?f=d=n.sliceDoc(s,a):(f=n.sliceDoc(s,s+SearchMargin),d=n.sliceDoc(a-SearchMargin,a));let m=/^\s*/.exec(f)[0].length,g=/\s*$/.exec(d)[0].length,O=d.length-g-r.length;return f.slice(m,m+e.length)==e&&d.slice(O,O+r.length)==r?{open:{pos:s+m+e.length,margin:/\s/.test(f.charAt(m+e.length))?1:0},close:{pos:a-g-r.length,margin:/\s/.test(d.charAt(O-1))?1:0}}:null}function selectedLineRanges(n){let e=[];for(let r of n.selection.ranges){let s=n.doc.lineAt(r.from),a=r.to<=s.to?s:n.doc.lineAt(r.to);a.from>s.from&&a.from==r.to&&(a=r.to==s.to+1?s:n.doc.lineAt(r.to-1));let o=e.length-1;o>=0&&e[o].to>s.from?e[o].to=a.to:e.push({from:s.from+/^\s*/.exec(s.text)[0].length,to:a.to})}return e}function changeBlockComment(n,e,r=e.selection.ranges){let s=r.map(o=>getConfig(e,o.from).block);if(!s.every(o=>o))return null;let a=r.map((o,u)=>findBlockComment(e,s[u],o.from,o.to));if(n!=2&&!a.every(o=>o))return{changes:e.changes(r.map((o,u)=>a[u]?[]:[{from:o.from,insert:s[u].open+" "},{from:o.to,insert:" "+s[u].close}]))};if(n!=1&&a.some(o=>o)){let o=[];for(let u=0,l;u<a.length;u++)if(l=a[u]){let c=s[u],{open:h,close:f}=l;o.push({from:h.pos-c.open.length,to:h.pos+h.margin},{from:f.pos-f.margin,to:f.pos+c.close.length})}return{changes:o}}return null}function changeLineComment(n,e,r=e.selection.ranges){let s=[],a=-1;for(let{from:o,to:u}of r){let l=s.length,c=1e9,h=getConfig(e,o).line;if(h){for(let f=o;f<=u;){let d=e.doc.lineAt(f);if(d.from>a&&(o==u||u>d.from)){a=d.from;let m=/^\s*/.exec(d.text)[0].length,g=m==d.length,O=d.text.slice(m,m+h.length)==h?m:-1;m<d.text.length&&m<c&&(c=m),s.push({line:d,comment:O,token:h,indent:m,empty:g,single:!1})}f=d.to+1}if(c<1e9)for(let f=l;f<s.length;f++)s[f].indent<s[f].line.text.length&&(s[f].indent=c);s.length==l+1&&(s[l].single=!0)}}if(n!=2&&s.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:l,token:c,indent:h,empty:f,single:d}of s)(d||!f)&&o.push({from:l.from+h,insert:c+" "});let u=e.changes(o);return{changes:u,selection:e.selection.map(u,1)}}else if(n!=1&&s.some(o=>o.comment>=0)){let o=[];for(let{line:u,comment:l,token:c}of s)if(l>=0){let h=u.from+l,f=h+c.length;u.text[f-u.from]==" "&&f++,o.push({from:h,to:f})}return{changes:o}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(n){return combineConfig(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(s,a)=>e(s,a)||r(s,a)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(n,e){let r=e.state.facet(historyConfig),s=e.annotation(fromHistory);if(s){let c=HistEvent.fromTransaction(e,s.selection),h=s.side,f=h==0?n.undone:n.done;return c?f=updateBranch(f,f.length,r.minDepth,c):f=addSelection(f,e.startState.selection),new HistoryState(h==0?s.rest:f,h==0?f:s.rest)}let a=e.annotation(isolateHistory);if((a=="full"||a=="before")&&(n=n.isolate()),e.annotation(Transaction.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let o=HistEvent.fromTransaction(e),u=e.annotation(Transaction.time),l=e.annotation(Transaction.userEvent);return o?n=n.addChanges(o,u,l,r,e):e.selection&&(n=n.addSelection(e.startState.selection,u,l,r.newGroupDelay)),(a=="full"||a=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new HistoryState(n.done.map(HistEvent.fromJSON),n.undone.map(HistEvent.fromJSON))}});function history(n={}){return[historyField_,historyConfig.of(n),EditorView.domEventHandlers({beforeinput(e,r){let s=e.inputType=="historyUndo"?undo:e.inputType=="historyRedo"?redo:null;return s?(e.preventDefault(),s(r)):!1}})]}function cmd(n,e){return function({state:r,dispatch:s}){if(!e&&r.readOnly)return!1;let a=r.field(historyField_,!1);if(!a)return!1;let o=a.pop(n,r,e);return o?(s(o),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(e,r,s,a,o){this.changes=e,this.effects=r,this.mapped=s,this.startSelection=a,this.selectionsAfter=o}setSelAfter(e){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,s;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(s=this.startSelection)===null||s===void 0?void 0:s.toJSON(),selectionsAfter:this.selectionsAfter.map(a=>a.toJSON())}}static fromJSON(e){return new HistEvent(e.changes&&ChangeSet.fromJSON(e.changes),[],e.mapped&&ChangeDesc.fromJSON(e.mapped),e.startSelection&&EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(e,r){let s=none$1;for(let a of e.startState.facet(invertedEffects)){let o=a(e);o.length&&(s=s.concat(o))}return!s.length&&e.changes.empty?null:new HistEvent(e.changes.invert(e.startState.doc),s,void 0,r||e.startState.selection,none$1)}static selection(e){return new HistEvent(void 0,none$1,void 0,void 0,e)}}function updateBranch(n,e,r,s){let a=e+1>r+20?e-r-1:0,o=n.slice(a,e);return o.push(s),o}function isAdjacent(n,e){let r=[],s=!1;return n.iterChangedRanges((a,o)=>r.push(a,o)),e.iterChangedRanges((a,o,u,l)=>{for(let c=0;c<r.length;){let h=r[c++],f=r[c++];l>=h&&u<=f&&(s=!0)}}),s}function eqSelectionShape(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((r,s)=>r.empty!=e.ranges[s].empty).length===0}function conc(n,e){return n.length?e.length?n.concat(e):n:e}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(n,e){if(n.length){let r=n[n.length-1],s=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-MaxSelectionsPerEvent));return s.length&&s[s.length-1].eq(e)?n:(s.push(e),updateBranch(n,n.length-1,1e9,r.setSelAfter(s)))}else return[HistEvent.selection([e])]}function popSelection(n){let e=n[n.length-1],r=n.slice();return r[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function addMappingToBranch(n,e){if(!n.length)return n;let r=n.length,s=none$1;for(;r;){let a=mapEvent(n[r-1],e,s);if(a.changes&&!a.changes.empty||a.effects.length){let o=n.slice(0,r);return o[r-1]=a,o}else e=a.mapped,r--,s=a.selectionsAfter}return s.length?[HistEvent.selection(s)]:none$1}function mapEvent(n,e,r){let s=conc(n.selectionsAfter.length?n.selectionsAfter.map(l=>l.map(e)):none$1,r);if(!n.changes)return HistEvent.selection(s);let a=n.changes.map(e),o=e.mapDesc(n.changes,!0),u=n.mapped?n.mapped.composeDesc(o):o;return new HistEvent(a,StateEffect.mapEffects(n.effects,e),u,n.startSelection.map(o),s)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(e,r,s=0,a=void 0){this.done=e,this.undone=r,this.prevTime=s,this.prevUserEvent=a}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(e,r,s,a,o){let u=this.done,l=u[u.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!s||joinableUserEvent.test(s))&&(!l.selectionsAfter.length&&r-this.prevTime<a.newGroupDelay&&a.joinToEvent(o,isAdjacent(l.changes,e.changes))||s=="input.type.compose")?u=updateBranch(u,u.length-1,a.minDepth,new HistEvent(e.changes.compose(l.changes),conc(StateEffect.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,none$1)):u=updateBranch(u,u.length,a.minDepth,e),new HistoryState(u,none$1,r,s)}addSelection(e,r,s,a){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return o.length>0&&r-this.prevTime<a&&s==this.prevUserEvent&&s&&/^select($|\.)/.test(s)&&eqSelectionShape(o[o.length-1],e)?this:new HistoryState(addSelection(this.done,e),this.undone,r,s)}addMapping(e){return new HistoryState(addMappingToBranch(this.done,e),addMappingToBranch(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,s){let a=e==0?this.done:this.undone;if(a.length==0)return null;let o=a[a.length-1],u=o.selectionsAfter[0]||r.selection;if(s&&o.selectionsAfter.length)return r.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:fromHistory.of({side:e,rest:popSelection(a),selection:u}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let l=a.length==1?none$1:a.slice(0,a.length-1);return o.mapped&&(l=addMappingToBranch(l,o.mapped)),r.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:fromHistory.of({side:e,rest:l,selection:u}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(n,e){return EditorSelection.create(n.ranges.map(e),n.mainIndex)}function setSel(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:n,dispatch:e},r){let s=updateSel(n.selection,r);return s.eq(n.selection,!0)?!1:(e(setSel(n,s)),!0)}function rangeEnd(n,e){return EditorSelection.cursor(e?n.to:n.from)}function cursorByChar(n,e){return moveSel(n,r=>r.empty?n.moveByChar(r,e):rangeEnd(r,e))}function ltrAtCursor(n){return n.textDirectionAt(n.state.selection.main.head)==Direction.LTR}const cursorCharLeft=n=>cursorByChar(n,!ltrAtCursor(n)),cursorCharRight=n=>cursorByChar(n,ltrAtCursor(n));function cursorByGroup(n,e){return moveSel(n,r=>r.empty?n.moveByGroup(r,e):rangeEnd(r,e))}const cursorGroupLeft=n=>cursorByGroup(n,!ltrAtCursor(n)),cursorGroupRight=n=>cursorByGroup(n,ltrAtCursor(n));function interestingNode(n,e,r){if(e.type.prop(r))return!0;let s=e.to-e.from;return s&&(s>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function moveBySyntax(n,e,r){let s=syntaxTree(n).resolveInner(e.head),a=r?NodeProp.closedBy:NodeProp.openedBy;for(let c=e.head;;){let h=r?s.childAfter(c):s.childBefore(c);if(!h)break;interestingNode(n,h,a)?s=h:c=r?h.to:h.from}let o=s.type.prop(a),u,l;return o&&(u=r?matchBrackets(n,s.from,1):matchBrackets(n,s.to,-1))&&u.matched?l=r?u.end.to:u.end.from:l=r?s.to:s.from,EditorSelection.cursor(l,r?-1:1)}const cursorSyntaxLeft=n=>moveSel(n,e=>moveBySyntax(n.state,e,!ltrAtCursor(n))),cursorSyntaxRight=n=>moveSel(n,e=>moveBySyntax(n.state,e,ltrAtCursor(n)));function cursorByLine(n,e){return moveSel(n,r=>{if(!r.empty)return rangeEnd(r,e);let s=n.moveVertically(r,e);return s.head!=r.head?s:n.moveToLineBoundary(r,e)})}const cursorLineUp=n=>cursorByLine(n,!1),cursorLineDown=n=>cursorByLine(n,!0);function pageInfo(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,r=0,s=0,a;if(e){for(let o of n.state.facet(EditorView.scrollMargins)){let u=o(n);u!=null&&u.top&&(r=Math.max(u==null?void 0:u.top,r)),u!=null&&u.bottom&&(s=Math.max(u==null?void 0:u.bottom,s))}a=n.scrollDOM.clientHeight-r-s}else a=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:s,selfScroll:e,height:Math.max(n.defaultLineHeight,a-5)}}function cursorByPage(n,e){let r=pageInfo(n),{state:s}=n,a=updateSel(s.selection,u=>u.empty?n.moveVertically(u,e,r.height):rangeEnd(u,e));if(a.eq(s.selection))return!1;let o;if(r.selfScroll){let u=n.coordsAtPos(s.selection.main.head),l=n.scrollDOM.getBoundingClientRect(),c=l.top+r.marginTop,h=l.bottom-r.marginBottom;u&&u.top>c&&u.bottom<h&&(o=EditorView.scrollIntoView(a.main.head,{y:"start",yMargin:u.top-c}))}return n.dispatch(setSel(s,a),{effects:o}),!0}const cursorPageUp=n=>cursorByPage(n,!1),cursorPageDown=n=>cursorByPage(n,!0);function moveByLineBoundary(n,e,r){let s=n.lineBlockAt(e.head),a=n.moveToLineBoundary(e,r);if(a.head==e.head&&a.head!=(r?s.to:s.from)&&(a=n.moveToLineBoundary(e,r,!1)),!r&&a.head==s.from&&s.length){let o=/^\s*/.exec(n.state.sliceDoc(s.from,Math.min(s.from+100,s.to)))[0].length;o&&e.head!=s.from+o&&(a=EditorSelection.cursor(s.from+o))}return a}const cursorLineBoundaryForward=n=>moveSel(n,e=>moveByLineBoundary(n,e,!0)),cursorLineBoundaryBackward=n=>moveSel(n,e=>moveByLineBoundary(n,e,!1)),cursorLineBoundaryLeft=n=>moveSel(n,e=>moveByLineBoundary(n,e,!ltrAtCursor(n))),cursorLineBoundaryRight=n=>moveSel(n,e=>moveByLineBoundary(n,e,ltrAtCursor(n))),cursorLineStart=n=>moveSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).from,1)),cursorLineEnd=n=>moveSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).to,-1));function toMatchingBracket(n,e,r){let s=!1,a=updateSel(n.selection,o=>{let u=matchBrackets(n,o.head,-1)||matchBrackets(n,o.head,1)||o.head>0&&matchBrackets(n,o.head-1,1)||o.head<n.doc.length&&matchBrackets(n,o.head+1,-1);if(!u||!u.end)return o;s=!0;let l=u.start.from==o.head?u.end.to:u.end.from;return EditorSelection.cursor(l)});return s?(e(setSel(n,a)),!0):!1}const cursorMatchingBracket=({state:n,dispatch:e})=>toMatchingBracket(n,e);function extendSel(n,e){let r=updateSel(n.state.selection,s=>{let a=e(s);return EditorSelection.range(s.anchor,a.head,a.goalColumn,a.bidiLevel||void 0)});return r.eq(n.state.selection)?!1:(n.dispatch(setSel(n.state,r)),!0)}function selectByChar(n,e){return extendSel(n,r=>n.moveByChar(r,e))}const selectCharLeft=n=>selectByChar(n,!ltrAtCursor(n)),selectCharRight=n=>selectByChar(n,ltrAtCursor(n));function selectByGroup(n,e){return extendSel(n,r=>n.moveByGroup(r,e))}const selectGroupLeft=n=>selectByGroup(n,!ltrAtCursor(n)),selectGroupRight=n=>selectByGroup(n,ltrAtCursor(n)),selectSyntaxLeft=n=>extendSel(n,e=>moveBySyntax(n.state,e,!ltrAtCursor(n))),selectSyntaxRight=n=>extendSel(n,e=>moveBySyntax(n.state,e,ltrAtCursor(n)));function selectByLine(n,e){return extendSel(n,r=>n.moveVertically(r,e))}const selectLineUp=n=>selectByLine(n,!1),selectLineDown=n=>selectByLine(n,!0);function selectByPage(n,e){return extendSel(n,r=>n.moveVertically(r,e,pageInfo(n).height))}const selectPageUp=n=>selectByPage(n,!1),selectPageDown=n=>selectByPage(n,!0),selectLineBoundaryForward=n=>extendSel(n,e=>moveByLineBoundary(n,e,!0)),selectLineBoundaryBackward=n=>extendSel(n,e=>moveByLineBoundary(n,e,!1)),selectLineBoundaryLeft=n=>extendSel(n,e=>moveByLineBoundary(n,e,!ltrAtCursor(n))),selectLineBoundaryRight=n=>extendSel(n,e=>moveByLineBoundary(n,e,ltrAtCursor(n))),selectLineStart=n=>extendSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).from)),selectLineEnd=n=>extendSel(n,e=>EditorSelection.cursor(n.lineBlockAt(e.head).to)),cursorDocStart=({state:n,dispatch:e})=>(e(setSel(n,{anchor:0})),!0),cursorDocEnd=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.doc.length})),!0),selectDocStart=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.selection.main.anchor,head:0})),!0),selectDocEnd=({state:n,dispatch:e})=>(e(setSel(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),selectAll=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),selectLine=({state:n,dispatch:e})=>{let r=selectedLineBlocks(n).map(({from:s,to:a})=>EditorSelection.range(s,Math.min(a+1,n.doc.length)));return e(n.update({selection:EditorSelection.create(r),userEvent:"select"})),!0},selectParentSyntax=({state:n,dispatch:e})=>{let r=updateSel(n.selection,s=>{let a=syntaxTree(n),o=a.resolveStack(s.from,1);if(s.empty){let u=a.resolveStack(s.from,-1);u.node.from>=o.node.from&&u.node.to<=o.node.to&&(o=u)}for(let u=o;u;u=u.next){let{node:l}=u;if((l.from<s.from&&l.to>=s.to||l.to>s.to&&l.from<=s.from)&&u.next)return EditorSelection.range(l.to,l.from)}return s});return r.eq(n.selection)?!1:(e(setSel(n,r)),!0)},simplifySelection=({state:n,dispatch:e})=>{let r=n.selection,s=null;return r.ranges.length>1?s=EditorSelection.create([r.main]):r.main.empty||(s=EditorSelection.create([EditorSelection.cursor(r.main.head)])),s?(e(setSel(n,s)),!0):!1};function deleteBy(n,e){if(n.state.readOnly)return!1;let r="delete.selection",{state:s}=n,a=s.changeByRange(o=>{let{from:u,to:l}=o;if(u==l){let c=e(o);c<u?(r="delete.backward",c=skipAtomic(n,c,!1)):c>u&&(r="delete.forward",c=skipAtomic(n,c,!0)),u=Math.min(u,c),l=Math.max(l,c)}else u=skipAtomic(n,u,!1),l=skipAtomic(n,l,!0);return u==l?{range:o}:{changes:{from:u,to:l},range:EditorSelection.cursor(u,u<o.head?-1:1)}});return a.changes.empty?!1:(n.dispatch(s.update(a,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?EditorView.announce.of(s.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(n,e,r){if(n instanceof EditorView)for(let s of n.state.facet(EditorView.atomicRanges).map(a=>a(n)))s.between(e,e,(a,o)=>{a<e&&o>e&&(e=r?o:a)});return e}const deleteByChar=(n,e,r)=>deleteBy(n,s=>{let a=s.from,{state:o}=n,u=o.doc.lineAt(a),l,c;if(r&&!e&&a>u.from&&a<u.from+200&&!/[^ \t]/.test(l=u.text.slice(0,a-u.from))){if(l[l.length-1]=="	")return a-1;let h=countColumn(l,o.tabSize),f=h%getIndentUnit(o)||getIndentUnit(o);for(let d=0;d<f&&l[l.length-1-d]==" ";d++)a--;c=a}else c=findClusterBreak(u.text,a-u.from,e,e)+u.from,c==a&&u.number!=(e?o.doc.lines:1)?c+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(u.text.slice(c-u.from,a-u.from))&&(c=findClusterBreak(u.text,c-u.from,!1,!1)+u.from);return c}),deleteCharBackward=n=>deleteByChar(n,!1,!0),deleteCharForward=n=>deleteByChar(n,!0,!1),deleteByGroup=(n,e)=>deleteBy(n,r=>{let s=r.head,{state:a}=n,o=a.doc.lineAt(s),u=a.charCategorizer(s);for(let l=null;;){if(s==(e?o.to:o.from)){s==r.head&&o.number!=(e?a.doc.lines:1)&&(s+=e?1:-1);break}let c=findClusterBreak(o.text,s-o.from,e)+o.from,h=o.text.slice(Math.min(s,c)-o.from,Math.max(s,c)-o.from),f=u(h);if(l!=null&&f!=l)break;(h!=" "||s!=r.head)&&(l=f),s=c}return s}),deleteGroupBackward=n=>deleteByGroup(n,!1),deleteGroupForward=n=>deleteByGroup(n,!0),deleteToLineEnd=n=>deleteBy(n,e=>{let r=n.lineBlockAt(e.head).to;return e.head<r?r:Math.min(n.state.doc.length,e.head+1)}),deleteLineBoundaryBackward=n=>deleteBy(n,e=>{let r=n.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),deleteLineBoundaryForward=n=>deleteBy(n,e=>{let r=n.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(n.state.doc.length,e.head+1)}),splitLine=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=n.changeByRange(s=>({changes:{from:s.from,to:s.to,insert:Text.of(["",""])},range:EditorSelection.cursor(s.from)}));return e(n.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=n.changeByRange(s=>{if(!s.empty||s.from==0||s.from==n.doc.length)return{range:s};let a=s.from,o=n.doc.lineAt(a),u=a==o.from?a-1:findClusterBreak(o.text,a-o.from,!1)+o.from,l=a==o.to?a+1:findClusterBreak(o.text,a-o.from,!0)+o.from;return{changes:{from:u,to:l,insert:n.doc.slice(a,l).append(n.doc.slice(u,a))},range:EditorSelection.cursor(l)}});return r.changes.empty?!1:(e(n.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(n){let e=[],r=-1;for(let s of n.selection.ranges){let a=n.doc.lineAt(s.from),o=n.doc.lineAt(s.to);if(!s.empty&&s.to==o.from&&(o=n.doc.lineAt(s.to-1)),r>=a.number){let u=e[e.length-1];u.to=o.to,u.ranges.push(s)}else e.push({from:a.from,to:o.to,ranges:[s]});r=o.number+1}return e}function moveLine(n,e,r){if(n.readOnly)return!1;let s=[],a=[];for(let o of selectedLineBlocks(n)){if(r?o.to==n.doc.length:o.from==0)continue;let u=n.doc.lineAt(r?o.to+1:o.from-1),l=u.length+1;if(r){s.push({from:o.to,to:u.to},{from:o.from,insert:u.text+n.lineBreak});for(let c of o.ranges)a.push(EditorSelection.range(Math.min(n.doc.length,c.anchor+l),Math.min(n.doc.length,c.head+l)))}else{s.push({from:u.from,to:o.from},{from:o.to,insert:n.lineBreak+u.text});for(let c of o.ranges)a.push(EditorSelection.range(c.anchor-l,c.head-l))}}return s.length?(e(n.update({changes:s,scrollIntoView:!0,selection:EditorSelection.create(a,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:n,dispatch:e})=>moveLine(n,e,!1),moveLineDown=({state:n,dispatch:e})=>moveLine(n,e,!0);function copyLine(n,e,r){if(n.readOnly)return!1;let s=[];for(let a of selectedLineBlocks(n))r?s.push({from:a.from,insert:n.doc.slice(a.from,a.to)+n.lineBreak}):s.push({from:a.to,insert:n.lineBreak+n.doc.slice(a.from,a.to)});return e(n.update({changes:s,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:n,dispatch:e})=>copyLine(n,e,!1),copyLineDown=({state:n,dispatch:e})=>copyLine(n,e,!0),deleteLine=n=>{if(n.state.readOnly)return!1;let{state:e}=n,r=e.changes(selectedLineBlocks(e).map(({from:a,to:o})=>(a>0?a--:o<e.doc.length&&o++,{from:a,to:o}))),s=updateSel(e.selection,a=>{let o;if(n.lineWrapping){let u=n.lineBlockAt(a.head),l=n.coordsAtPos(a.head,a.assoc||1);l&&(o=u.bottom+n.documentTop-l.bottom+n.defaultLineHeight/2)}return n.moveVertically(a,!0,o)}).map(r);return n.dispatch({changes:r,selection:s,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=syntaxTree(n).resolveInner(e),s=r.childBefore(e),a=r.childAfter(e),o;return s&&a&&s.to<=e&&a.from>=e&&(o=s.type.prop(NodeProp.closedBy))&&o.indexOf(a.name)>-1&&n.doc.lineAt(s.to).from==n.doc.lineAt(a.from).from&&!/\S/.test(n.sliceDoc(s.to,a.from))?{from:s.to,to:a.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(n){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let s=e.changeByRange(a=>{let{from:o,to:u}=a,l=e.doc.lineAt(o),c=!n&&o==u&&isBetweenBrackets(e,o);n&&(o=u=(u<=l.to?l:e.doc.lineAt(u)).to);let h=new IndentContext(e,{simulateBreak:o,simulateDoubleBreak:!!c}),f=getIndentation(h,o);for(f==null&&(f=countColumn(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));u<l.to&&/\s/.test(l.text[u-l.from]);)u++;c?{from:o,to:u}=c:o>l.from&&o<l.from+100&&!/\S/.test(l.text.slice(0,o))&&(o=l.from);let d=["",indentString(e,f)];return c&&d.push(indentString(e,h.lineIndent(l.from,-1))),{changes:{from:o,to:u,insert:Text.of(d)},range:EditorSelection.cursor(o+1+d[1].length)}});return r(e.update(s,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(n,e){let r=-1;return n.changeByRange(s=>{let a=[];for(let u=s.from;u<=s.to;){let l=n.doc.lineAt(u);l.number>r&&(s.empty||s.to>l.from)&&(e(l,a,s),r=l.number),u=l.to+1}let o=n.changes(a);return{changes:a,range:EditorSelection.range(o.mapPos(s.anchor,1),o.mapPos(s.head,1))}})}const indentSelection=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=Object.create(null),s=new IndentContext(n,{overrideIndentation:o=>{let u=r[o];return u??-1}}),a=changeBySelectedLine(n,(o,u,l)=>{let c=getIndentation(s,o.from);if(c==null)return;/\S/.test(o.text)||(c=0);let h=/^\s*/.exec(o.text)[0],f=indentString(n,c);(h!=f||l.from<o.from+h.length)&&(r[o.from]=c,u.push({from:o.from,to:o.from+h.length,insert:f}))});return a.changes.empty||e(n.update(a,{userEvent:"indent"})),!0},indentMore=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(changeBySelectedLine(n,(r,s)=>{s.push({from:r.from,insert:n.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(changeBySelectedLine(n,(r,s)=>{let a=/^\s*/.exec(r.text)[0];if(!a)return;let o=countColumn(a,n.tabSize),u=0,l=indentString(n,Math.max(0,o-getIndentUnit(n)));for(;u<a.length&&u<l.length&&a.charCodeAt(u)==l.charCodeAt(u);)u++;s.push({from:r.from+u,to:r.from+a.length,insert:l.slice(u)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=n=>(n.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),basicNormalize=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class SearchCursor{constructor(e,r,s=0,a=e.length,o,u){this.test=u,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(s,a),this.bufferStart=s,this.normalize=o?l=>o(basicNormalize(l)):basicNormalize,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=fromCodePoint$1(e),s=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(e);let a=this.normalize(r);if(a.length)for(let o=0,u=s;;o++){let l=a.charCodeAt(o),c=this.match(l,u,this.bufferPos+this.bufferStart);if(o==a.length-1){if(c)return this.value=c,this;break}u==s&&o<r.length&&r.charCodeAt(o)==l&&u++}}}match(e,r,s){let a=null;for(let o=0;o<this.matches.length;o+=2){let u=this.matches[o],l=!1;this.query.charCodeAt(u)==e&&(u==this.query.length-1?a={from:this.matches[o+1],to:s}:(this.matches[o]++,l=!0)),l||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?a={from:r,to:s}:this.matches.push(1,r)),a&&this.test&&!this.test(a.from,a.to,this.buffer,this.bufferStart)&&(a=null),a}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty$2={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(e,r,s,a=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=empty$2,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new MultilineRegExpCursor(e,r,s,a,o);this.re=new RegExp(r,baseFlags+(s!=null&&s.ignoreCase?"i":"")),this.test=s==null?void 0:s.test,this.iter=e.iter();let u=e.lineAt(a);this.curLineStart=u.from,this.matchPos=toCharEnd(e,a),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let s=this.curLineStart+r.index,a=s+r[0].length;if(this.matchPos=toCharEnd(this.text,a+(s==a?1:0)),s==this.curLineStart+this.curLine.length&&this.nextLine(),(s<a||s>this.value.to)&&(!this.test||this.test(s,a,r)))return this.value={from:s,to:a,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,s){let a=flattened.get(e);if(!a||a.from>=s||a.to<=r){let l=new FlattenedDoc(r,e.sliceString(r,s));return flattened.set(e,l),l}if(a.from==r&&a.to==s)return a;let{text:o,from:u}=a;return u>r&&(o=e.sliceString(r,u)+o,u=r),a.to<s&&(o+=e.sliceString(a.to,s)),flattened.set(e,new FlattenedDoc(u,o)),new FlattenedDoc(r,o.slice(r-u,s-u))}}class MultilineRegExpCursor{constructor(e,r,s,a,o){this.text=e,this.to=o,this.done=!1,this.value=empty$2,this.matchPos=toCharEnd(e,a),this.re=new RegExp(r,baseFlags+(s!=null&&s.ignoreCase?"i":"")),this.test=s==null?void 0:s.test,this.flat=FlattenedDoc.get(e,a,this.chunkEnd(a+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let s=this.flat.from+r.index,a=s+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(s,a,r)))return this.value={from:s,to:a,match:r},this.matchPos=toCharEnd(this.text,a+(s==a?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(n){try{return new RegExp(n,baseFlags),!0}catch{return!1}}function toCharEnd(n,e){if(e>=n.length)return e;let r=n.lineAt(e),s;for(;e<r.to&&(s=r.text.charCodeAt(e-r.from))>=56320&&s<57344;)e++;return e}function createLineDialog(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),r=crelt("input",{class:"cm-textfield",name:"line",value:e}),s=crelt("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),n.dispatch({effects:dialogEffect.of(!1)}),n.focus()):o.keyCode==13&&(o.preventDefault(),a())},onsubmit:o=>{o.preventDefault(),a()}},crelt("label",n.state.phrase("Go to line"),": ",r)," ",crelt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),crelt("button",{name:"close",onclick:()=>{n.dispatch({effects:dialogEffect.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},["Ã—"]));function a(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!o)return;let{state:u}=n,l=u.doc.lineAt(u.selection.main.head),[,c,h,f,d]=o,m=f?+f.slice(1):0,g=h?+h:l.number;if(h&&d){let D=g/100;c&&(D=D*(c=="-"?-1:1)+l.number/u.doc.lines),g=Math.round(u.doc.lines*D)}else h&&c&&(g=g*(c=="-"?-1:1)+l.number);let O=u.doc.line(Math.max(1,Math.min(u.doc.lines,g))),E=EditorSelection.cursor(O.from+Math.max(0,Math.min(m,O.length)));n.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(E.from,{y:"center"})],selection:E}),n.focus()}return{dom:s}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(n,e){for(let r of e.effects)r.is(dialogEffect)&&(n=r.value);return n},provide:n=>showPanel.from(n,e=>e?createLineDialog:null)}),gotoLine=n=>{let e=getPanel(n,createLineDialog);if(!e){let r=[dialogEffect.of(!0)];n.state.field(dialogField,!1)==null&&r.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),n.dispatch({effects:r}),e=getPanel(n,createLineDialog)}return e&&e.dom.querySelector("input").select(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(n){return combineConfig(n,defaultHighlightOptions,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(n){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(n,e,r,s){return(r==0||n(e.sliceDoc(r-1,r))!=CharCategory.Word)&&(s==e.doc.length||n(e.sliceDoc(s,s+1))!=CharCategory.Word)}function insideWord(n,e,r,s){return n(e.sliceDoc(r,r+1))==CharCategory.Word&&n(e.sliceDoc(s-1,s))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(highlightConfig),{state:r}=n,s=r.selection;if(s.ranges.length>1)return Decoration.none;let a=s.main,o,u=null;if(a.empty){if(!e.highlightWordAroundCursor)return Decoration.none;let c=r.wordAt(a.head);if(!c)return Decoration.none;u=r.charCategorizer(a.head),o=r.sliceDoc(c.from,c.to)}else{let c=a.to-a.from;if(c<e.minSelectionLength||c>200)return Decoration.none;if(e.wholeWords){if(o=r.sliceDoc(a.from,a.to),u=r.charCategorizer(a.head),!(insideWordBoundaries(u,r,a.from,a.to)&&insideWord(u,r,a.from,a.to)))return Decoration.none}else if(o=r.sliceDoc(a.from,a.to),!o)return Decoration.none}let l=[];for(let c of n.visibleRanges){let h=new SearchCursor(r.doc,o,c.from,c.to);for(;!h.next().done;){let{from:f,to:d}=h.value;if((!u||insideWordBoundaries(u,r,f,d))&&(a.empty&&f<=a.from&&d>=a.to?l.push(mainMatchDeco.range(f,d)):(f>=a.to||d<=a.from)&&l.push(matchDeco.range(f,d)),l.length>e.maxMatches))return Decoration.none}}return Decoration.set(l)}},{decorations:n=>n.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:n,dispatch:e})=>{let{selection:r}=n,s=EditorSelection.create(r.ranges.map(a=>n.wordAt(a.head)||EditorSelection.cursor(a.head)),r.mainIndex);return s.eq(r)?!1:(e(n.update({selection:s})),!0)};function findNextOccurrence(n,e){let{main:r,ranges:s}=n.selection,a=n.wordAt(r.head),o=a&&a.from==r.from&&a.to==r.to;for(let u=!1,l=new SearchCursor(n.doc,e,s[s.length-1].to);;)if(l.next(),l.done){if(u)return null;l=new SearchCursor(n.doc,e,0,Math.max(0,s[s.length-1].from-1)),u=!0}else{if(u&&s.some(c=>c.from==l.value.from))continue;if(o){let c=n.wordAt(l.value.from);if(!c||c.from!=l.value.from||c.to!=l.value.to)continue}return l.value}}const selectNextOccurrence=({state:n,dispatch:e})=>{let{ranges:r}=n.selection;if(r.some(o=>o.from===o.to))return selectWord({state:n,dispatch:e});let s=n.sliceDoc(r[0].from,r[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=s))return!1;let a=findNextOccurrence(n,s);return a?(e(n.update({selection:n.selection.addRange(EditorSelection.range(a.from,a.to),!1),effects:EditorView.scrollIntoView(a.to)})),!0):!1},searchConfigFacet=Facet.define({combine(n){return combineConfig(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new SearchPanel(e),scrollToMatch:e=>EditorView.scrollIntoView(e)})}});class SearchQuery{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,s)=>s=="n"?`
`:s=="r"?"\r":s=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(e,r=0,s){let a=e.doc?e:EditorState.create({doc:e});return s==null&&(s=a.doc.length),this.regexp?regexpCursor(this,a,r,s):stringCursor(this,a,r,s)}}class QueryType{constructor(e){this.spec=e}}function stringCursor(n,e,r,s){return new SearchCursor(e.doc,n.unquoted,r,s,n.caseSensitive?void 0:a=>a.toLowerCase(),n.wholeWord?stringWordTest(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function stringWordTest(n,e){return(r,s,a,o)=>((o>r||o+a.length<s)&&(o=Math.max(0,r-2),a=n.sliceString(o,Math.min(n.length,s+2))),(e(charBefore(a,r-o))!=CharCategory.Word||e(charAfter(a,r-o))!=CharCategory.Word)&&(e(charAfter(a,s-o))!=CharCategory.Word||e(charBefore(a,s-o))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(e){super(e)}nextMatch(e,r,s){let a=stringCursor(this.spec,e,s,e.doc.length).nextOverlapping();if(a.done){let o=Math.min(e.doc.length,r+this.spec.unquoted.length);a=stringCursor(this.spec,e,0,o).nextOverlapping()}return a.done||a.value.from==r&&a.value.to==s?null:a.value}prevMatchInRange(e,r,s){for(let a=s;;){let o=Math.max(r,a-1e4-this.spec.unquoted.length),u=stringCursor(this.spec,e,o,a),l=null;for(;!u.nextOverlapping().done;)l=u.value;if(l)return l;if(o==r)return null;a-=1e4}}prevMatch(e,r,s){let a=this.prevMatchInRange(e,0,r);return a||(a=this.prevMatchInRange(e,Math.max(0,s-this.spec.unquoted.length),e.doc.length)),a&&(a.from!=r||a.to!=s)?a:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let s=stringCursor(this.spec,e,0,e.doc.length),a=[];for(;!s.next().done;){if(a.length>=r)return null;a.push(s.value)}return a}highlight(e,r,s,a){let o=stringCursor(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(s+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)a(o.value.from,o.value.to)}}function regexpCursor(n,e,r,s){return new RegExpCursor(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?regexpWordTest(e.charCategorizer(e.selection.main.head)):void 0},r,s)}function charBefore(n,e){return n.slice(findClusterBreak(n,e,!1),e)}function charAfter(n,e){return n.slice(e,findClusterBreak(n,e))}function regexpWordTest(n){return(e,r,s)=>!s[0].length||(n(charBefore(s.input,s.index))!=CharCategory.Word||n(charAfter(s.input,s.index))!=CharCategory.Word)&&(n(charAfter(s.input,s.index+s[0].length))!=CharCategory.Word||n(charBefore(s.input,s.index+s[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(e,r,s){let a=regexpCursor(this.spec,e,s,e.doc.length).next();return a.done&&(a=regexpCursor(this.spec,e,0,r).next()),a.done?null:a.value}prevMatchInRange(e,r,s){for(let a=1;;a++){let o=Math.max(r,s-a*1e4),u=regexpCursor(this.spec,e,o,s),l=null;for(;!u.next().done;)l=u.value;if(l&&(o==r||l.from>o+10))return l;if(o==r)return null}}prevMatch(e,r,s){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,s,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(r,s)=>{if(s=="&")return e.match[0];if(s=="$")return"$";for(let a=s.length;a>0;a--){let o=+s.slice(0,a);if(o>0&&o<e.match.length)return e.match[o]+s.slice(a)}return r})}matchAll(e,r){let s=regexpCursor(this.spec,e,0,e.doc.length),a=[];for(;!s.next().done;){if(a.length>=r)return null;a.push(s.value)}return a}highlight(e,r,s,a){let o=regexpCursor(this.spec,e,Math.max(0,r-250),Math.min(s+250,e.doc.length));for(;!o.next().done;)a(o.value.from,o.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(n){return new SearchState(defaultQuery(n).create(),null)},update(n,e){for(let r of e.effects)r.is(setSearchQuery)?n=new SearchState(r.value.create(),n.panel):r.is(togglePanel$1)&&(n=new SearchState(n.query,r.value?createSearchPanel:null));return n},provide:n=>showPanel.from(n,e=>e.panel)});class SearchState{constructor(e,r){this.query=e,this.panel=r}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(searchState))}update(n){let e=n.state.field(searchState);(e!=n.startState.field(searchState)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Decoration.none;let{view:r}=this,s=new RangeSetBuilder;for(let a=0,o=r.visibleRanges,u=o.length;a<u;a++){let{from:l,to:c}=o[a];for(;a<u-1&&c>o[a+1].from-2*250;)c=o[++a].to;n.highlight(r.state,l,c,(h,f)=>{let d=r.state.selection.ranges.some(m=>m.from==h&&m.to==f);s.add(h,f,d?selectedMatchMark:matchMark)})}return s.finish()}},{decorations:n=>n.decorations});function searchCommand(n){return e=>{let r=e.state.field(searchState,!1);return r&&r.query.spec.valid?n(e,r):openSearchPanel(e)}}const findNext=searchCommand((n,{query:e})=>{let{to:r}=n.state.selection.main,s=e.nextMatch(n.state,r,r);if(!s)return!1;let a=EditorSelection.single(s.from,s.to),o=n.state.facet(searchConfigFacet);return n.dispatch({selection:a,effects:[announceMatch(n,s),o.scrollToMatch(a.main,n)],userEvent:"select.search"}),selectSearchInput(n),!0}),findPrevious=searchCommand((n,{query:e})=>{let{state:r}=n,{from:s}=r.selection.main,a=e.prevMatch(r,s,s);if(!a)return!1;let o=EditorSelection.single(a.from,a.to),u=n.state.facet(searchConfigFacet);return n.dispatch({selection:o,effects:[announceMatch(n,a),u.scrollToMatch(o.main,n)],userEvent:"select.search"}),selectSearchInput(n),!0}),selectMatches=searchCommand((n,{query:e})=>{let r=e.matchAll(n.state,1e3);return!r||!r.length?!1:(n.dispatch({selection:EditorSelection.create(r.map(s=>EditorSelection.range(s.from,s.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:n,dispatch:e})=>{let r=n.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:s,to:a}=r.main,o=[],u=0;for(let l=new SearchCursor(n.doc,n.sliceDoc(s,a));!l.next().done;){if(o.length>1e3)return!1;l.value.from==s&&(u=o.length),o.push(EditorSelection.range(l.value.from,l.value.to))}return e(n.update({selection:EditorSelection.create(o,u),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((n,{query:e})=>{let{state:r}=n,{from:s,to:a}=r.selection.main;if(r.readOnly)return!1;let o=e.nextMatch(r,s,s);if(!o)return!1;let u=o,l=[],c,h,f=[];u.from==s&&u.to==a&&(h=r.toText(e.getReplacement(u)),l.push({from:u.from,to:u.to,insert:h}),u=e.nextMatch(r,u.from,u.to),f.push(EditorView.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(s).number)+".")));let d=n.state.changes(l);return u&&(c=EditorSelection.single(u.from,u.to).map(d),f.push(announceMatch(n,u)),f.push(r.facet(searchConfigFacet).scrollToMatch(c.main,n))),n.dispatch({changes:d,selection:c,effects:f,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((n,{query:e})=>{if(n.state.readOnly)return!1;let r=e.matchAll(n.state,1e9).map(a=>{let{from:o,to:u}=a;return{from:o,to:u,insert:e.getReplacement(a)}});if(!r.length)return!1;let s=n.state.phrase("replaced $ matches",r.length)+".";return n.dispatch({changes:r,effects:EditorView.announce.of(s),userEvent:"input.replace.all"}),!0});function createSearchPanel(n){return n.state.facet(searchConfigFacet).createPanel(n)}function defaultQuery(n,e){var r,s,a,o,u;let l=n.selection.main,c=l.empty||l.to>l.from+100?"":n.sliceDoc(l.from,l.to);if(e&&!c)return e;let h=n.facet(searchConfigFacet);return new SearchQuery({search:((r=e==null?void 0:e.literal)!==null&&r!==void 0?r:h.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(s=e==null?void 0:e.caseSensitive)!==null&&s!==void 0?s:h.caseSensitive,literal:(a=e==null?void 0:e.literal)!==null&&a!==void 0?a:h.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:h.regexp,wholeWord:(u=e==null?void 0:e.wholeWord)!==null&&u!==void 0?u:h.wholeWord})}function getSearchInput(n){let e=getPanel(n,createSearchPanel);return e&&e.dom.querySelector("[main-field]")}function selectSearchInput(n){let e=getSearchInput(n);e&&e==n.root.activeElement&&e.select()}const openSearchPanel=n=>{let e=n.state.field(searchState,!1);if(e&&e.panel){let r=getSearchInput(n);if(r&&r!=n.root.activeElement){let s=defaultQuery(n.state,e.query.spec);s.valid&&n.dispatch({effects:setSearchQuery.of(s)}),r.focus(),r.select()}}else n.dispatch({effects:[togglePanel$1.of(!0),e?setSearchQuery.of(defaultQuery(n.state,e.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=n=>{let e=n.state.field(searchState,!1);if(!e||!e.panel)return!1;let r=getPanel(n,createSearchPanel);return r&&r.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(e){this.view=e;let r=this.query=e.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:r.search,placeholder:phrase(e,"Find"),"aria-label":phrase(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:r.replace,placeholder:phrase(e,"Replace"),"aria-label":phrase(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function s(a,o,u){return crelt("button",{class:"cm-button",name:a,onclick:o,type:"button"},u)}this.dom=crelt("div",{onkeydown:a=>this.keydown(a),class:"cm-search"},[this.searchField,s("next",()=>findNext(e),[phrase(e,"next")]),s("prev",()=>findPrevious(e),[phrase(e,"previous")]),s("select",()=>selectMatches(e),[phrase(e,"all")]),crelt("label",null,[this.caseField,phrase(e,"match case")]),crelt("label",null,[this.reField,phrase(e,"regexp")]),crelt("label",null,[this.wordField,phrase(e,"by word")]),...e.state.readOnly?[]:[crelt("br"),this.replaceField,s("replace",()=>replaceNext(e),[phrase(e,"replace")]),s("replaceAll",()=>replaceAll(e),[phrase(e,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(e),"aria-label":phrase(e,"close"),type:"button"},["Ã—"])])}commit(){let e=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:setSearchQuery.of(e)}))}keydown(e){runScopeHandlers(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?findPrevious:findNext)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),replaceNext(this.view))}update(e){for(let r of e.transactions)for(let s of r.effects)s.is(setSearchQuery)&&!s.value.eq(this.query)&&this.setQuery(s.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(n,e){return n.state.phrase(e)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(n,{from:e,to:r}){let s=n.state.doc.lineAt(e),a=n.state.doc.lineAt(r).to,o=Math.max(s.from,e-AnnounceMargin),u=Math.min(a,r+AnnounceMargin),l=n.state.sliceDoc(o,u);if(o!=s.from){for(let c=0;c<AnnounceMargin;c++)if(!Break.test(l[c+1])&&Break.test(l[c])){l=l.slice(c);break}}if(u!=a){for(let c=l.length-1;c>l.length-AnnounceMargin;c--)if(!Break.test(l[c-1])&&Break.test(l[c])){l=l.slice(0,c);break}}return EditorView.announce.of(`${n.state.phrase("current match")}. ${l} ${n.state.phrase("on line")} ${s.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class CompletionContext{constructor(e,r,s,a){this.state=e,this.pos=r,this.explicit=s,this.view=a,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let r=syntaxTree(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),s=Math.max(r.from,this.pos-250),a=r.text.slice(s-r.from,this.pos-r.from),o=a.search(ensureAnchor(e,!1));return o<0?null:{from:s+o,to:this.pos,text:a.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,r,s){e=="abort"&&this.abortListeners&&(this.abortListeners.push(r),s&&s.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(n){let e=Object.keys(n).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(n){let e=Object.create(null),r=Object.create(null);for(let{label:a}of n){e[a[0]]=!0;for(let o=1;o<a.length;o++)r[a[o]]=!0}let s=toSet(e)+toSet(r)+"*$";return[new RegExp("^"+s),new RegExp(s)]}function completeFromList(n){let e=n.map(a=>typeof a=="string"?{label:a}:a),[r,s]=e.every(a=>/^\w+$/.test(a.label))?[/\w*$/,/\w+$/]:prefixMatch(e);return a=>{let o=a.matchBefore(s);return o||a.explicit?{from:o?o.from:a.pos,options:e,validFor:r}:null}}function ifNotIn(n,e){return r=>{for(let s=syntaxTree(r.state).resolveInner(r.pos,-1);s;s=s.parent){if(n.indexOf(s.name)>-1)return null;if(s.type.isTop)break}return e(r)}}class Option{constructor(e,r,s,a){this.completion=e,this.source=r,this.match=s,this.score=a}}function cur(n){return n.selection.main.from}function ensureAnchor(n,e){var r;let{source:s}=n,a=e&&s[0]!="^",o=s[s.length-1]!="$";return!a&&!o?n:new RegExp(`${a?"^":""}(?:${s})${o?"$":""}`,(r=n.flags)!==null&&r!==void 0?r:n.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(n,e,r,s){let{main:a}=n.selection,o=r-a.from,u=s-a.from;return Object.assign(Object.assign({},n.changeByRange(l=>{if(l!=a&&r!=s&&n.sliceDoc(l.from+o,l.from+u)!=n.sliceDoc(r,s))return{range:l};let c=n.toText(e);return{changes:{from:l.from+o,to:s==a.from?l.to:l.from+u,insert:c},range:EditorSelection.cursor(l.from+o+c.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(n){if(!Array.isArray(n))return n;let e=SourceCache.get(n);return e||SourceCache.set(n,e=completeFromList(n)),e}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let s=codePointAt(e,r),a=codePointSize(s);this.chars.push(s);let o=e.slice(r,r+a),u=o.toUpperCase();this.folded.push(codePointAt(u==o?o.toLowerCase():u,0)),r+=a}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:r,folded:s,any:a,precise:o,byWord:u}=this;if(r.length==1){let S=codePointAt(e,0),B=codePointSize(S),$=B==e.length?0:-100;if(S!=r[0])if(S==s[0])$+=-200;else return null;return this.ret($,[0,B])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=r.length,h=0;if(l<0){for(let S=0,B=Math.min(e.length,200);S<B&&h<c;){let $=codePointAt(e,S);($==r[h]||$==s[h])&&(a[h++]=S),S+=codePointSize($)}if(h<c)return null}let f=0,d=0,m=!1,g=0,O=-1,E=-1,D=/[a-z]/.test(e),A=!0;for(let S=0,B=Math.min(e.length,200),$=0;S<B&&d<c;){let x=codePointAt(e,S);l<0&&(f<c&&x==r[f]&&(o[f++]=S),g<c&&(x==r[g]||x==s[g]?(g==0&&(O=S),E=S+1,g++):g=0));let w,R=x<255?x>=48&&x<=57||x>=97&&x<=122?2:x>=65&&x<=90?1:0:(w=fromCodePoint$1(x))!=w.toLowerCase()?1:w!=w.toUpperCase()?2:0;(!S||R==1&&D||$==0&&R!=0)&&(r[d]==x||s[d]==x&&(m=!0)?u[d++]=S:u.length&&(A=!1)),$=R,S+=codePointSize(x)}return d==c&&u[0]==0&&A?this.result(-100+(m?-200:0),u,e):g==c&&O==0?this.ret(-200-e.length+(E==e.length?0:-100),[0,E]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):g==c?this.ret(-900-e.length,[O,E]):d==c?this.result(-100+(m?-200:0)+-700+(A?0:-1100),u,e):r.length==2?null:this.result((a[0]?-700:0)+-200+-1100,a,e)}result(e,r,s){let a=[],o=0;for(let u of r){let l=u+(this.astral?codePointSize(codePointAt(s,u)):1);o&&a[o-1]==u?a[o-1]=l:(a[o++]=u,a[o++]=l)}return this.ret(e-s.length,a)}}class StrictMatcher{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let r=e.slice(0,this.pattern.length),s=r==this.pattern?0:r.toLowerCase()==this.folded?-200:null;return s==null?null:(this.matched=[0,r.length],this.score=s+(e.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(n){return combineConfig(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>s=>joinClass(e(s),r(s)),optionClass:(e,r)=>s=>joinClass(e(s),r(s)),addToOptions:(e,r)=>e.concat(r),filterStrict:(e,r)=>e||r})}});function joinClass(n,e){return n?e?n+" "+e:n:e}function defaultPositionInfo(n,e,r,s,a,o){let u=n.textDirection==Direction.RTL,l=u,c=!1,h="top",f,d,m=e.left-a.left,g=a.right-e.right,O=s.right-s.left,E=s.bottom-s.top;if(l&&m<Math.min(O,g)?l=!1:!l&&g<Math.min(O,m)&&(l=!0),O<=(l?m:g))f=Math.max(a.top,Math.min(r.top,a.bottom-E))-e.top,d=Math.min(400,l?m:g);else{c=!0,d=Math.min(400,(u?e.right:a.right-e.left)-30);let S=a.bottom-e.bottom;S>=E||S>e.top?f=r.bottom-e.top:(h="bottom",f=e.bottom-r.top)}let D=(e.bottom-e.top)/o.offsetHeight,A=(e.right-e.left)/o.offsetWidth;return{style:`${h}: ${f/D}px; max-width: ${d/A}px`,class:"cm-completionInfo-"+(c?u?"left-narrow":"right-narrow":l?"left":"right")}}function optionContent(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(r){let s=document.createElement("div");return s.classList.add("cm-completionIcon"),r.type&&s.classList.add(...r.type.split(/\s+/g).map(a=>"cm-completionIcon-"+a)),s.setAttribute("aria-hidden","true"),s},position:20}),e.push({render(r,s,a,o){let u=document.createElement("span");u.className="cm-completionLabel";let l=r.displayLabel||r.label,c=0;for(let h=0;h<o.length;){let f=o[h++],d=o[h++];f>c&&u.appendChild(document.createTextNode(l.slice(c,f)));let m=u.appendChild(document.createElement("span"));m.appendChild(document.createTextNode(l.slice(f,d))),m.className="cm-completionMatchedText",c=d}return c<l.length&&u.appendChild(document.createTextNode(l.slice(c))),u},position:50},{render(r){if(!r.detail)return null;let s=document.createElement("span");return s.className="cm-completionDetail",s.textContent=r.detail,s},position:80}),e.sort((r,s)=>r.position-s.position).map(r=>r.render)}function rangeAroundSelected(n,e,r){if(n<=r)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let a=Math.floor(e/r);return{from:a*r,to:(a+1)*r}}let s=Math.floor((n-e)/r);return{from:n-(s+1)*r,to:n-s*r}}class CompletionTooltip{constructor(e,r,s){this.view=e,this.stateField=r,this.applyCompletion=s,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let a=e.state.field(r),{options:o,selected:u}=a.open,l=e.state.facet(completionConfig);this.optionContent=optionContent(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=rangeAroundSelected(o.length,u,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:h}=e.state.field(r).open;for(let f=c.target,d;f&&f!=this.dom;f=f.parentNode)if(f.nodeName=="LI"&&(d=/-(\d+)$/.exec(f.id))&&+d[1]<h.length){this.applyCompletion(e,h[+d[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(completionConfig).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(o,a.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let s=e.state.field(this.stateField),a=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),s!=a){let{options:o,selected:u,disabled:l}=s.open;(!a.open||a.open.options!=o)&&(this.range=rangeAroundSelected(o.length,u,e.state.facet(completionConfig).maxRenderedOptions),this.showOptions(o,s.id)),this.updateSel(),l!=((r=a.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let s of this.currentClass.split(" "))s&&this.dom.classList.remove(s);for(let s of r.split(" "))s&&this.dom.classList.add(s);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=rangeAroundSelected(r.options.length,r.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(r.options,e.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:s}=r.options[r.selected],{info:a}=s;if(!a)return;let o=typeof a=="string"?document.createTextNode(a):a(s);if(!o)return;"then"in o?o.then(u=>{u&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(u,s)}).catch(u=>logException(this.view.state,u,"completion info")):this.addInfoPane(o,s)}}addInfoPane(e,r){this.destroyInfo();let s=this.info=document.createElement("div");if(s.className="cm-tooltip cm-completionInfo",e.nodeType!=null)s.appendChild(e),this.infoDestroy=null;else{let{dom:a,destroy:o}=e;s.appendChild(a),this.infoDestroy=o||null}this.dom.appendChild(s),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let s=this.list.firstChild,a=this.range.from;s;s=s.nextSibling,a++)s.nodeName!="LI"||!s.id?a--:a==e?s.hasAttribute("aria-selected")||(s.setAttribute("aria-selected","true"),r=s):s.hasAttribute("aria-selected")&&s.removeAttribute("aria-selected");return r&&scrollIntoView(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),s=this.info.getBoundingClientRect(),a=e.getBoundingClientRect(),o=this.space;if(!o){let u=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:u.clientWidth,bottom:u.clientHeight}}return a.top>Math.min(o.bottom,r.bottom)-10||a.bottom<Math.max(o.top,r.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,r,a,s,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,s){const a=document.createElement("ul");a.id=r,a.setAttribute("role","listbox"),a.setAttribute("aria-expanded","true"),a.setAttribute("aria-label",this.view.state.phrase("Completions")),a.addEventListener("mousedown",u=>{u.target==a&&u.preventDefault()});let o=null;for(let u=s.from;u<s.to;u++){let{completion:l,match:c}=e[u],{section:h}=l;if(h){let m=typeof h=="string"?h:h.name;if(m!=o&&(u>s.from||s.from==0))if(o=m,typeof h!="string"&&h.header)a.appendChild(h.header(h));else{let g=a.appendChild(document.createElement("completion-section"));g.textContent=m}}const f=a.appendChild(document.createElement("li"));f.id=r+"-"+u,f.setAttribute("role","option");let d=this.optionClass(l);d&&(f.className=d);for(let m of this.optionContent){let g=m(l,this.view.state,this.view,c);g&&f.appendChild(g)}}return s.from&&a.classList.add("cm-completionListIncompleteTop"),s.to<e.length&&a.classList.add("cm-completionListIncompleteBottom"),a}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(n,e){return r=>new CompletionTooltip(r,n,e)}function scrollIntoView(n,e){let r=n.getBoundingClientRect(),s=e.getBoundingClientRect(),a=r.height/n.offsetHeight;s.top<r.top?n.scrollTop-=(r.top-s.top)/a:s.bottom>r.bottom&&(n.scrollTop+=(s.bottom-r.bottom)/a)}function score(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function sortOptions(n,e){let r=[],s=null,a=h=>{r.push(h);let{section:f}=h.completion;if(f){s||(s=[]);let d=typeof f=="string"?f:f.name;s.some(m=>m.name==d)||s.push(typeof f=="string"?{name:d}:f)}},o=e.facet(completionConfig);for(let h of n)if(h.hasResult()){let f=h.result.getMatch;if(h.result.filter===!1)for(let d of h.result.options)a(new Option(d,h.source,f?f(d):[],1e9-r.length));else{let d=e.sliceDoc(h.from,h.to),m,g=o.filterStrict?new StrictMatcher(d):new FuzzyMatcher(d);for(let O of h.result.options)if(m=g.match(O.label)){let E=O.displayLabel?f?f(O,m.matched):[]:m.matched;a(new Option(O,h.source,E,m.score+(O.boost||0)))}}}if(s){let h=Object.create(null),f=0,d=(m,g)=>{var O,E;return((O=m.rank)!==null&&O!==void 0?O:1e9)-((E=g.rank)!==null&&E!==void 0?E:1e9)||(m.name<g.name?-1:1)};for(let m of s.sort(d))f-=1e5,h[m.name]=f;for(let m of r){let{section:g}=m.completion;g&&(m.score+=h[typeof g=="string"?g:g.name])}}let u=[],l=null,c=o.compareCompletions;for(let h of r.sort((f,d)=>d.score-f.score||c(f.completion,d.completion))){let f=h.completion;!l||l.label!=f.label||l.detail!=f.detail||l.type!=null&&f.type!=null&&l.type!=f.type||l.apply!=f.apply||l.boost!=f.boost?u.push(h):score(h.completion)>score(l)&&(u[u.length-1]=h),l=h.completion}return u}class CompletionDialog{constructor(e,r,s,a,o,u){this.options=e,this.attrs=r,this.tooltip=s,this.timestamp=a,this.selected=o,this.disabled=u}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,s,a,o,u){if(a&&!u&&e.some(h=>h.isPending))return a.setDisabled();let l=sortOptions(e,r);if(!l.length)return a&&e.some(h=>h.isPending)?a.setDisabled():null;let c=r.facet(completionConfig).selectOnOpen?0:-1;if(a&&a.selected!=c&&a.selected!=-1){let h=a.options[a.selected].completion;for(let f=0;f<l.length;f++)if(l[f].completion==h){c=f;break}}return new CompletionDialog(l,makeAttrs(s,c),{pos:e.reduce((h,f)=>f.hasResult()?Math.min(h,f.from):h,1e8),create:createTooltip,above:o.aboveCursor},a?a.timestamp:Date.now(),c,!1)}map(e){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(e,r,s){this.active=e,this.id=r,this.open=s}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,s=r.facet(completionConfig),o=(s.override||r.languageDataAt("autocomplete",cur(r)).map(asSource)).map(c=>(this.active.find(f=>f.source==c)||new ActiveSource(c,this.active.some(f=>f.state!=0)?1:0)).update(e,s));o.length==this.active.length&&o.every((c,h)=>c==this.active[h])&&(o=this.active);let u=this.open,l=e.effects.some(c=>c.is(setActiveEffect));u&&e.docChanged&&(u=u.map(e.changes)),e.selection||o.some(c=>c.hasResult()&&e.changes.touchesRange(c.from,c.to))||!sameResults(o,this.active)||l?u=CompletionDialog.build(o,r,this.id,u,s,l):u&&u.disabled&&!o.some(c=>c.isPending)&&(u=null),!u&&o.every(c=>!c.isPending)&&o.some(c=>c.hasResult())&&(o=o.map(c=>c.hasResult()?new ActiveSource(c.source,0):c));for(let c of e.effects)c.is(setSelectedEffect)&&(u=u&&u.setSelected(c.value,this.id));return o==this.active&&u==this.open?this:new CompletionState(o,this.id,u)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(n,e){if(n==e)return!0;for(let r=0,s=0;;){for(;r<n.length&&!n[r].hasResult();)r++;for(;s<e.length&&!e[s].hasResult();)s++;let a=r==n.length,o=s==e.length;if(a||o)return a==o;if(n[r++].result!=e[s++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(n,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(r["aria-activedescendant"]=n+"-"+e),r}const none=[];function getUpdateType(n,e){if(n.isUserEvent("input.complete")){let s=n.annotation(pickedCompletion);if(s&&e.activateOnCompletion(s))return 12}let r=n.isUserEvent("input.type");return r&&e.activateOnTyping?5:r?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class ActiveSource{constructor(e,r,s=!1){this.source=e,this.state=r,this.explicit=s}hasResult(){return!1}get isPending(){return this.state==1}update(e,r){let s=getUpdateType(e,r),a=this;(s&8||s&16&&this.touches(e))&&(a=new ActiveSource(a.source,0)),s&4&&a.state==0&&(a=new ActiveSource(this.source,1)),a=a.updateFor(e,s);for(let o of e.effects)if(o.is(startCompletionEffect))a=new ActiveSource(a.source,1,o.value);else if(o.is(closeCompletionEffect))a=new ActiveSource(a.source,0);else if(o.is(setActiveEffect))for(let u of o.value)u.source==a.source&&(a=u);return a}updateFor(e,r){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(cur(e.state))}}class ActiveResult extends ActiveSource{constructor(e,r,s,a,o,u){super(e,3,r),this.limit=s,this.result=a,this.from=o,this.to=u}hasResult(){return!0}updateFor(e,r){var s;if(!(r&3))return this.map(e.changes);let a=this.result;a.map&&!e.changes.empty&&(a=a.map(a,e.changes));let o=e.changes.mapPos(this.from),u=e.changes.mapPos(this.to,1),l=cur(e.state);if(l>u||!a||r&2&&(cur(e.startState)==this.from||l<this.limit))return new ActiveSource(this.source,r&4?1:0);let c=e.changes.mapPos(this.limit);return checkValid(a.validFor,e.state,o,u)?new ActiveResult(this.source,this.explicit,c,a,o,u):a.update&&(a=a.update(a,o,u,new CompletionContext(e.state,l,!1)))?new ActiveResult(this.source,this.explicit,c,a,a.from,(s=a.to)!==null&&s!==void 0?s:cur(e.state)):new ActiveSource(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ActiveResult(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function checkValid(n,e,r,s){if(!n)return!1;let a=e.sliceDoc(r,s);return typeof n=="function"?n(a,r,s,e):ensureAnchor(n,!0).test(a)}const setActiveEffect=StateEffect.define({map(n,e){return n.map(r=>r.map(e))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(n,e){return n.update(e)},provide:n=>[showTooltip.from(n,e=>e.tooltip),EditorView.contentAttributes.from(n,e=>e.attrs)]});function applyCompletion(n,e){const r=e.completion.apply||e.completion.label;let s=n.state.field(completionState).active.find(a=>a.source==e.source);return s instanceof ActiveResult?(typeof r=="string"?n.dispatch(Object.assign(Object.assign({},insertCompletionText(n.state,r,s.from,s.to)),{annotations:pickedCompletion.of(e.completion)})):r(n,e.completion,s.from,s.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(n,e="option"){return r=>{let s=r.state.field(completionState,!1);if(!s||!s.open||s.open.disabled||Date.now()-s.open.timestamp<r.state.facet(completionConfig).interactionDelay)return!1;let a=1,o;e=="page"&&(o=getTooltip(r,s.open.tooltip))&&(a=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:u}=s.open.options,l=s.open.selected>-1?s.open.selected+a*(n?1:-1):n?0:u-1;return l<0?l=e=="page"?0:u-1:l>=u&&(l=e=="page"?u-1:0),r.dispatch({effects:setSelectedEffect.of(l)}),!0}}const acceptCompletion=n=>{let e=n.state.field(completionState,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(completionConfig).interactionDelay?!1:applyCompletion(n,e.open.options[e.open.selected])},startCompletion=n=>n.state.field(completionState,!1)?(n.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=n=>{let e=n.state.field(completionState,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(n.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(completionState).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(completionState),r=n.state.facet(completionConfig);if(!n.selectionSet&&!n.docChanged&&n.startState.field(completionState)==e)return;let s=n.transactions.some(o=>{let u=getUpdateType(o,r);return u&8||(o.selection||o.docChanged)&&!(u&3)});for(let o=0;o<this.running.length;o++){let u=this.running[o];if(s||u.context.abortOnDocChange&&n.docChanged||u.updates.length+n.transactions.length>MaxUpdateCount&&Date.now()-u.time>MinAbortTime){for(let l of u.context.abortListeners)try{l()}catch(c){logException(this.view.state,c)}u.context.abortListeners=null,this.running.splice(o--,1)}else u.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(o=>o.effects.some(u=>u.is(startCompletionEffect)))&&(this.pendingStart=!0);let a=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(u=>u.active.source==o.source))?setTimeout(()=>this.startUpdate(),a):-1,this.composing!=0)for(let o of n.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(completionState);for(let r of e.active)r.isPending&&!this.running.some(s=>s.active.source==r.source)&&this.startQuery(r);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(n){let{state:e}=this.view,r=cur(e),s=new CompletionContext(e,r,n.explicit,this.view),a=new RunningQuery(n,s);this.running.push(a),Promise.resolve(n.source(s)).then(o=>{a.context.aborted||(a.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(completionConfig),s=this.view.state.field(completionState);for(let a=0;a<this.running.length;a++){let o=this.running[a];if(o.done===void 0)continue;if(this.running.splice(a--,1),o.done){let l=cur(o.updates.length?o.updates[0].startState:this.view.state),c=Math.min(l,o.done.from+(o.active.explicit?0:1)),h=new ActiveResult(o.active.source,o.active.explicit,c,o.done,o.done.from,(n=o.done.to)!==null&&n!==void 0?n:l);for(let f of o.updates)h=h.update(f,r);if(h.hasResult()){e.push(h);continue}}let u=s.active.find(l=>l.source==o.active.source);if(u&&u.isPending)if(o.done==null){let l=new ActiveSource(o.active.source,0);for(let c of o.updates)l=l.update(c,r);l.isPending||e.push(l)}else this.startQuery(u)}(e.length||s.open&&s.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(completionState,!1);if(e&&e.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let r=e.open&&getTooltip(this.view,e.open.tooltip);(!r||!r.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(n,e){let r=e.state.field(completionState,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||n.key.length>1||n.ctrlKey&&!(windows&&n.altKey)||n.metaKey)return!1;let s=r.open.options[r.open.selected],a=r.active.find(u=>u.source==s.source),o=s.completion.commitCharacters||a.result.commitCharacters;return o&&o.indexOf(n.key)>-1&&applyCompletion(e,s),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"Â·Â·Â·"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'Æ’'"}},".cm-completionIcon-class":{"&:after":{content:"'â—‹'"}},".cm-completionIcon-interface":{"&:after":{content:"'â—Œ'"}},".cm-completionIcon-variable":{"&:after":{content:"'ð‘¥'"}},".cm-completionIcon-constant":{"&:after":{content:"'ð¶'"}},".cm-completionIcon-type":{"&:after":{content:"'ð‘¡'"}},".cm-completionIcon-enum":{"&:after":{content:"'âˆª'"}},".cm-completionIcon-property":{"&:after":{content:"'â–¡'"}},".cm-completionIcon-keyword":{"&:after":{content:"'ðŸ”‘ï¸Ž'"}},".cm-completionIcon-namespace":{"&:after":{content:"'â–¢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(e,r,s,a){this.field=e,this.line=r,this.from=s,this.to=a}}class FieldRange{constructor(e,r,s){this.field=e,this.from=r,this.to=s}map(e){let r=e.mapPos(this.from,-1,MapMode.TrackDel),s=e.mapPos(this.to,1,MapMode.TrackDel);return r==null||s==null?null:new FieldRange(this.field,r,s)}}class Snippet{constructor(e,r){this.lines=e,this.fieldPositions=r}instantiate(e,r){let s=[],a=[r],o=e.doc.lineAt(r),u=/^\s*/.exec(o.text)[0];for(let c of this.lines){if(s.length){let h=u,f=/^\t*/.exec(c)[0].length;for(let d=0;d<f;d++)h+=e.facet(indentUnit);a.push(r+h.length-f),c=h+c.slice(f)}s.push(c),r+=c.length+1}let l=this.fieldPositions.map(c=>new FieldRange(c.field,a[c.line]+c.from,a[c.line]+c.to));return{text:s,ranges:l}}static parse(e){let r=[],s=[],a=[],o;for(let u of e.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(u);){let l=o[1]?+o[1]:null,c=o[2]||o[3]||"",h=-1,f=c.replace(/\\[{}]/g,d=>d[1]);for(let d=0;d<r.length;d++)(l!=null?r[d].seq==l:f&&r[d].name==f)&&(h=d);if(h<0){let d=0;for(;d<r.length&&(l==null||r[d].seq!=null&&r[d].seq<l);)d++;r.splice(d,0,{seq:l,name:f}),h=d;for(let m of a)m.field>=h&&m.field++}a.push(new FieldPos(h,s.length,o.index,o.index+f.length)),u=u.slice(0,o.index)+c+u.slice(o.index+o[0].length)}u=u.replace(/\\([{}])/g,(l,c,h)=>{for(let f of a)f.line==s.length&&f.from>h&&(f.from--,f.to--);return c}),s.push(u)}return new Snippet(s,a)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(e,r){this.ranges=e,this.active=r,this.deco=Decoration.set(e.map(s=>(s.from==s.to?fieldMarker:fieldRange).range(s.from,s.to)))}map(e){let r=[];for(let s of this.ranges){let a=s.map(e);if(!a)return null;r.push(a)}return new ActiveSnippet(r,this.active)}selectionInsideField(e){return e.ranges.every(r=>this.ranges.some(s=>s.field==this.active&&s.from<=r.from&&s.to>=r.to))}}const setActive=StateEffect.define({map(n,e){return n&&n.map(e)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(n,e){for(let r of e.effects){if(r.is(setActive))return r.value;if(r.is(moveToField)&&n)return new ActiveSnippet(n.ranges,r.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>EditorView.decorations.from(n,e=>e?e.deco:Decoration.none)});function fieldSelection(n,e){return EditorSelection.create(n.filter(r=>r.field==e).map(r=>EditorSelection.range(r.from,r.to)))}function snippet(n){let e=Snippet.parse(n);return(r,s,a,o)=>{let{text:u,ranges:l}=e.instantiate(r.state,a),{main:c}=r.state.selection,h={changes:{from:a,to:o==c.from?c.to:o,insert:Text.of(u)},scrollIntoView:!0,annotations:s?[pickedCompletion.of(s),Transaction.userEvent.of("input.complete")]:void 0};if(l.length&&(h.selection=fieldSelection(l,0)),l.some(f=>f.field>0)){let f=new ActiveSnippet(l,0),d=h.effects=[setActive.of(f)];r.state.field(snippetState,!1)===void 0&&d.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}r.dispatch(r.state.update(h))}}function moveField(n){return({state:e,dispatch:r})=>{let s=e.field(snippetState,!1);if(!s||n<0&&s.active==0)return!1;let a=s.active+n,o=n>0&&!s.ranges.some(u=>u.field==a+n);return r(e.update({selection:fieldSelection(s.ranges,a),effects:setActive.of(o?null:new ActiveSnippet(s.ranges,a)),scrollIntoView:!0})),!0}}const clearSnippet=({state:n,dispatch:e})=>n.field(snippetState,!1)?(e(n.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(n){return n.length?n[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],n=>n.facet(snippetKeymap)));function snippetCompletion(n,e){return Object.assign(Object.assign({},e),{apply:snippet(n)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(n,e){let r=e.state.field(snippetState,!1),s;if(!r||(s=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let a=r.ranges.find(o=>o.from<=s&&o.to>=s);return!a||a.field==r.active?!1:(e.dispatch({selection:fieldSelection(r.ranges,a.field),effects:setActive.of(r.ranges.some(o=>o.field>a.field)?new ActiveSnippet(r.ranges,a.field):null),scrollIntoView:!0}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(n,e){let r=e.mapPos(n,-1,MapMode.TrackAfter);return r??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(n,e){if(n=n.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:s=>s>=r.from&&s<=r.to})}for(let r of e.effects)r.is(closeBracketEffect)&&(n=n.update({add:[closedBracket.range(r.value,r.value+1)]}));return n}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>Â«Â»Â»Â«ï¼»ï¼½ï½›ï½";function closing(n){for(let e=0;e<definedClosing.length;e+=2)if(definedClosing.charCodeAt(e)==n)return definedClosing.charAt(e+1);return fromCodePoint$1(n<128?n:n+1)}function config(n,e){return n.languageDataAt("closeBrackets",e)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((n,e,r,s)=>{if((android$1?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let a=n.state.selection.main;if(s.length>2||s.length==2&&codePointSize(codePointAt(s,0))==1||e!=a.from||r!=a.to)return!1;let o=insertBracket(n.state,s);return o?(n.dispatch(o),!0):!1}),deleteBracketPair=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let s=config(n,n.selection.main.head).brackets||defaults.brackets,a=null,o=n.changeByRange(u=>{if(u.empty){let l=prevChar(n.doc,u.head);for(let c of s)if(c==l&&nextChar(n.doc,u.head)==closing(codePointAt(c,0)))return{changes:{from:u.head-c.length,to:u.head+c.length},range:EditorSelection.cursor(u.head-c.length)}}return{range:a=u}});return a||e(n.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!a},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(n,e){let r=config(n,n.selection.main.head),s=r.brackets||defaults.brackets;for(let a of s){let o=closing(codePointAt(a,0));if(e==a)return o==a?handleSame(n,a,s.indexOf(a+a+a)>-1,r):handleOpen(n,a,o,r.before||defaults.before);if(e==o&&closedBracketAt(n,n.selection.main.from))return handleClose(n,a,o)}return null}function closedBracketAt(n,e){let r=!1;return n.field(bracketState).between(0,n.doc.length,s=>{s==e&&(r=!0)}),r}function nextChar(n,e){let r=n.sliceString(e,e+2);return r.slice(0,codePointSize(codePointAt(r,0)))}function prevChar(n,e){let r=n.sliceString(e-2,e);return codePointSize(codePointAt(r,0))==r.length?r:r.slice(1)}function handleOpen(n,e,r,s){let a=null,o=n.changeByRange(u=>{if(!u.empty)return{changes:[{insert:e,from:u.from},{insert:r,from:u.to}],effects:closeBracketEffect.of(u.to+e.length),range:EditorSelection.range(u.anchor+e.length,u.head+e.length)};let l=nextChar(n.doc,u.head);return!l||/\s/.test(l)||s.indexOf(l)>-1?{changes:{insert:e+r,from:u.head},effects:closeBracketEffect.of(u.head+e.length),range:EditorSelection.cursor(u.head+e.length)}:{range:a=u}});return a?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(n,e,r){let s=null,a=n.changeByRange(o=>o.empty&&nextChar(n.doc,o.head)==r?{changes:{from:o.head,to:o.head+r.length,insert:r},range:EditorSelection.cursor(o.head+r.length)}:s={range:o});return s?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(n,e,r,s){let a=s.stringPrefixes||defaults.stringPrefixes,o=null,u=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:closeBracketEffect.of(l.to+e.length),range:EditorSelection.range(l.anchor+e.length,l.head+e.length)};let c=l.head,h=nextChar(n.doc,c),f;if(h==e){if(nodeStart(n,c))return{changes:{insert:e+e,from:c},effects:closeBracketEffect.of(c+e.length),range:EditorSelection.cursor(c+e.length)};if(closedBracketAt(n,c)){let m=r&&n.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+m.length,insert:m},range:EditorSelection.cursor(c+m.length)}}}else{if(r&&n.sliceDoc(c-2*e.length,c)==e+e&&(f=canStartStringAt(n,c-2*e.length,a))>-1&&nodeStart(n,f))return{changes:{insert:e+e+e+e,from:c},effects:closeBracketEffect.of(c+e.length),range:EditorSelection.cursor(c+e.length)};if(n.charCategorizer(c)(h)!=CharCategory.Word&&canStartStringAt(n,c,a)>-1&&!probablyInString(n,c,e,a))return{changes:{insert:e+e,from:c},effects:closeBracketEffect.of(c+e.length),range:EditorSelection.cursor(c+e.length)}}return{range:o=l}});return o?null:n.update(u,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(n,e){let r=syntaxTree(n).resolveInner(e+1);return r.parent&&r.from==e}function probablyInString(n,e,r,s){let a=syntaxTree(n).resolveInner(e,-1),o=s.reduce((u,l)=>Math.max(u,l.length),0);for(let u=0;u<5;u++){let l=n.sliceDoc(a.from,Math.min(a.to,a.from+r.length+o)),c=l.indexOf(r);if(!c||c>-1&&s.indexOf(l.slice(0,c))>-1){let f=a.firstChild;for(;f&&f.from==a.from&&f.to-f.from>r.length+c;){if(n.sliceDoc(f.to-r.length,f.to)==r)return!1;f=f.firstChild}return!0}let h=a.to==e&&a.parent;if(!h)break;a=h}return!1}function canStartStringAt(n,e,r){let s=n.charCategorizer(e);if(s(n.sliceDoc(e-1,e))!=CharCategory.Word)return e;for(let a of r){let o=e-a.length;if(n.sliceDoc(o,e)==a&&s(n.sliceDoc(o-1,o))!=CharCategory.Word)return o}return-1}function autocompletion(n={}){return[commitCharacters,completionState,completionConfig.of(n),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],n=>n.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(e,r,s){this.from=e,this.to=r,this.diagnostic=s}}class LintState{constructor(e,r,s){this.diagnostics=e,this.panel=r,this.selected=s}static init(e,r,s){let a=s.facet(lintConfig).markerFilter;a&&(e=a(e,s));let o=e.slice().sort((f,d)=>f.from-d.from||f.to-d.to),u=new RangeSetBuilder,l=[],c=0;for(let f=0;;){let d=f==o.length?null:o[f];if(!d&&!l.length)break;let m,g;for(l.length?(m=c,g=l.reduce((E,D)=>Math.min(E,D.to),d&&d.from>m?d.from:1e8)):(m=d.from,g=d.to,l.push(d),f++);f<o.length;){let E=o[f];if(E.from==m&&(E.to>E.from||E.to==m))l.push(E),f++,g=Math.min(E.to,g);else{g=Math.min(E.from,g);break}}let O=maxSeverity(l);if(l.some(E=>E.from==E.to||E.from==E.to-1&&s.doc.lineAt(E.from).to==E.from))u.add(m,m,Decoration.widget({widget:new DiagnosticWidget(O),diagnostics:l.slice()}));else{let E=l.reduce((D,A)=>A.markClass?D+" "+A.markClass:D,"");u.add(m,g,Decoration.mark({class:"cm-lintRange cm-lintRange-"+O+E,diagnostics:l.slice(),inclusiveEnd:l.some(D=>D.to>g)}))}c=g;for(let E=0;E<l.length;E++)l[E].to<=c&&l.splice(E--,1)}let h=u.finish();return new LintState(h,r,findDiagnostic(h))}}function findDiagnostic(n,e=null,r=0){let s=null;return n.between(r,1e9,(a,o,{spec:u})=>{if(!(e&&u.diagnostics.indexOf(e)<0))if(!s)s=new SelectedDiagnostic(a,o,e||u.diagnostics[0]);else{if(u.diagnostics.indexOf(s.diagnostic)<0)return!1;s=new SelectedDiagnostic(s.from,o,s.diagnostic)}}),s}function hideTooltip(n,e){let r=e.pos,s=e.end||r,a=n.state.facet(lintConfig).hideOn(n,r,s);if(a!=null)return a;let o=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(u=>u.is(setDiagnosticsEffect))||n.changes.touchesRange(o.from,Math.max(o.to,s)))}function maybeEnableLint(n,e){return n.field(lintState,!1)?e:e.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let r=n.diagnostics.map(e.changes),s=null,a=n.panel;if(n.selected){let o=e.changes.mapPos(n.selected.from,1);s=findDiagnostic(r,n.selected.diagnostic,o)||findDiagnostic(r,null,o)}!r.size&&a&&e.state.facet(lintConfig).autoPanel&&(a=null),n=new LintState(r,a,s)}for(let r of e.effects)if(r.is(setDiagnosticsEffect)){let s=e.state.facet(lintConfig).autoPanel?r.value.length?LintPanel.open:null:n.panel;n=LintState.init(r.value,s,e.state)}else r.is(togglePanel)?n=new LintState(n.diagnostics,r.value?LintPanel.open:null,n.selected):r.is(movePanelSelection)&&(n=new LintState(n.diagnostics,n.panel,r.value));return n},provide:n=>[showPanel.from(n,e=>e.panel),EditorView.decorations.from(n,e=>e.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(n,e,r){let{diagnostics:s}=n.state.field(lintState),a,o=-1,u=-1;s.between(e-(r<0?1:0),e+(r>0?1:0),(c,h,{spec:f})=>{if(e>=c&&e<=h&&(c==h||(e>c||r>0)&&(e<h||r<0)))return a=f.diagnostics,o=c,u=h,!1});let l=n.state.facet(lintConfig).tooltipFilter;return a&&l&&(a=l(a,n.state)),a?{pos:o,end:u,above:n.state.doc.lineAt(o).to<u,create(){return{dom:diagnosticsTooltip(n,a)}}}:null}function diagnosticsTooltip(n,e){return crelt("ul",{class:"cm-tooltip-lint"},e.map(r=>renderDiagnostic(n,r,!1)))}const openLintPanel=n=>{let e=n.state.field(lintState,!1);(!e||!e.panel)&&n.dispatch({effects:maybeEnableLint(n.state,[togglePanel.of(!0)])});let r=getPanel(n,LintPanel.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=n=>{let e=n.state.field(lintState,!1);return!e||!e.panel?!1:(n.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=n=>{let e=n.state.field(lintState,!1);if(!e)return!1;let r=n.state.selection.main,s=e.diagnostics.iter(r.to+1);return!s.value&&(s=e.diagnostics.iter(0),!s.value||s.from==r.from&&s.to==r.to)?!1:(n.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},combineConfig(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,r)=>e?r?s=>e(s)||r(s):e:r}))}});function assignKeys(n){let e=[];if(n)e:for(let{name:r}of n){for(let s=0;s<r.length;s++){let a=r[s];if(/[a-zA-Z]/.test(a)&&!e.some(o=>o.toLowerCase()==a.toLowerCase())){e.push(a);continue e}}e.push("")}return e}function renderDiagnostic(n,e,r){var s;let a=r?assignKeys(e.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},crelt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(s=e.actions)===null||s===void 0?void 0:s.map((o,u)=>{let l=!1,c=m=>{if(m.preventDefault(),l)return;l=!0;let g=findDiagnostic(n.state.field(lintState).diagnostics,e);g&&o.apply(n,g.from,g.to)},{name:h}=o,f=a[u]?h.indexOf(a[u]):-1,d=f<0?h:[h.slice(0,f),crelt("u",h.slice(f,f+1)),h.slice(f+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:c,onmousedown:c,"aria-label":` Action: ${h}${f<0?"":` (access key "${a[u]})"`}.`},d)}),e.source&&crelt("div",{class:"cm-diagnosticSource"},e.source))}class DiagnosticWidget extends WidgetType{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(e){this.view=e,this.items=[];let r=a=>{if(a.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(a.keyCode==38||a.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(a.keyCode==40||a.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(a.keyCode==36)this.moveSelection(0);else if(a.keyCode==35)this.moveSelection(this.items.length-1);else if(a.keyCode==13)this.view.focus();else if(a.keyCode>=65&&a.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],u=assignKeys(o.actions);for(let l=0;l<u.length;l++)if(u[l].toUpperCase().charCodeAt(0)==a.keyCode){let c=findDiagnostic(this.view.state.field(lintState).diagnostics,o);c&&o.actions[l].apply(e,c.from,c.to)}}else return;a.preventDefault()},s=a=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(a.target)&&this.moveSelection(o)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:s}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"Ã—")),this.update()}get selectedIndex(){let e=this.view.state.field(lintState).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(lintState),s=0,a=!1,o=null,u=new Set;for(e.between(0,this.view.state.doc.length,(l,c,{spec:h})=>{for(let f of h.diagnostics){if(u.has(f))continue;u.add(f);let d=-1,m;for(let g=s;g<this.items.length;g++)if(this.items[g].diagnostic==f){d=g;break}d<0?(m=new PanelItem(this.view,f),this.items.splice(s,0,m),a=!0):(m=this.items[d],d>s&&(this.items.splice(s,d-s),a=!0)),r&&m.diagnostic==r.diagnostic?m.dom.hasAttribute("aria-selected")||(m.dom.setAttribute("aria-selected","true"),o=m):m.dom.hasAttribute("aria-selected")&&m.dom.removeAttribute("aria-selected"),s++}});s<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:c})=>{let h=c.height/this.list.offsetHeight;l.top<c.top?this.list.scrollTop-=(c.top-l.top)/h:l.bottom>c.bottom&&(this.list.scrollTop+=(l.bottom-c.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}sync(){let e=this.list.firstChild;function r(){let s=e;e=s.nextSibling,s.remove()}for(let s of this.items)if(s.dom.parentNode==this.list){for(;e!=s.dom;)r();e=s.dom.nextSibling}else this.list.insertBefore(s.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(lintState),s=findDiagnostic(r.diagnostics,this.items[e].diagnostic);s&&this.view.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:movePanelSelection.of(s)})}static open(e){return new LintPanel(e)}}function svg(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function underline(n){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function maxSeverity(n){let e="hint",r=1;for(let s of n){let a=severityWeight(s.severity);a>r&&(r=a,e=s.severity)}return e}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],n=>{let{selected:e,panel:r}=n.field(lintState);return!e||!r||e.from==e.to?Decoration.none:Decoration.set([activeMark.range(e.from,e.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme],basicSetup=[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])];var define_process_env_default={};class Stack{constructor(e,r,s,a,o,u,l,c,h,f=0,d){this.p=e,this.stack=r,this.state=s,this.reducePos=a,this.pos=o,this.score=u,this.buffer=l,this.bufferBase=c,this.curContext=h,this.lookAhead=f,this.parent=d}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,s=0){let a=e.parser.context;return new Stack(e,[],r,s,s,0,[],0,a?new StackContext(a,a.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let s=e>>19,a=e&65535,{parser:o}=this.p,u=this.reducePos<this.pos-25;u&&this.setLookAhead(this.pos);let l=o.dynamicPrecedence(a);if(l&&(this.score+=l),s==0){this.pushState(o.getGoto(this.state,a,!0),this.reducePos),a<o.minRepeatTerm&&this.storeNode(a,this.reducePos,this.reducePos,u?8:4,!0),this.reduceContext(a,this.reducePos);return}let c=this.stack.length-(s-1)*3-(e&262144?6:0),h=c?this.stack[c-2]:this.p.ranges[0].from,f=this.reducePos-h;f>=2e3&&!(!((r=this.p.parser.nodeSet.types[a])===null||r===void 0)&&r.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=f):this.p.lastBigReductionSize<f&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=f));let d=c?this.stack[c-1]:0,m=this.bufferBase+this.buffer.length-d;if(a<o.minRepeatTerm||e&131072){let g=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(a,h,g,m+4,!0)}if(e&262144)this.state=this.stack[c];else{let g=this.stack[c-3];this.state=o.getGoto(g,a,!0)}for(;this.stack.length>c;)this.stack.pop();this.reduceContext(a,h)}storeNode(e,r,s,a=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let u=this,l=this.buffer.length;if(l==0&&u.parent&&(l=u.bufferBase-u.parent.bufferBase,u=u.parent),l>0&&u.buffer[l-4]==0&&u.buffer[l-1]>-1){if(r==s)return;if(u.buffer[l-2]>=r){u.buffer[l-2]=s;return}}}if(!o||this.pos==s)this.buffer.push(e,r,s,a);else{let u=this.buffer.length;if(u>0&&this.buffer[u-4]!=0){let l=!1;for(let c=u;c>0&&this.buffer[c-2]>s;c-=4)if(this.buffer[c-1]>=0){l=!0;break}if(l)for(;u>0&&this.buffer[u-2]>s;)this.buffer[u]=this.buffer[u-4],this.buffer[u+1]=this.buffer[u-3],this.buffer[u+2]=this.buffer[u-2],this.buffer[u+3]=this.buffer[u-1],u-=4,a>4&&(a-=4)}this.buffer[u]=e,this.buffer[u+1]=r,this.buffer[u+2]=s,this.buffer[u+3]=a}}shift(e,r,s,a){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=a,this.shiftContext(r,s),r<=this.p.parser.maxNode&&this.buffer.push(r,s,a,4);else{let o=e,{parser:u}=this.p;(a>this.pos||r<=u.maxNode)&&(this.pos=a,u.stateFlag(o,1)||(this.reducePos=a)),this.pushState(o,s),this.shiftContext(r,s),r<=u.maxNode&&this.buffer.push(r,s,a,4)}}apply(e,r,s,a){e&65536?this.reduce(e):this.shift(e,r,s,a)}useNode(e,r){let s=this.p.reused.length-1;(s<0||this.p.reused[s]!=e)&&(this.p.reused.push(e),s++);let a=this.pos;this.reducePos=this.pos=a+e.length,this.pushState(r,a),this.buffer.push(s,a,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let s=e.buffer.slice(r),a=e.bufferBase+r;for(;e&&a==e.bufferBase;)e=e.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,s,a,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let s=e<=this.p.parser.maxNode;s&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,s?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new SimulatedStack(this);;){let s=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(s==0)return!1;if(!(s&65536))return!0;r.reduce(s)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let a=[];for(let o=0,u;o<r.length;o+=2)(u=r[o+1])!=this.state&&this.p.parser.hasAction(u,e)&&a.push(r[o],u);if(this.stack.length<120)for(let o=0;a.length<8&&o<r.length;o+=2){let u=r[o+1];a.some((l,c)=>c&1&&l==u)||a.push(r[o],u)}r=a}let s=[];for(let a=0;a<r.length&&s.length<4;a+=2){let o=r[a+1];if(o==this.state)continue;let u=this.split();u.pushState(o,this.pos),u.storeNode(0,u.pos,u.pos,4,!0),u.shiftContext(r[a],this.pos),u.reducePos=this.pos,u.score-=200,s.push(u)}return s}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if(!(r&65536))return!1;if(!e.validAction(this.state,r)){let s=r>>19,a=r&65535,o=this.stack.length-s*3;if(o<0||e.getGoto(this.stack[o],a,!1)<0){let u=this.findForcedReduction();if(u==null)return!1;r=u}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],s=(a,o)=>{if(!r.includes(a))return r.push(a),e.allActions(a,u=>{if(!(u&393216))if(u&65536){let l=(u>>19)-o;if(l>1){let c=u&65535,h=this.stack.length-l*3;if(h>=0&&e.getGoto(this.stack[h],c,!1)>=0)return l<<19|65536|c}}else{let l=s(u,o+1);if(l!=null)return l}})};return s(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new StackContext(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}class SimulatedStack{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,s=e>>19;s==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(s-1)*3;let a=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=a}}class StackBufferCursor{constructor(e,r,s){this.stack=e,this.pos=r,this.index=s,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new StackBufferCursor(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(n,e=Uint16Array){if(typeof n!="string")return n;let r=null;for(let s=0,a=0;s<n.length;){let o=0;for(;;){let u=n.charCodeAt(s++),l=!1;if(u==126){o=65535;break}u>=92&&u--,u>=34&&u--;let c=u-32;if(c>=46&&(c-=46,l=!0),o+=c,l)break;o*=46}r?r[a++]=o:r=new e(o)}return r}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let s=this.range,a=this.rangeIndex,o=this.pos+e;for(;o<s.from;){if(!a)return null;let u=this.ranges[--a];o-=s.from-u.to,s=u}for(;r<0?o>s.to:o>=s.to;){if(a==this.ranges.length-1)return null;let u=this.ranges[++a];o+=u.from-s.to,s=u}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,s,a;if(r>=0&&r<this.chunk.length)s=this.pos+e,a=this.chunk.charCodeAt(r);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(s=o,s>=this.chunk2Pos&&s<this.chunk2Pos+this.chunk2.length)a=this.chunk2.charCodeAt(s-this.chunk2Pos);else{let u=this.rangeIndex,l=this.range;for(;l.to<=s;)l=this.ranges[++u];this.chunk2=this.input.chunk(this.chunk2Pos=s),s+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-s)),a=this.chunk2.charCodeAt(0)}}return s>=this.token.lookAhead&&(this.token.lookAhead=s+1),a}acceptToken(e,r=0){let s=r?this.resolveOffset(r,-1):this.pos;if(s==null||s<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=s}acceptTokenTo(e,r){this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=nullToken,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let s="";for(let a of this.ranges){if(a.from>=r)break;a.to>e&&(s+=this.input.read(Math.max(a.from,e),Math.min(a.to,r)))}return s}}class TokenGroup{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:s}=r.p;readToken(this.data,e,r,this.id,s.data,s.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(e,r,s){this.precTable=r,this.elseToken=s,this.data=typeof e=="string"?decodeArray(e):e}token(e,r){let s=e.pos,a=0;for(;;){let o=e.next<0,u=e.resolveOffset(1,1);if(readToken(this.data,e,r,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(o||a++,u==null)break;e.reset(u,e.token)}a&&(e.reset(s,e.token),e.acceptToken(this.elseToken,a))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function readToken(n,e,r,s,a,o){let u=0,l=1<<s,{dialect:c}=r.p.parser;e:for(;l&n[u];){let h=n[u+1];for(let g=u+3;g<h;g+=2)if((n[g+1]&l)>0){let O=n[g];if(c.allows(O)&&(e.token.value==-1||e.token.value==O||overrides(O,e.token.value,a,o))){e.acceptToken(O);break}}let f=e.next,d=0,m=n[u+2];if(e.next<0&&m>d&&n[h+m*3-3]==65535){u=n[h+m*3-1];continue e}for(;d<m;){let g=d+m>>1,O=h+g+(g<<1),E=n[O],D=n[O+1]||65536;if(f<E)m=g;else if(f>=D)d=g+1;else{u=n[O+2],e.advance();continue e}}break}}function findOffset(n,e,r){for(let s=e,a;(a=n[s])!=65535;s++)if(a==r)return s-e;return-1}function overrides(n,e,r,s){let a=findOffset(r,s,e);return a<0||findOffset(r,s,n)<a}const verbose=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(n,e,r){let s=n.cursor(IterMode.IncludeAnonymous);for(s.moveTo(e);;)if(!(r<0?s.childBefore(e):s.childAfter(e)))for(;;){if((r<0?s.to<e:s.from>e)&&!s.type.isError)return r<0?Math.max(0,Math.min(s.to-1,e-25)):Math.min(n.length,Math.max(s.from+1,e+25));if(r<0?s.prevSibling():s.nextSibling())break;if(!s.parent())return r<0?0:n.length}}class FragmentCursor{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?cutAt(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?cutAt(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let s=this.trees[r],a=this.index[r];if(a==s.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=s.children[a],u=this.start[r]+s.positions[a];if(u>e)return this.nextStart=u,null;if(o instanceof Tree){if(u==e){if(u<this.safeFrom)return null;let l=u+o.length;if(l<=this.safeTo){let c=o.prop(NodeProp.lookAhead);if(!c||l+c<this.fragment.to)return o}}this.index[r]++,u+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(u),this.index.push(0))}else this.index[r]++,this.nextStart=u+o.length}}}class TokenCache{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(s=>new CachedToken)}getActions(e){let r=0,s=null,{parser:a}=e.p,{tokenizers:o}=a,u=a.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0,c=0;for(let h=0;h<o.length;h++){if(!(1<<h&u))continue;let f=o[h],d=this.tokens[h];if(!(s&&!f.fallback)&&((f.contextual||d.start!=e.pos||d.mask!=u||d.context!=l)&&(this.updateCachedToken(d,f,e),d.mask=u,d.context=l),d.lookAhead>d.end+25&&(c=Math.max(d.lookAhead,c)),d.value!=0)){let m=r;if(d.extended>-1&&(r=this.addActions(e,d.extended,d.end,r)),r=this.addActions(e,d.value,d.end,r),!f.extend&&(s=d,r>m))break}}for(;this.actions.length>r;)this.actions.pop();return c&&e.setLookAhead(c),!s&&e.pos==this.stream.end&&(s=new CachedToken,s.value=e.p.parser.eofTerm,s.start=s.end=e.pos,r=this.addActions(e,s.value,s.end,r)),this.mainToken=s,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new CachedToken,{pos:s,p:a}=e;return r.start=s,r.end=Math.min(s+1,a.stream.end),r.value=s==a.stream.end?a.parser.eofTerm:0,r}updateCachedToken(e,r,s){let a=this.stream.clipPos(s.pos);if(r.token(this.stream.reset(a,e),s),e.value>-1){let{parser:o}=s.p;for(let u=0;u<o.specialized.length;u++)if(o.specialized[u]==e.value){let l=o.specializers[u](this.stream.read(e.start,e.end),s);if(l>=0&&s.p.parser.dialect.allows(l>>1)){l&1?e.extended=l>>1:e.value=l>>1;break}}}else e.value=0,e.end=this.stream.clipPos(a+1)}putAction(e,r,s,a){for(let o=0;o<a;o+=3)if(this.actions[o]==e)return a;return this.actions[a++]=e,this.actions[a++]=r,this.actions[a++]=s,a}addActions(e,r,s,a){let{state:o}=e,{parser:u}=e.p,{data:l}=u;for(let c=0;c<2;c++)for(let h=u.stateSlot(o,c?2:1);;h+=3){if(l[h]==65535)if(l[h+1]==1)h=pair(l,h+2);else{a==0&&l[h+1]==2&&(a=this.putAction(pair(l,h+2),r,s,a));break}l[h]==r&&(a=this.putAction(pair(l,h+1),r,s,a))}return a}}class Parse{constructor(e,r,s,a){this.parser=e,this.input=r,this.ranges=a,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(r,a),this.tokens=new TokenCache(e,this.stream),this.topTerm=e.top[1];let{from:o}=a[0];this.stacks=[Stack.start(this,e.top[0],o)],this.fragments=s.length&&this.stream.end-o>e.bufferLength*4?new FragmentCursor(s,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,s=this.stacks=[],a,o;if(this.bigReductionCount>300&&e.length==1){let[u]=e;for(;u.forceReduce()&&u.stack.length&&u.stack[u.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let u=0;u<e.length;u++){let l=e[u];for(;;){if(this.tokens.mainToken=null,l.pos>r)s.push(l);else{if(this.advanceStack(l,s,e))continue;{a||(a=[],o=[]),a.push(l);let c=this.tokens.getMainToken(l);o.push(c.value,c.end)}}break}}if(!s.length){let u=a&&findFinished(a);if(u)return verbose&&console.log("Finish with "+this.stackID(u)),this.stackToTree(u);if(this.parser.strict)throw verbose&&a&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&a){let u=this.stoppedAt!=null&&a[0].pos>this.stoppedAt?a[0]:this.runRecovery(a,o,s);if(u)return verbose&&console.log("Force-finish "+this.stackID(u)),this.stackToTree(u.forceAll())}if(this.recovering){let u=this.recovering==1?1:this.recovering*3;if(s.length>u)for(s.sort((l,c)=>c.score-l.score);s.length>u;)s.pop();s.some(l=>l.reducePos>r)&&this.recovering--}else if(s.length>1){e:for(let u=0;u<s.length-1;u++){let l=s[u];for(let c=u+1;c<s.length;c++){let h=s[c];if(l.sameState(h)||l.buffer.length>500&&h.buffer.length>500)if((l.score-h.score||l.buffer.length-h.buffer.length)>0)s.splice(c--,1);else{s.splice(u--,1);continue e}}}s.length>12&&s.splice(12,s.length-12)}this.minStackPos=s[0].pos;for(let u=1;u<s.length;u++)s[u].pos<this.minStackPos&&(this.minStackPos=s[u].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,s){let a=e.pos,{parser:o}=this,u=verbose?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&a>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,f=h?e.curContext.hash:0;for(let d=this.fragments.nodeAt(a);d;){let m=this.parser.nodeSet.types[d.type.id]==d.type?o.getGoto(e.state,d.type.id):-1;if(m>-1&&d.length&&(!h||(d.prop(NodeProp.contextHash)||0)==f))return e.useNode(d,m),verbose&&console.log(u+this.stackID(e)+` (via reuse of ${o.getName(d.type.id)})`),!0;if(!(d instanceof Tree)||d.children.length==0||d.positions[0]>0)break;let g=d.children[0];if(g instanceof Tree&&d.positions[0]==0)d=g;else break}}let l=o.stateSlot(e.state,4);if(l>0)return e.reduce(l),verbose&&console.log(u+this.stackID(e)+` (via always-reduce ${o.getName(l&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let c=this.tokens.getActions(e);for(let h=0;h<c.length;){let f=c[h++],d=c[h++],m=c[h++],g=h==c.length||!s,O=g?e:e.split(),E=this.tokens.mainToken;if(O.apply(f,d,E?E.start:O.pos,m),verbose&&console.log(u+this.stackID(O)+` (via ${f&65536?`reduce of ${o.getName(f&65535)}`:"shift"} for ${o.getName(d)} @ ${a}${O==e?"":", split"})`),g)return!0;O.pos>a?r.push(O):s.push(O)}return!1}advanceFully(e,r){let s=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>s)return pushStackDedup(e,r),!0}}runRecovery(e,r,s){let a=null,o=!1;for(let u=0;u<e.length;u++){let l=e[u],c=r[u<<1],h=r[(u<<1)+1],f=verbose?this.stackID(l)+" -> ":"";if(l.deadEnd&&(o||(o=!0,l.restart(),verbose&&console.log(f+this.stackID(l)+" (restarted)"),this.advanceFully(l,s))))continue;let d=l.split(),m=f;for(let g=0;d.forceReduce()&&g<10&&(verbose&&console.log(m+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,s));g++)verbose&&(m=this.stackID(d)+" -> ");for(let g of l.recoverByInsert(c))verbose&&console.log(f+this.stackID(g)+" (via recover-insert)"),this.advanceFully(g,s);this.stream.end>l.pos?(h==l.pos&&(h++,c=0),l.recoverByDelete(c,h),verbose&&console.log(f+this.stackID(l)+` (via recover-delete ${this.parser.getName(c)})`),pushStackDedup(l,s)):(!a||a.score<l.score)&&(a=l)}return a}stackToTree(e){return e.close(),Tree.build({buffer:StackBufferCursor.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(stackIDs||(stackIDs=new WeakMap)).get(e);return r||stackIDs.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function pushStackDedup(n,e){for(let r=0;r<e.length;r++){let s=e[r];if(s.pos==n.pos&&s.sameState(n)){e[r].score<n.score&&(e[r]=n);return}}e.push(n)}class Dialect{constructor(e,r,s){this.source=e,this.flags=r,this.disabled=s}allows(e){return!this.disabled||this.disabled[e]==0}}const id=n=>n;class ContextTracker{constructor(e){this.start=e.start,this.shift=e.shift||id,this.reduce=e.reduce||id,this.reuse=e.reuse||id,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class LRParser extends Parser{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let l=0;l<e.repeatNodeCount;l++)r.push("");let s=Object.keys(e.topRules).map(l=>e.topRules[l][1]),a=[];for(let l=0;l<r.length;l++)a.push([]);function o(l,c,h){a[l].push([c,c.deserialize(String(h))])}if(e.nodeProps)for(let l of e.nodeProps){let c=l[0];typeof c=="string"&&(c=NodeProp[c]);for(let h=1;h<l.length;){let f=l[h++];if(f>=0)o(f,c,l[h++]);else{let d=l[h+-f];for(let m=-f;m>0;m--)o(l[h++],c,d);h++}}}this.nodeSet=new NodeSet(r.map((l,c)=>NodeType.define({name:c>=this.minRepeatTerm?void 0:l,id:c,props:a[c],top:s.indexOf(c)>-1,error:c==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(c)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let u=decodeArray(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(e.states,Uint32Array),this.data=decodeArray(e.stateData),this.goto=decodeArray(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(l=>typeof l=="number"?new TokenGroup(u,l):l),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,s){let a=new Parse(this,e,r,s);for(let o of this.wrappers)a=o(a,e,r,s);return a}getGoto(e,r,s=!1){let a=this.goto;if(r>=a[0])return-1;for(let o=a[r+1];;){let u=a[o++],l=u&1,c=a[o++];if(l&&s)return c;for(let h=o+(u>>1);o<h;o++)if(a[o]==e)return c;if(l)return-1}}hasAction(e,r){let s=this.data;for(let a=0;a<2;a++)for(let o=this.stateSlot(e,a?2:1),u;;o+=3){if((u=s[o])==65535)if(s[o+1]==1)u=s[o=pair(s,o+2)];else{if(s[o+1]==2)return pair(s,o+2);break}if(u==r||u==0)return pair(s,o+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,s=>s==r?!0:null)}allActions(e,r){let s=this.stateSlot(e,4),a=s?r(s):void 0;for(let o=this.stateSlot(e,1);a==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=pair(this.data,o+2);else break;a=r(pair(this.data,o+1))}return a}nextStates(e){let r=[];for(let s=this.stateSlot(e,1);;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=pair(this.data,s+2);else break;if(!(this.data[s+2]&1)){let a=this.data[s+1];r.some((o,u)=>u&1&&o==a)||r.push(this.data[s],a)}}return r}configure(e){let r=Object.assign(Object.create(LRParser.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let s=this.topRules[e.top];if(!s)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=s}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(s=>{let a=e.tokenizers.find(o=>o.from==s);return a?a.to:s})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((s,a)=>{let o=e.specializers.find(l=>l.from==s.external);if(!o)return s;let u=Object.assign(Object.assign({},s),{external:o.to});return r.specializers[a]=getSpecializer(u),u})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),s=r.map(()=>!1);if(e)for(let o of e.split(" ")){let u=r.indexOf(o);u>=0&&(s[u]=!0)}let a=null;for(let o=0;o<r.length;o++)if(!s[o])for(let u=this.dialects[r[o]],l;(l=this.data[u++])!=65535;)(a||(a=new Uint8Array(this.maxTerm+1)))[l]=1;return new Dialect(e,s,a)}static deserialize(e){return new LRParser(e)}}function pair(n,e){return n[e]|n[e+1]<<16}function findFinished(n){let e=null;for(let r of n){let s=r.p.stoppedAt;(r.pos==r.p.stream.end||s!=null&&r.pos>s)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function getSpecializer(n){if(n.external){let e=n.extend?1:0;return(r,s)=>n.external(r,s)<<1|e}return n.get}const noSemi=315,noSemiType=316,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=317,spaces=319,newline=320,LineComment=5,BlockComment=6,Dialect_jsx=0,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,bracketL=91,trackNewline=new ContextTracker({start:!1,shift(n,e){return e==LineComment||e==BlockComment||e==spaces?n:e==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((n,e)=>{let{next:r}=n;(r==braceR||r==-1||e.context)&&n.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((n,e)=>{let{next:r}=n,s;space.indexOf(r)>-1||r==slash&&((s=n.peek(1))==slash||s==star)||r!=braceR&&r!=semicolon&&r!=-1&&!e.context&&n.acceptToken(noSemi)},{contextual:!0}),noSemicolonType=new ExternalTokenizer((n,e)=>{n.next==bracketL&&!e.context&&n.acceptToken(noSemiType)},{contextual:!0}),operatorToken=new ExternalTokenizer((n,e)=>{let{next:r}=n;if(r==plus||r==minus){if(n.advance(),r==n.next){n.advance();let s=!e.context&&e.canShift(incdec);n.acceptToken(s?incdec:incdecPrefix)}}else r==question&&n.peek(1)==dot&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(questionDot))},{contextual:!0});function identifierChar(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const jsx=new ExternalTokenizer((n,e)=>{if(n.next!=lt||!e.dialectEnabled(Dialect_jsx)||(n.advance(),n.next==slash))return;let r=0;for(;space.indexOf(n.next)>-1;)n.advance(),r++;if(identifierChar(n.next,!0)){for(n.advance(),r++;identifierChar(n.next,!1);)n.advance(),r++;for(;space.indexOf(n.next)>-1;)n.advance(),r++;if(n.next==comma)return;for(let s=0;;s++){if(s==7){if(!identifierChar(n.next,!0))return;break}if(n.next!="extends".charCodeAt(s))break;n.advance(),r++}}n.acceptToken(JSXStartTag,-r)}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case":tags.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":tags.operatorKeyword,"let var const using function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),"NewExpression/VariableName":tags.className,PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,"LineComment Hashbang":tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,Escape:tags.escape,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,"@":tags.meta,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer asserts":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName,"JSXBuiltin/JSXIdentifier":tags.standard(tags.tagName)}),spec_identifier={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,for:474,of:483,while:486,with:490,do:494,if:498,else:500,switch:504,case:510,try:516,catch:520,finally:524,return:528,throw:532,break:536,continue:540,debugger:544},spec_word={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},spec_LessThan={__proto__:null,"<":193},parser$1=LRParser.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",stateData:"((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",goto:"$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:"âš  ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:379,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,236,242,244,246,248,251,257,263,265,267,269,271,273,274,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,277],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,noSemicolonType,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~",141,339),new LocalTokenGroup("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~",25,322)],topRules:{Script:[0,7],SingleExpression:[1,275],SingleClassItem:[2,276]},dialects:{jsx:0,ts:15098},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:326,get:n=>spec_identifier[n]||-1},{term:342,get:n=>spec_word[n]||-1},{term:95,get:n=>spec_LessThan[n]||-1}],tokenPrec:15124}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(n){return(e,r)=>{let s=e.node.getChild("VariableDefinition");return s&&r(s,n),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(n,e){n.matchContext(functionContext)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function getScope(n,e){let r=cache.get(e);if(r)return r;let s=[],a=!0;function o(u,l){let c=n.sliceString(u.from,u.to);s.push({label:c,type:l})}return e.cursor(IterMode.IncludeAnonymous).iterate(u=>{if(a)a=!1;else if(u.name){let l=gatherCompletions[u.name];if(l&&l(u,o)||ScopeNodes.has(u.name))return!1}else if(u.to-u.from>8192){for(let l of getScope(n,u.node))s.push(l);return!1}}),cache.set(e,s),s}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function localCompletionSource(n){let e=syntaxTree(n.state).resolveInner(n.pos,-1);if(dontComplete.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&Identifier.test(n.state.sliceDoc(e.from,e.to));if(!r&&!n.explicit)return null;let s=[];for(let a=e;a;a=a.parent)ScopeNodes.has(a.name)&&(s=s.concat(getScope(n.state.doc,a)));return{options:s,from:r?e.from:n.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser$1.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:n=>{let e=n.textAfter,r=/^\s*\}/.test(e),s=/^\s*(case|default)\b/.test(e);return n.baseIndent+(r?0:s?1:2)*n.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^\s*{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:n=>/^JSX/.test(n.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(n=>n.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(n=>n.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=n=>({label:n,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(n={}){let e=n.jsx?n.typescript?tsxLanguage:jsxLanguage:n.typescript?typescriptLanguage:javascriptLanguage,r=n.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords);return new LanguageSupport(e,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(r))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),n.jsx?autoCloseTags:[]])}function findOpenTag(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function elementName(n,e,r=n.length){for(let s=e==null?void 0:e.firstChild;s;s=s.nextSibling)if(s.name=="JSXIdentifier"||s.name=="JSXBuiltin"||s.name=="JSXNamespacedName"||s.name=="JSXMemberExpression")return n.sliceString(s.from,Math.min(s.to,r));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((n,e,r,s,a)=>{if((android?n.composing:n.compositionStarted)||n.state.readOnly||e!=r||s!=">"&&s!="/"||!javascriptLanguage.isActiveAt(n.state,e,-1))return!1;let o=a(),{state:u}=o,l=u.changeByRange(c=>{var h;let{head:f}=c,d=syntaxTree(u).resolveInner(f-1,-1),m;if(d.name=="JSXStartTag"&&(d=d.parent),!(u.doc.sliceString(f-1,f)!=s||d.name=="JSXAttributeValue"&&d.to>f)){if(s==">"&&d.name=="JSXFragmentTag")return{range:c,changes:{from:f,insert:"</>"}};if(s=="/"&&d.name=="JSXStartCloseTag"){let g=d.parent,O=g.parent;if(O&&g.from==f-2&&((m=elementName(u.doc,O.firstChild,f))||((h=O.firstChild)===null||h===void 0?void 0:h.name)=="JSXFragmentTag")){let E=`${m}>`;return{range:EditorSelection.cursor(f+E.length,-1),changes:{from:f,insert:E}}}}else if(s==">"){let g=findOpenTag(d);if(g&&g.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(u.doc.sliceString(f,f+2))&&(m=elementName(u.doc,g,f)))return{range:c,changes:{from:f,insert:`</${m}>`}}}}return{range:c}});return l.changes.empty?!1:(n.dispatch([o,u.update(l,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),customTheme=EditorView.theme({"&":{height:"200px",fontSize:"14px",backgroundColor:"#262626",border:"1px solid #1f2937"},".cm-content":{caretColor:"#fb923c",fontFamily:"monospace",padding:"10px",color:"#ffffff"},".cm-focused .cm-cursor":{borderLeftColor:"#fb923c"},".cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#fb923c33 !important"},".cm-activeLine":{backgroundColor:"#17171722"},".cm-gutters":{backgroundColor:"#171717",color:"#9ca3af",border:"none",borderRight:"1px solid #1f2937"},".cm-activeLineGutter":{backgroundColor:"#262626",color:"#fb923c"},".cm-lineNumbers":{minWidth:"3rem"},".cm-line":{padding:"0 2px 0 6px"},".cm-foldGutter":{color:"#9ca3af"},"&.cm-focused .cm-matchingBracket":{backgroundColor:"#fb923c33",outline:"1px solid #fb923c"}},{dark:!0}),highlightStyle=HighlightStyle.define([{tag:tags.keyword,color:"#fb923c",fontWeight:"bold"},{tag:tags.controlKeyword,color:"#fb923c",fontWeight:"bold"},{tag:tags.operatorKeyword,color:"#fb923c"},{tag:tags.operator,color:"#fb923c"},{tag:tags.punctuation,color:"#9ca3af"},{tag:tags.separator,color:"#9ca3af"},{tag:tags.bracket,color:"#9ca3af"},{tag:tags.variableName,color:"#ffffff"},{tag:tags.function(tags.variableName),color:"#fdba74"},{tag:tags.propertyName,color:"#60a5fa"},{tag:tags.string,color:"#86efac"},{tag:tags.number,color:"#c084fc"},{tag:tags.bool,color:"#c084fc",fontWeight:"bold"},{tag:tags.null,color:"#c084fc",fontWeight:"bold"},{tag:tags.regexp,color:"#fbbf24"},{tag:tags.comment,color:"#6b7280",fontStyle:"italic"},{tag:tags.lineComment,color:"#6b7280",fontStyle:"italic"},{tag:tags.blockComment,color:"#6b7280",fontStyle:"italic"},{tag:tags.typeName,color:"#fdba74",fontWeight:"bold"},{tag:tags.className,color:"#fdba74",fontWeight:"bold"},{tag:tags.self,color:"#fb923c",fontWeight:"bold"},{tag:tags.meta,color:"#9ca3af",fontStyle:"italic"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"}]),defaultCode="// JavaScript REPL with Audio Clock & Sequencer - Press Ctrl+Enter (Cmd+Enter on Mac) to run";function createExecuteKeymap(n){return Prec.high(keymap.of([{key:"Mod-Enter",run:e=>(n(),!0)}]))}function createEditor(n,e){const r=createExecuteKeymap(e),s=EditorState.create({doc:defaultCode,extensions:[r,basicSetup,javascript(),customTheme,syntaxHighlighting(highlightStyle),EditorView.lineWrapping]});return new EditorView({state:s,parent:n})}var errors={ErrorMessages:{UNEXPECTED_TOKEN(n){return`Unexpected token ${JSON.stringify(n)}`},UNEXPECTED_ILLEGAL_TOKEN(n){return`Unexpected ${JSON.stringify(n)}`},UNEXPECTED_ESCAPED_KEYWORD:"Unexpected escaped keyword",UNEXPECTED_NUMBER:"Unexpected number",UNEXPECTED_STRING:"Unexpected string",UNEXPECTED_IDENTIFIER:"Unexpected identifier",UNEXPECTED_RESERVED_WORD:"Unexpected reserved word",UNEXPECTED_TEMPLATE:"Unexpected template",UNEXPECTED_EOS:"Unexpected end of input",UNEXPECTED_LINE_TERMINATOR:"Unexpected line terminator",UNEXPECTED_COMMA_AFTER_REST:"Unexpected comma after rest",UNEXPECTED_REST_PARAMETERS_INITIALIZATION:"Rest parameter may not have a default initializer",NEWLINE_AFTER_THROW:"Illegal newline after throw",UNTERMINATED_REGEXP:"Invalid regular expression: missing /",INVALID_LAST_REST_PARAMETER:"Rest parameter must be last formal parameter",INVALID_REST_PARAMETERS_INITIALIZATION:"Rest parameter may not have a default initializer",INVALID_REGEXP_FLAGS:"Invalid regular expression flags",INVALID_REGEX:"Invalid regular expression",INVALID_LHS_IN_ASSIGNMENT:"Invalid left-hand side in assignment",INVALID_LHS_IN_BINDING:"Invalid left-hand side in binding",INVALID_LHS_IN_FOR_IN:"Invalid left-hand side in for-in",INVALID_LHS_IN_FOR_OF:"Invalid left-hand side in for-of",INVALID_LHS_IN_FOR_AWAIT:"Invalid left-hand side in for-await",INVALID_UPDATE_OPERAND:"Increment/decrement target must be an identifier or member expression",INVALID_EXPONENTIATION_LHS:"Unary expressions as the left operand of an exponentation expression must be disambiguated with parentheses",MULTIPLE_DEFAULTS_IN_SWITCH:"More than one default clause in switch statement",NO_CATCH_OR_FINALLY:"Missing catch or finally after try",ILLEGAL_RETURN:"Illegal return statement",ILLEGAL_ARROW_FUNCTION_PARAMS:"Illegal arrow function parameter list",INVALID_ASYNC_PARAMS:"Async function parameters must not contain await expressions",INVALID_VAR_INIT_FOR_IN:"Invalid variable declaration in for-in statement",INVALID_VAR_INIT_FOR_OF:"Invalid variable declaration in for-of statement",INVALID_VAR_INIT_FOR_AWAIT:"Invalid variable declaration in for-await statement",UNINITIALIZED_BINDINGPATTERN_IN_FOR_INIT:"Binding pattern appears without initializer in for statement init",ILLEGAL_PROPERTY:"Illegal property initializer",INVALID_ID_BINDING_STRICT_MODE(n){return`The identifier ${JSON.stringify(n)} must not be in binding position in strict mode`},INVALID_ID_IN_LABEL_STRICT_MODE(n){return`The identifier ${JSON.stringify(n)} must not be in label position in strict mode`},INVALID_ID_IN_EXPRESSION_STRICT_MODE(n){return`The identifier ${JSON.stringify(n)} must not be in expression position in strict mode`},INVALID_CALL_TO_SUPER:'Calls to super must be in the "constructor" method of a class expression or class declaration that has a superclass',INVALID_DELETE_STRICT_MODE:"Identifier expressions must not be deleted in strict mode",DUPLICATE_BINDING(n){return`Duplicate binding ${JSON.stringify(n)}`},ILLEGAL_ID_IN_LEXICAL_DECLARATION(n){return`Lexical declarations must not have a binding named ${JSON.stringify(n)}`},UNITIALIZED_CONST:"Constant lexical declarations must have an initialiser",ILLEGAL_LABEL_IN_BODY(n){return`The body of a ${n} statement must not be a labeled function declaration`},ILLEGEAL_LABEL_IN_IF:"The consequent of an if statement must not be a labeled function declaration",ILLEGAL_LABEL_IN_ELSE:"The alternate of an if statement must not be a labeled function declaration",ILLEGAL_CONTINUE_WITHOUT_ITERATION_WITH_ID(n){return`Continue statement must be nested within an iteration statement with label ${JSON.stringify(n)}`},ILLEGAL_CONTINUE_WITHOUT_ITERATION:"Continue statement must be nested within an iteration statement",ILLEGAL_BREAK_WITHOUT_ITERATION_OR_SWITCH:"Break statement must be nested within an iteration statement or a switch statement",ILLEGAL_WITH_STRICT_MODE:"Strict mode code must not include a with statement",ILLEGAL_ACCESS_SUPER_MEMBER:"Member access on super must be in a method",ILLEGAL_SUPER_CALL:'Calls to super must be in the "constructor" method of a class expression or class declaration that has a superclass',DUPLICATE_LABEL_DECLARATION(n){return`Label ${JSON.stringify(n)} has already been declared`},ILLEGAL_BREAK_WITHIN_LABEL(n){return`Break statement must be nested within a statement with label ${JSON.stringify(n)}`},ILLEGAL_YIELD_EXPRESSIONS(n){return`${n} parameters must not contain yield expressions`},ILLEGAL_YIELD_IDENTIFIER:'"yield" may not be used as an identifier in this context',ILLEGAL_AWAIT_IDENTIFIER:'"await" may not be used as an identifier in this context',DUPLICATE_CONSTRUCTOR:"Duplicate constructor method in class",ILLEGAL_CONSTRUCTORS:"Constructors cannot be async, generators, getters or setters",ILLEGAL_STATIC_CLASS_NAME:'Static class methods cannot be named "prototype"',NEW_TARGET_ERROR:"new.target must be within function (but not arrow expression) code",DUPLICATE_EXPORT(n){return`Duplicate export ${JSON.stringify(n)}`},UNDECLARED_BINDING(n){return`Exported binding ${JSON.stringify(n)} is not declared`},DUPLICATE_PROPTO_PROP:"Duplicate __proto__ property in object literal not allowed",ILLEGAL_LABEL_FUNC_DECLARATION:"Labeled FunctionDeclarations are disallowed in strict mode",ILLEGAL_FUNC_DECL_IF:"FunctionDeclarations in IfStatements are disallowed in strict mode",ILLEGAL_USE_STRICT:'Functions with non-simple parameter lists may not contain a "use strict" directive',ILLEGAL_EXPORTED_NAME:"Names of variables used in an export specifier from the current module must be identifiers",NO_OCTALS_IN_TEMPLATES:"Template literals may not contain octal escape sequences",NO_AWAIT_IN_ASYNC_PARAMS:'Async arrow parameters may not contain "await"'}},mappings=new Map([["General_Category",new Map([["C","Other"],["Cc","Control"],["cntrl","Control"],["Cf","Format"],["Cn","Unassigned"],["Co","Private_Use"],["Cs","Surrogate"],["L","Letter"],["LC","Cased_Letter"],["Ll","Lowercase_Letter"],["Lm","Modifier_Letter"],["Lo","Other_Letter"],["Lt","Titlecase_Letter"],["Lu","Uppercase_Letter"],["M","Mark"],["Combining_Mark","Mark"],["Mc","Spacing_Mark"],["Me","Enclosing_Mark"],["Mn","Nonspacing_Mark"],["N","Number"],["Nd","Decimal_Number"],["digit","Decimal_Number"],["Nl","Letter_Number"],["No","Other_Number"],["P","Punctuation"],["punct","Punctuation"],["Pc","Connector_Punctuation"],["Pd","Dash_Punctuation"],["Pe","Close_Punctuation"],["Pf","Final_Punctuation"],["Pi","Initial_Punctuation"],["Po","Other_Punctuation"],["Ps","Open_Punctuation"],["S","Symbol"],["Sc","Currency_Symbol"],["Sk","Modifier_Symbol"],["Sm","Math_Symbol"],["So","Other_Symbol"],["Z","Separator"],["Zl","Line_Separator"],["Zp","Paragraph_Separator"],["Zs","Space_Separator"],["Other","Other"],["Control","Control"],["Format","Format"],["Unassigned","Unassigned"],["Private_Use","Private_Use"],["Surrogate","Surrogate"],["Letter","Letter"],["Cased_Letter","Cased_Letter"],["Lowercase_Letter","Lowercase_Letter"],["Modifier_Letter","Modifier_Letter"],["Other_Letter","Other_Letter"],["Titlecase_Letter","Titlecase_Letter"],["Uppercase_Letter","Uppercase_Letter"],["Mark","Mark"],["Spacing_Mark","Spacing_Mark"],["Enclosing_Mark","Enclosing_Mark"],["Nonspacing_Mark","Nonspacing_Mark"],["Number","Number"],["Decimal_Number","Decimal_Number"],["Letter_Number","Letter_Number"],["Other_Number","Other_Number"],["Punctuation","Punctuation"],["Connector_Punctuation","Connector_Punctuation"],["Dash_Punctuation","Dash_Punctuation"],["Close_Punctuation","Close_Punctuation"],["Final_Punctuation","Final_Punctuation"],["Initial_Punctuation","Initial_Punctuation"],["Other_Punctuation","Other_Punctuation"],["Open_Punctuation","Open_Punctuation"],["Symbol","Symbol"],["Currency_Symbol","Currency_Symbol"],["Modifier_Symbol","Modifier_Symbol"],["Math_Symbol","Math_Symbol"],["Other_Symbol","Other_Symbol"],["Separator","Separator"],["Line_Separator","Line_Separator"],["Paragraph_Separator","Paragraph_Separator"],["Space_Separator","Space_Separator"]])],["Script",new Map([["Adlm","Adlam"],["Aghb","Caucasian_Albanian"],["Ahom","Ahom"],["Arab","Arabic"],["Armi","Imperial_Aramaic"],["Armn","Armenian"],["Avst","Avestan"],["Bali","Balinese"],["Bamu","Bamum"],["Bass","Bassa_Vah"],["Batk","Batak"],["Beng","Bengali"],["Bhks","Bhaiksuki"],["Bopo","Bopomofo"],["Brah","Brahmi"],["Brai","Braille"],["Bugi","Buginese"],["Buhd","Buhid"],["Cakm","Chakma"],["Cans","Canadian_Aboriginal"],["Cari","Carian"],["Cham","Cham"],["Cher","Cherokee"],["Copt","Coptic"],["Qaac","Coptic"],["Cprt","Cypriot"],["Cyrl","Cyrillic"],["Deva","Devanagari"],["Dogr","Dogra"],["Dsrt","Deseret"],["Dupl","Duployan"],["Egyp","Egyptian_Hieroglyphs"],["Elba","Elbasan"],["Ethi","Ethiopic"],["Geor","Georgian"],["Glag","Glagolitic"],["Gong","Gunjala_Gondi"],["Gonm","Masaram_Gondi"],["Goth","Gothic"],["Gran","Grantha"],["Grek","Greek"],["Gujr","Gujarati"],["Guru","Gurmukhi"],["Hang","Hangul"],["Hani","Han"],["Hano","Hanunoo"],["Hatr","Hatran"],["Hebr","Hebrew"],["Hira","Hiragana"],["Hluw","Anatolian_Hieroglyphs"],["Hmng","Pahawh_Hmong"],["Hrkt","Katakana_Or_Hiragana"],["Hung","Old_Hungarian"],["Ital","Old_Italic"],["Java","Javanese"],["Kali","Kayah_Li"],["Kana","Katakana"],["Khar","Kharoshthi"],["Khmr","Khmer"],["Khoj","Khojki"],["Knda","Kannada"],["Kthi","Kaithi"],["Lana","Tai_Tham"],["Laoo","Lao"],["Latn","Latin"],["Lepc","Lepcha"],["Limb","Limbu"],["Lina","Linear_A"],["Linb","Linear_B"],["Lisu","Lisu"],["Lyci","Lycian"],["Lydi","Lydian"],["Mahj","Mahajani"],["Maka","Makasar"],["Mand","Mandaic"],["Mani","Manichaean"],["Marc","Marchen"],["Medf","Medefaidrin"],["Mend","Mende_Kikakui"],["Merc","Meroitic_Cursive"],["Mero","Meroitic_Hieroglyphs"],["Mlym","Malayalam"],["Modi","Modi"],["Mong","Mongolian"],["Mroo","Mro"],["Mtei","Meetei_Mayek"],["Mult","Multani"],["Mymr","Myanmar"],["Narb","Old_North_Arabian"],["Nbat","Nabataean"],["Newa","Newa"],["Nkoo","Nko"],["Nshu","Nushu"],["Ogam","Ogham"],["Olck","Ol_Chiki"],["Orkh","Old_Turkic"],["Orya","Oriya"],["Osge","Osage"],["Osma","Osmanya"],["Palm","Palmyrene"],["Pauc","Pau_Cin_Hau"],["Perm","Old_Permic"],["Phag","Phags_Pa"],["Phli","Inscriptional_Pahlavi"],["Phlp","Psalter_Pahlavi"],["Phnx","Phoenician"],["Plrd","Miao"],["Prti","Inscriptional_Parthian"],["Rjng","Rejang"],["Rohg","Hanifi_Rohingya"],["Runr","Runic"],["Samr","Samaritan"],["Sarb","Old_South_Arabian"],["Saur","Saurashtra"],["Sgnw","SignWriting"],["Shaw","Shavian"],["Shrd","Sharada"],["Sidd","Siddham"],["Sind","Khudawadi"],["Sinh","Sinhala"],["Sogd","Sogdian"],["Sogo","Old_Sogdian"],["Sora","Sora_Sompeng"],["Soyo","Soyombo"],["Sund","Sundanese"],["Sylo","Syloti_Nagri"],["Syrc","Syriac"],["Tagb","Tagbanwa"],["Takr","Takri"],["Tale","Tai_Le"],["Talu","New_Tai_Lue"],["Taml","Tamil"],["Tang","Tangut"],["Tavt","Tai_Viet"],["Telu","Telugu"],["Tfng","Tifinagh"],["Tglg","Tagalog"],["Thaa","Thaana"],["Thai","Thai"],["Tibt","Tibetan"],["Tirh","Tirhuta"],["Ugar","Ugaritic"],["Vaii","Vai"],["Wara","Warang_Citi"],["Xpeo","Old_Persian"],["Xsux","Cuneiform"],["Yiii","Yi"],["Zanb","Zanabazar_Square"],["Zinh","Inherited"],["Qaai","Inherited"],["Zyyy","Common"],["Zzzz","Unknown"],["Adlam","Adlam"],["Caucasian_Albanian","Caucasian_Albanian"],["Arabic","Arabic"],["Imperial_Aramaic","Imperial_Aramaic"],["Armenian","Armenian"],["Avestan","Avestan"],["Balinese","Balinese"],["Bamum","Bamum"],["Bassa_Vah","Bassa_Vah"],["Batak","Batak"],["Bengali","Bengali"],["Bhaiksuki","Bhaiksuki"],["Bopomofo","Bopomofo"],["Brahmi","Brahmi"],["Braille","Braille"],["Buginese","Buginese"],["Buhid","Buhid"],["Chakma","Chakma"],["Canadian_Aboriginal","Canadian_Aboriginal"],["Carian","Carian"],["Cherokee","Cherokee"],["Coptic","Coptic"],["Cypriot","Cypriot"],["Cyrillic","Cyrillic"],["Devanagari","Devanagari"],["Dogra","Dogra"],["Deseret","Deseret"],["Duployan","Duployan"],["Egyptian_Hieroglyphs","Egyptian_Hieroglyphs"],["Elbasan","Elbasan"],["Ethiopic","Ethiopic"],["Georgian","Georgian"],["Glagolitic","Glagolitic"],["Gunjala_Gondi","Gunjala_Gondi"],["Masaram_Gondi","Masaram_Gondi"],["Gothic","Gothic"],["Grantha","Grantha"],["Greek","Greek"],["Gujarati","Gujarati"],["Gurmukhi","Gurmukhi"],["Hangul","Hangul"],["Han","Han"],["Hanunoo","Hanunoo"],["Hatran","Hatran"],["Hebrew","Hebrew"],["Hiragana","Hiragana"],["Anatolian_Hieroglyphs","Anatolian_Hieroglyphs"],["Pahawh_Hmong","Pahawh_Hmong"],["Katakana_Or_Hiragana","Katakana_Or_Hiragana"],["Old_Hungarian","Old_Hungarian"],["Old_Italic","Old_Italic"],["Javanese","Javanese"],["Kayah_Li","Kayah_Li"],["Katakana","Katakana"],["Kharoshthi","Kharoshthi"],["Khmer","Khmer"],["Khojki","Khojki"],["Kannada","Kannada"],["Kaithi","Kaithi"],["Tai_Tham","Tai_Tham"],["Lao","Lao"],["Latin","Latin"],["Lepcha","Lepcha"],["Limbu","Limbu"],["Linear_A","Linear_A"],["Linear_B","Linear_B"],["Lycian","Lycian"],["Lydian","Lydian"],["Mahajani","Mahajani"],["Makasar","Makasar"],["Mandaic","Mandaic"],["Manichaean","Manichaean"],["Marchen","Marchen"],["Medefaidrin","Medefaidrin"],["Mende_Kikakui","Mende_Kikakui"],["Meroitic_Cursive","Meroitic_Cursive"],["Meroitic_Hieroglyphs","Meroitic_Hieroglyphs"],["Malayalam","Malayalam"],["Mongolian","Mongolian"],["Mro","Mro"],["Meetei_Mayek","Meetei_Mayek"],["Multani","Multani"],["Myanmar","Myanmar"],["Old_North_Arabian","Old_North_Arabian"],["Nabataean","Nabataean"],["Nko","Nko"],["Nushu","Nushu"],["Ogham","Ogham"],["Ol_Chiki","Ol_Chiki"],["Old_Turkic","Old_Turkic"],["Oriya","Oriya"],["Osage","Osage"],["Osmanya","Osmanya"],["Palmyrene","Palmyrene"],["Pau_Cin_Hau","Pau_Cin_Hau"],["Old_Permic","Old_Permic"],["Phags_Pa","Phags_Pa"],["Inscriptional_Pahlavi","Inscriptional_Pahlavi"],["Psalter_Pahlavi","Psalter_Pahlavi"],["Phoenician","Phoenician"],["Miao","Miao"],["Inscriptional_Parthian","Inscriptional_Parthian"],["Rejang","Rejang"],["Hanifi_Rohingya","Hanifi_Rohingya"],["Runic","Runic"],["Samaritan","Samaritan"],["Old_South_Arabian","Old_South_Arabian"],["Saurashtra","Saurashtra"],["SignWriting","SignWriting"],["Shavian","Shavian"],["Sharada","Sharada"],["Siddham","Siddham"],["Khudawadi","Khudawadi"],["Sinhala","Sinhala"],["Sogdian","Sogdian"],["Old_Sogdian","Old_Sogdian"],["Sora_Sompeng","Sora_Sompeng"],["Soyombo","Soyombo"],["Sundanese","Sundanese"],["Syloti_Nagri","Syloti_Nagri"],["Syriac","Syriac"],["Tagbanwa","Tagbanwa"],["Takri","Takri"],["Tai_Le","Tai_Le"],["New_Tai_Lue","New_Tai_Lue"],["Tamil","Tamil"],["Tangut","Tangut"],["Tai_Viet","Tai_Viet"],["Telugu","Telugu"],["Tifinagh","Tifinagh"],["Tagalog","Tagalog"],["Thaana","Thaana"],["Tibetan","Tibetan"],["Tirhuta","Tirhuta"],["Ugaritic","Ugaritic"],["Vai","Vai"],["Warang_Citi","Warang_Citi"],["Old_Persian","Old_Persian"],["Cuneiform","Cuneiform"],["Yi","Yi"],["Zanabazar_Square","Zanabazar_Square"],["Inherited","Inherited"],["Common","Common"],["Unknown","Unknown"]])],["Script_Extensions",new Map([["Adlm","Adlam"],["Aghb","Caucasian_Albanian"],["Ahom","Ahom"],["Arab","Arabic"],["Armi","Imperial_Aramaic"],["Armn","Armenian"],["Avst","Avestan"],["Bali","Balinese"],["Bamu","Bamum"],["Bass","Bassa_Vah"],["Batk","Batak"],["Beng","Bengali"],["Bhks","Bhaiksuki"],["Bopo","Bopomofo"],["Brah","Brahmi"],["Brai","Braille"],["Bugi","Buginese"],["Buhd","Buhid"],["Cakm","Chakma"],["Cans","Canadian_Aboriginal"],["Cari","Carian"],["Cham","Cham"],["Cher","Cherokee"],["Copt","Coptic"],["Qaac","Coptic"],["Cprt","Cypriot"],["Cyrl","Cyrillic"],["Deva","Devanagari"],["Dogr","Dogra"],["Dsrt","Deseret"],["Dupl","Duployan"],["Egyp","Egyptian_Hieroglyphs"],["Elba","Elbasan"],["Ethi","Ethiopic"],["Geor","Georgian"],["Glag","Glagolitic"],["Gong","Gunjala_Gondi"],["Gonm","Masaram_Gondi"],["Goth","Gothic"],["Gran","Grantha"],["Grek","Greek"],["Gujr","Gujarati"],["Guru","Gurmukhi"],["Hang","Hangul"],["Hani","Han"],["Hano","Hanunoo"],["Hatr","Hatran"],["Hebr","Hebrew"],["Hira","Hiragana"],["Hluw","Anatolian_Hieroglyphs"],["Hmng","Pahawh_Hmong"],["Hrkt","Katakana_Or_Hiragana"],["Hung","Old_Hungarian"],["Ital","Old_Italic"],["Java","Javanese"],["Kali","Kayah_Li"],["Kana","Katakana"],["Khar","Kharoshthi"],["Khmr","Khmer"],["Khoj","Khojki"],["Knda","Kannada"],["Kthi","Kaithi"],["Lana","Tai_Tham"],["Laoo","Lao"],["Latn","Latin"],["Lepc","Lepcha"],["Limb","Limbu"],["Lina","Linear_A"],["Linb","Linear_B"],["Lisu","Lisu"],["Lyci","Lycian"],["Lydi","Lydian"],["Mahj","Mahajani"],["Maka","Makasar"],["Mand","Mandaic"],["Mani","Manichaean"],["Marc","Marchen"],["Medf","Medefaidrin"],["Mend","Mende_Kikakui"],["Merc","Meroitic_Cursive"],["Mero","Meroitic_Hieroglyphs"],["Mlym","Malayalam"],["Modi","Modi"],["Mong","Mongolian"],["Mroo","Mro"],["Mtei","Meetei_Mayek"],["Mult","Multani"],["Mymr","Myanmar"],["Narb","Old_North_Arabian"],["Nbat","Nabataean"],["Newa","Newa"],["Nkoo","Nko"],["Nshu","Nushu"],["Ogam","Ogham"],["Olck","Ol_Chiki"],["Orkh","Old_Turkic"],["Orya","Oriya"],["Osge","Osage"],["Osma","Osmanya"],["Palm","Palmyrene"],["Pauc","Pau_Cin_Hau"],["Perm","Old_Permic"],["Phag","Phags_Pa"],["Phli","Inscriptional_Pahlavi"],["Phlp","Psalter_Pahlavi"],["Phnx","Phoenician"],["Plrd","Miao"],["Prti","Inscriptional_Parthian"],["Rjng","Rejang"],["Rohg","Hanifi_Rohingya"],["Runr","Runic"],["Samr","Samaritan"],["Sarb","Old_South_Arabian"],["Saur","Saurashtra"],["Sgnw","SignWriting"],["Shaw","Shavian"],["Shrd","Sharada"],["Sidd","Siddham"],["Sind","Khudawadi"],["Sinh","Sinhala"],["Sogd","Sogdian"],["Sogo","Old_Sogdian"],["Sora","Sora_Sompeng"],["Soyo","Soyombo"],["Sund","Sundanese"],["Sylo","Syloti_Nagri"],["Syrc","Syriac"],["Tagb","Tagbanwa"],["Takr","Takri"],["Tale","Tai_Le"],["Talu","New_Tai_Lue"],["Taml","Tamil"],["Tang","Tangut"],["Tavt","Tai_Viet"],["Telu","Telugu"],["Tfng","Tifinagh"],["Tglg","Tagalog"],["Thaa","Thaana"],["Thai","Thai"],["Tibt","Tibetan"],["Tirh","Tirhuta"],["Ugar","Ugaritic"],["Vaii","Vai"],["Wara","Warang_Citi"],["Xpeo","Old_Persian"],["Xsux","Cuneiform"],["Yiii","Yi"],["Zanb","Zanabazar_Square"],["Zinh","Inherited"],["Qaai","Inherited"],["Zyyy","Common"],["Zzzz","Unknown"],["Adlam","Adlam"],["Caucasian_Albanian","Caucasian_Albanian"],["Arabic","Arabic"],["Imperial_Aramaic","Imperial_Aramaic"],["Armenian","Armenian"],["Avestan","Avestan"],["Balinese","Balinese"],["Bamum","Bamum"],["Bassa_Vah","Bassa_Vah"],["Batak","Batak"],["Bengali","Bengali"],["Bhaiksuki","Bhaiksuki"],["Bopomofo","Bopomofo"],["Brahmi","Brahmi"],["Braille","Braille"],["Buginese","Buginese"],["Buhid","Buhid"],["Chakma","Chakma"],["Canadian_Aboriginal","Canadian_Aboriginal"],["Carian","Carian"],["Cherokee","Cherokee"],["Coptic","Coptic"],["Cypriot","Cypriot"],["Cyrillic","Cyrillic"],["Devanagari","Devanagari"],["Dogra","Dogra"],["Deseret","Deseret"],["Duployan","Duployan"],["Egyptian_Hieroglyphs","Egyptian_Hieroglyphs"],["Elbasan","Elbasan"],["Ethiopic","Ethiopic"],["Georgian","Georgian"],["Glagolitic","Glagolitic"],["Gunjala_Gondi","Gunjala_Gondi"],["Masaram_Gondi","Masaram_Gondi"],["Gothic","Gothic"],["Grantha","Grantha"],["Greek","Greek"],["Gujarati","Gujarati"],["Gurmukhi","Gurmukhi"],["Hangul","Hangul"],["Han","Han"],["Hanunoo","Hanunoo"],["Hatran","Hatran"],["Hebrew","Hebrew"],["Hiragana","Hiragana"],["Anatolian_Hieroglyphs","Anatolian_Hieroglyphs"],["Pahawh_Hmong","Pahawh_Hmong"],["Katakana_Or_Hiragana","Katakana_Or_Hiragana"],["Old_Hungarian","Old_Hungarian"],["Old_Italic","Old_Italic"],["Javanese","Javanese"],["Kayah_Li","Kayah_Li"],["Katakana","Katakana"],["Kharoshthi","Kharoshthi"],["Khmer","Khmer"],["Khojki","Khojki"],["Kannada","Kannada"],["Kaithi","Kaithi"],["Tai_Tham","Tai_Tham"],["Lao","Lao"],["Latin","Latin"],["Lepcha","Lepcha"],["Limbu","Limbu"],["Linear_A","Linear_A"],["Linear_B","Linear_B"],["Lycian","Lycian"],["Lydian","Lydian"],["Mahajani","Mahajani"],["Makasar","Makasar"],["Mandaic","Mandaic"],["Manichaean","Manichaean"],["Marchen","Marchen"],["Medefaidrin","Medefaidrin"],["Mende_Kikakui","Mende_Kikakui"],["Meroitic_Cursive","Meroitic_Cursive"],["Meroitic_Hieroglyphs","Meroitic_Hieroglyphs"],["Malayalam","Malayalam"],["Mongolian","Mongolian"],["Mro","Mro"],["Meetei_Mayek","Meetei_Mayek"],["Multani","Multani"],["Myanmar","Myanmar"],["Old_North_Arabian","Old_North_Arabian"],["Nabataean","Nabataean"],["Nko","Nko"],["Nushu","Nushu"],["Ogham","Ogham"],["Ol_Chiki","Ol_Chiki"],["Old_Turkic","Old_Turkic"],["Oriya","Oriya"],["Osage","Osage"],["Osmanya","Osmanya"],["Palmyrene","Palmyrene"],["Pau_Cin_Hau","Pau_Cin_Hau"],["Old_Permic","Old_Permic"],["Phags_Pa","Phags_Pa"],["Inscriptional_Pahlavi","Inscriptional_Pahlavi"],["Psalter_Pahlavi","Psalter_Pahlavi"],["Phoenician","Phoenician"],["Miao","Miao"],["Inscriptional_Parthian","Inscriptional_Parthian"],["Rejang","Rejang"],["Hanifi_Rohingya","Hanifi_Rohingya"],["Runic","Runic"],["Samaritan","Samaritan"],["Old_South_Arabian","Old_South_Arabian"],["Saurashtra","Saurashtra"],["SignWriting","SignWriting"],["Shavian","Shavian"],["Sharada","Sharada"],["Siddham","Siddham"],["Khudawadi","Khudawadi"],["Sinhala","Sinhala"],["Sogdian","Sogdian"],["Old_Sogdian","Old_Sogdian"],["Sora_Sompeng","Sora_Sompeng"],["Soyombo","Soyombo"],["Sundanese","Sundanese"],["Syloti_Nagri","Syloti_Nagri"],["Syriac","Syriac"],["Tagbanwa","Tagbanwa"],["Takri","Takri"],["Tai_Le","Tai_Le"],["New_Tai_Lue","New_Tai_Lue"],["Tamil","Tamil"],["Tangut","Tangut"],["Tai_Viet","Tai_Viet"],["Telugu","Telugu"],["Tifinagh","Tifinagh"],["Tagalog","Tagalog"],["Thaana","Thaana"],["Tibetan","Tibetan"],["Tirhuta","Tirhuta"],["Ugaritic","Ugaritic"],["Vai","Vai"],["Warang_Citi","Warang_Citi"],["Old_Persian","Old_Persian"],["Cuneiform","Cuneiform"],["Yi","Yi"],["Zanabazar_Square","Zanabazar_Square"],["Inherited","Inherited"],["Common","Common"],["Unknown","Unknown"]])]]);const propertyToValueAliases=mappings,matchPropertyValue$1=function(n,e){const r=propertyToValueAliases.get(n);if(!r)throw new Error(`Unknown property \`${n}\`.`);const s=r.get(e);if(s)return s;throw new Error(`Unknown value \`${e}\` for property \`${n}\`.`)};var unicodeMatchPropertyValueEcmascript=matchPropertyValue$1,unicodeCanonicalPropertyNamesEcmascript=new Set(["General_Category","Script","Script_Extensions","Alphabetic","Any","ASCII","ASCII_Hex_Digit","Assigned","Bidi_Control","Bidi_Mirrored","Case_Ignorable","Cased","Changes_When_Casefolded","Changes_When_Casemapped","Changes_When_Lowercased","Changes_When_NFKC_Casefolded","Changes_When_Titlecased","Changes_When_Uppercased","Dash","Default_Ignorable_Code_Point","Deprecated","Diacritic","Emoji","Emoji_Component","Emoji_Modifier","Emoji_Modifier_Base","Emoji_Presentation","Extended_Pictographic","Extender","Grapheme_Base","Grapheme_Extend","Hex_Digit","ID_Continue","ID_Start","Ideographic","IDS_Binary_Operator","IDS_Trinary_Operator","Join_Control","Logical_Order_Exception","Lowercase","Math","Noncharacter_Code_Point","Pattern_Syntax","Pattern_White_Space","Quotation_Mark","Radical","Regional_Indicator","Sentence_Terminal","Soft_Dotted","Terminal_Punctuation","Unified_Ideograph","Uppercase","Variation_Selector","White_Space","XID_Continue","XID_Start"]),unicodePropertyAliasesEcmascript=new Map([["scx","Script_Extensions"],["sc","Script"],["gc","General_Category"],["AHex","ASCII_Hex_Digit"],["Alpha","Alphabetic"],["Bidi_C","Bidi_Control"],["Bidi_M","Bidi_Mirrored"],["Cased","Cased"],["CI","Case_Ignorable"],["CWCF","Changes_When_Casefolded"],["CWCM","Changes_When_Casemapped"],["CWKCF","Changes_When_NFKC_Casefolded"],["CWL","Changes_When_Lowercased"],["CWT","Changes_When_Titlecased"],["CWU","Changes_When_Uppercased"],["Dash","Dash"],["Dep","Deprecated"],["DI","Default_Ignorable_Code_Point"],["Dia","Diacritic"],["Ext","Extender"],["Gr_Base","Grapheme_Base"],["Gr_Ext","Grapheme_Extend"],["Hex","Hex_Digit"],["IDC","ID_Continue"],["Ideo","Ideographic"],["IDS","ID_Start"],["IDSB","IDS_Binary_Operator"],["IDST","IDS_Trinary_Operator"],["Join_C","Join_Control"],["LOE","Logical_Order_Exception"],["Lower","Lowercase"],["Math","Math"],["NChar","Noncharacter_Code_Point"],["Pat_Syn","Pattern_Syntax"],["Pat_WS","Pattern_White_Space"],["QMark","Quotation_Mark"],["Radical","Radical"],["RI","Regional_Indicator"],["SD","Soft_Dotted"],["STerm","Sentence_Terminal"],["Term","Terminal_Punctuation"],["UIdeo","Unified_Ideograph"],["Upper","Uppercase"],["VS","Variation_Selector"],["WSpace","White_Space"],["space","White_Space"],["XIDC","XID_Continue"],["XIDS","XID_Start"]]);const canonicalProperties=unicodeCanonicalPropertyNamesEcmascript,propertyAliases$1=unicodePropertyAliasesEcmascript,matchProperty$1=function(n){if(canonicalProperties.has(n))return n;if(propertyAliases$1.has(n))return propertyAliases$1.get(n);throw new Error(`Unknown property: ${n}`)};var unicodeMatchPropertyEcmascript=matchProperty$1,unicode$2={};unicode$2.whitespaceArray=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];unicode$2.whitespaceBool=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];unicode$2.idStartLargeRegex=/^[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]$/;unicode$2.idStartBool=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!0,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1];unicode$2.idContinueLargeRegex=/^[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]$/;unicode$2.idContinueBool=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!0,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1];const matchPropertyValue=unicodeMatchPropertyValueEcmascript,matchPropertyValueMappings=mappings,matchProperty=unicodeMatchPropertyEcmascript,propertyAliases=unicodePropertyAliasesEcmascript,{idContinueBool:idContinueBool$3,idContinueLargeRegex:idContinueLargeRegex$3,idStartBool:idStartBool$1,idStartLargeRegex:idStartLargeRegex$1}=unicode$2,catchIsFalse=n=>{try{return!!n()}catch{return!1}},syntaxCharacters="^$\\.*+?()[]{}|".split(""),extendedSyntaxCharacters="^$\\.*+?()[|".split(""),controlEscapeCharacters="fnrtv".split(""),controlEscapeCharacterValues={f:12,n:10,r:13,t:9,v:11},controlCharacters="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),hexDigits="0123456789abcdefABCDEF".split(""),decimalDigits="0123456789".split(""),octalDigits="01234567".split(""),INVALID_NAMED_BACKREFERENCE_SENTINEL={};function isIdentifierStart$1(n){return n<128?idStartBool$1[n]:idStartLargeRegex$1.test(String.fromCodePoint(n))}function isIdentifierPart$1(n){return n<128?idContinueBool$3[n]:idContinueLargeRegex$3.test(String.fromCodePoint(n))}class PatternAcceptorState{constructor(e,r){this.pattern=e,this.unicode=r,this.index=0,this.largestBackreference=0,this.backreferenceNames=[],this.groupingNames=[],this.capturingGroups=0}empty(){return this.index>=this.pattern.length}backreference(e){e>this.largestBackreference&&(this.largestBackreference=e)}nextCodePoint(){return this.empty()?null:this.unicode?String.fromCodePoint(this.pattern.codePointAt(this.index)):this.pattern.charAt(this.index)}skipCodePoint(){this.index+=this.nextCodePoint().length}eat(e){return this.index+e.length>this.pattern.length||this.pattern.slice(this.index,this.index+e.length)!==e?!1:(this.index+=e.length,!0)}eatIdentifierCodePoint(){let e,r=this.index,s;if(this.match("\\u")){if(this.skipCodePoint(),e=acceptUnicodeEscape(this),!e.matched)return this.index=r,null;e=e.value,s=String.fromCodePoint(e)}else{if(s=this.nextCodePoint(),s==null)return this.index=r,null;this.index+=s.length,e=s.codePointAt(0)}return{character:s,characterValue:e}}eatIdentifierStart(){let e=this.index,r=this.eatIdentifierCodePoint();return r===null?(this.index=e,null):r.character==="_"||r.character==="$"||isIdentifierStart$1(r.characterValue)?r.character:(this.index=e,null)}eatIdentifierPart(){let e=this.index,r=this.eatIdentifierCodePoint();return r===null?(this.index=e,null):r.character==="â€Œ"||r.character==="â€"||r.character==="$"||isIdentifierPart$1(r.characterValue)?r.character:(this.index=e,null)}eatAny(...e){for(let r of e)if(this.eat(r))return r;return null}match(e){return this.index+e.length<=this.pattern.length&&this.pattern.slice(this.index,this.index+e.length)===e}matchAny(...e){for(let r of e)if(this.match(r))return!0;return!1}eatNaturalNumber(){let e=[],r=()=>{for(let s of decimalDigits)if(this.eat(s))return e.push(s),!0;return!1};for(;r(););return e.length===0?null:e.join("")}}var src$4=(n,{unicode:e=!1}={})=>{let r=new PatternAcceptorState(n,e),s=acceptDisjunction(r);if(s.matched){if(r.unicode&&r.largestBackreference>r.capturingGroups)return!1;if(r.groupingNames.length>0||r.unicode){for(let a of r.backreferenceNames)if(r.groupingNames.indexOf(a)===-1)return!1}}return s.matched};const backtrackOnFailure=n=>e=>{let r=e.index,s=e.largestBackreference,a=e.capturingGroups,o=n(e);return o.matched||(e.index=r,e.largestBackreference=s,e.capturingGroups=a),o},acceptUnicodeEscape=backtrackOnFailure(n=>{if(!n.eat("u"))return{matched:!1};if(n.unicode&&n.eat("{")){let s=[];for(;!n.eat("}");){let o=n.eatAny(...hexDigits);if(o===null)return{matched:!1};s.push(o)}let a=parseInt(s.join(""),16);return a>1114111?{matched:!1}:{matched:!0,value:a}}let e=[0,0,0,0].map(()=>n.eatAny(...hexDigits));if(e.some(s=>s===null))return{matched:!1};let r=parseInt(e.join(""),16);if(n.unicode&&r>=55296&&r<=56319){let s=backtrackOnFailure(a=>{if(!a.eat("\\u"))return{matched:!1};let o=[0,0,0,0].map(()=>a.eatAny(...hexDigits));if(o.some(l=>l===null))return{matched:!1};let u=parseInt(o.join(""),16);return u<56320||u>=57344?{matched:!1}:{matched:!0,value:65536+((r&1023)<<10)+(u&1023)}})(n);if(s.matched)return s}return{matched:!0,value:r}}),acceptDisjunction=(n,e)=>{do{if(e!==void 0&&n.eat(e))return{matched:!0};if(n.match("|"))continue;if(!acceptAlternative(n,e).matched)return{matched:!1}}while(n.eat("|"));return{matched:e===void 0||!!n.eat(e)}},acceptAlternative=(n,e)=>{for(;!n.match("|")&&!n.empty()&&(e===void 0||!n.match(e));)if(!acceptTerm(n).matched)return{matched:!1};return{matched:!0}},anyOf=(...n)=>e=>{for(let r of n){let s=r(e);if(s.matched)return s}return{matched:!1}},acceptTerm=n=>n.unicode?anyOf(acceptAssertion,acceptQuantified(acceptAtom))(n):anyOf(acceptQuantified(acceptQuantifiableAssertion),acceptAssertion,acceptQuantified(acceptAtom))(n),acceptLabeledGroup=n=>backtrackOnFailure(e=>e.eat("(")?n(e)?acceptDisjunction(e,")"):{matched:!1}:{matched:!1}),acceptQuantifiableAssertion=acceptLabeledGroup(n=>!!n.eatAny("?=","?!")),acceptAssertion=n=>n.eatAny("^","$","\\b","\\B")?{matched:!0}:acceptLabeledGroup(e=>e.unicode?!!e.eatAny("?=","?!","?<=","?<!"):!!e.eatAny("?<=","?<!"))(n),acceptDecimal=n=>({matched:n.eatNaturalNumber()!==null}),acceptQuantified=n=>backtrackOnFailure(e=>{if(!n(e).matched)return{matched:!1};if(e.match("{")){let r=backtrackOnFailure(s=>{s.eat("{");let a=s.eatNaturalNumber();if(a===null)return{matched:!1};if(s.eat(",")&&s.matchAny(...decimalDigits)){let o=s.eatNaturalNumber();if(o===null||parseInt(a)>parseInt(o))return{matched:!1}}return s.eat("}")?(s.eat("?"),{matched:!0}):{matched:!1}})(e);return r.matched?r:{matched:!e.unicode}}else e.eatAny("*","+","?")&&e.eat("?");return{matched:!0}}),acceptCharacterExcept=n=>e=>{let r=e.nextCodePoint();return r===null||n.indexOf(r)!==-1?{matched:!1}:(e.skipCodePoint(),{matched:!0})},acceptPatternCharacter=acceptCharacterExcept(syntaxCharacters),acceptExtendedPatternCharacter=acceptCharacterExcept(extendedSyntaxCharacters),acceptInvalidBracedQuantifier=n=>backtrackOnFailure(e=>({matched:!!(e.eat("{")&&acceptDecimal(e).matched&&(!e.eat(",")||e.match("}")||acceptDecimal(e).matched)&&e.eat("}"))}))(n),acceptAtom=n=>{if(n.unicode)return anyOf(acceptPatternCharacter,r=>({matched:!!r.eat(".")}),backtrackOnFailure(r=>r.eat("\\")?acceptAtomEscape(r):{matched:!1}),acceptCharacterClass,acceptLabeledGroup(r=>r.eat("?:")),acceptGrouping)(n);let e=anyOf(r=>({matched:!!r.eat(".")}),backtrackOnFailure(r=>r.eat("\\")?acceptAtomEscape(r):{matched:!1}),backtrackOnFailure(r=>({matched:r.eat("\\")&&r.match("c")})),acceptCharacterClass,acceptLabeledGroup(r=>r.eat("?:")),acceptGrouping)(n);return!e.matched&&acceptInvalidBracedQuantifier(n).matched?{matched:!1}:e.matched?e:acceptExtendedPatternCharacter(n)},acceptGrouping=backtrackOnFailure(n=>{if(!n.eat("("))return{matched:!1};let e=backtrackOnFailure(r=>n.eat("?")?acceptGroupName(r):{matched:!1})(n);if(!acceptDisjunction(n,")").matched)return{matched:!1};if(e.matched){if(n.groupingNames.indexOf(e.data)!==-1)return{matched:!1};n.groupingNames.push(e.data)}return n.capturingGroups++,{matched:!0}}),acceptDecimalEscape=backtrackOnFailure(n=>{let e=n.eatAny(...decimalDigits);return e===null?{matched:!1}:e==="0"?{matched:!0}:(n.backreference(parseInt(e+(n.eatNaturalNumber()||""))),{matched:!0})}),acceptCharacterClassEscape=n=>n.eatAny("d","D","s","S","w","W")?{matched:!0}:n.unicode?backtrackOnFailure(e=>!e.eat("p{")&&!e.eat("P{")?{matched:!1}:acceptUnicodePropertyValueExpression(e).matched?{matched:!!e.eat("}")}:{matched:!1})(n):{matched:!1},acceptUnicodePropertyName=n=>{let e=[],r;for(;r=n.eatAny(...controlCharacters,"_");)e.push(r);return{matched:e.length>0,data:e.join("")}},acceptUnicodePropertyValue=n=>{let e=[],r;for(;r=n.eatAny(...controlCharacters,...decimalDigits,"_");)e.push(r);return{matched:e.length>0,data:e.join("")}},illegalLoneUnicodePropertyNames=["General_Category","Script","Script_Extensions","scx","sc","gc"],generalCategoryValues=matchPropertyValueMappings.get("General_Category"),acceptLoneUnicodePropertyNameOrValue=n=>{let e=acceptUnicodePropertyValue(n);return!e.matched||illegalLoneUnicodePropertyNames.includes(e.data)?{matched:!1}:{matched:catchIsFalse(()=>matchProperty(e.data))||generalCategoryValues.get(e.data)!=null}},acceptUnicodePropertyValueExpression=n=>anyOf(backtrackOnFailure(e=>{let r=acceptUnicodePropertyName(e);if(!r.matched||!e.eat("="))return{matched:!1};let s=acceptUnicodePropertyValue(e);return s.matched?{matched:catchIsFalse(()=>matchPropertyValue(propertyAliases.get(r.data)||r.data,s.data))}:{matched:!1}}),backtrackOnFailure(acceptLoneUnicodePropertyNameOrValue))(n),acceptCharacterEscape=anyOf(n=>{let e=n.eatAny(...controlEscapeCharacters);return e===null?{matched:!1}:{matched:!0,value:controlEscapeCharacterValues[e]}},backtrackOnFailure(n=>{if(!n.eat("c"))return{matched:!1};let e=n.eatAny(...controlCharacters);return e===null?{matched:!1}:{matched:!0,value:e.charCodeAt(0)%32}}),backtrackOnFailure(n=>!n.eat("0")||n.eatAny(...decimalDigits)?{matched:!1}:{matched:!0,value:0}),backtrackOnFailure(n=>{if(!n.eat("x"))return{matched:!1};let e=[0,0].map(()=>n.eatAny(...hexDigits));return e.some(r=>r===null)?{matched:!1}:{matched:!0,value:parseInt(e.join(""),16)}}),acceptUnicodeEscape,backtrackOnFailure(n=>{if(n.unicode)return{matched:!1};let e=n.eatAny(...octalDigits);if(e===null)return{matched:!1};let r=parseInt(e,8);if(octalDigits.indexOf(n.nextCodePoint())===-1)return{matched:!0,value:r};let s=n.eatAny(...octalDigits),a=parseInt(s,8);if(r<4){if(octalDigits.indexOf(n.nextCodePoint())===-1)return{matched:!0,value:r<<3|a};let o=n.eatAny(...octalDigits),u=parseInt(o,8);return{matched:!0,value:r<<6|a<<3|u}}return{matched:!0,value:r<<3|a}}),backtrackOnFailure(n=>{if(!n.unicode)return{matched:!1};let e=n.eatAny(...syntaxCharacters);return e===null?{matched:!1}:{matched:!0,value:e.charCodeAt(0)}}),n=>!n.unicode||!n.eat("/")?{matched:!1}:{matched:!0,value:47},backtrackOnFailure(n=>{if(n.unicode)return{matched:!1};let e=n.nextCodePoint();return e!==null&&e!=="c"&&e!=="k"?(n.skipCodePoint(),{matched:!0,value:e.codePointAt(0)}):{matched:!1}})),acceptGroupNameBackreference=backtrackOnFailure(n=>{if(!n.eat("k"))return{matched:!1};let e=acceptGroupName(n);return e.matched?(n.backreferenceNames.push(e.data),{matched:!0}):(n.backreferenceNames.push(INVALID_NAMED_BACKREFERENCE_SENTINEL),{matched:!0})}),acceptGroupName=backtrackOnFailure(n=>{if(!n.eat("<"))return{matched:!1};let e=[],r=n.eatIdentifierStart();if(!r)return{matched:!1};e.push(r);let s;for(;s=n.eatIdentifierPart();)e.push(s);return n.eat(">")?{matched:e.length>0,data:e.join("")}:{matched:!1}}),acceptAtomEscape=anyOf(acceptDecimalEscape,acceptCharacterClassEscape,acceptCharacterEscape,acceptGroupNameBackreference),acceptCharacterClass=backtrackOnFailure(n=>{if(!n.eat("["))return{matched:!1};n.eat("^");const e=anyOf(c=>({matched:!!c.eat("b"),value:8}),c=>({matched:c.unicode&&!!c.eat("-"),value:45}),backtrackOnFailure(c=>{if(c.unicode||!c.eat("c"))return{matched:!1};let h=c.eatAny(...decimalDigits,"_");return h===null?{matched:!1}:{matched:!0,value:h.charCodeAt(0)%32}}),acceptCharacterClassEscape,acceptCharacterEscape,c=>({matched:!c.unicode&&!!c.eat("k"),value:107})),r=c=>{let h=c.nextCodePoint();if(h==="]"||h==="-"||h===null)return{matched:!1};if(h!=="\\")return c.skipCodePoint(),{matched:!0,value:h.codePointAt(0)};c.eat("\\");let f=e(c);return!f.matched&&c.nextCodePoint()==="c"&&!c.unicode?{matched:!0,value:92}:f},s=c=>c.eat("-")?{matched:!0,value:45}:r(c),a=(c,h)=>{const f=d=>d.value===void 0&&d.matched;if(c.eat("-")){if(c.match("]"))return{matched:!0};let d=s(c);return d.matched?c.unicode&&(f(h)||f(d))?{matched:!1}:!(!c.unicode&&(f(h)||f(d)))&&h.value>d.value?{matched:!1}:c.match("]")?{matched:!0}:o(c):{matched:!1}}return c.match("]")?{matched:!0}:u(c)},o=c=>{let h=s(c);return h.matched?a(c,h):{matched:!1}},u=c=>{let h=r(c);return h.matched?a(c,h):{matched:!1}};if(n.eat("]"))return{matched:!0};let l=o(n);return l.matched&&n.eat("]"),l});var utils$1={},unicode$1={};unicode$1.whitespaceArray=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];unicode$1.whitespaceBool=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];unicode$1.idStartLargeRegex=/^[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]$/;unicode$1.idStartBool=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!0,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1];unicode$1.idContinueLargeRegex=/^[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]$/;unicode$1.idContinueBool=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!0,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1];const{whitespaceArray,whitespaceBool,idStartLargeRegex,idStartBool,idContinueLargeRegex:idContinueLargeRegex$2,idContinueBool:idContinueBool$2}=unicode$1,strictReservedWords=["null","true","false","implements","interface","package","private","protected","public","static","let","if","in","do","var","for","new","try","this","else","case","void","with","enum","while","break","catch","throw","const","yield","class","super","return","typeof","delete","switch","export","import","default","finally","extends","function","continue","debugger","instanceof"];utils$1.isStrictModeReservedWord=n=>strictReservedWords.indexOf(n)!==-1;utils$1.isWhiteSpace=n=>n<128?whitespaceBool[n]:n===160||n>5759&&whitespaceArray.indexOf(n)!==-1;utils$1.isLineTerminator=n=>n===10||n===13||n===8232||n===8233;utils$1.isIdentifierStart=n=>n<128?idStartBool[n]:idStartLargeRegex.test(String.fromCodePoint(n));utils$1.isIdentifierPart=n=>n<128?idContinueBool$2[n]:idContinueLargeRegex$2.test(String.fromCodePoint(n));utils$1.isDecimalDigit=n=>n>=48&&n<=57;utils$1.getHexValue=n=>n>="0"&&n<="9"?n.charCodeAt(0)-48:n>="a"&&n<="f"?n.charCodeAt(0)-87:n>="A"&&n<="F"?n.charCodeAt(0)-55:-1;const{getHexValue,isLineTerminator:isLineTerminator$1,isWhiteSpace,isIdentifierStart,isIdentifierPart,isDecimalDigit}=utils$1,{ErrorMessages:ErrorMessages$2}=errors,TokenClass$2={Eof:{name:"<End>"},Ident:{name:"Identifier",isIdentifierName:!0},Keyword:{name:"Keyword",isIdentifierName:!0},NumericLiteral:{name:"Numeric"},TemplateElement:{name:"Template"},Punctuator:{name:"Punctuator"},StringLiteral:{name:"String"},RegularExpression:{name:"RegularExpression"},Illegal:{name:"Illegal"}},TokenType$2={EOS:{klass:TokenClass$2.Eof,name:"EOS"},LPAREN:{klass:TokenClass$2.Punctuator,name:"("},RPAREN:{klass:TokenClass$2.Punctuator,name:")"},LBRACK:{klass:TokenClass$2.Punctuator,name:"["},RBRACK:{klass:TokenClass$2.Punctuator,name:"]"},LBRACE:{klass:TokenClass$2.Punctuator,name:"{"},RBRACE:{klass:TokenClass$2.Punctuator,name:"}"},COLON:{klass:TokenClass$2.Punctuator,name:":"},SEMICOLON:{klass:TokenClass$2.Punctuator,name:";"},PERIOD:{klass:TokenClass$2.Punctuator,name:"."},ELLIPSIS:{klass:TokenClass$2.Punctuator,name:"..."},ARROW:{klass:TokenClass$2.Punctuator,name:"=>"},CONDITIONAL:{klass:TokenClass$2.Punctuator,name:"?"},INC:{klass:TokenClass$2.Punctuator,name:"++"},DEC:{klass:TokenClass$2.Punctuator,name:"--"},ASSIGN:{klass:TokenClass$2.Punctuator,name:"="},ASSIGN_BIT_OR:{klass:TokenClass$2.Punctuator,name:"|="},ASSIGN_BIT_XOR:{klass:TokenClass$2.Punctuator,name:"^="},ASSIGN_BIT_AND:{klass:TokenClass$2.Punctuator,name:"&="},ASSIGN_SHL:{klass:TokenClass$2.Punctuator,name:"<<="},ASSIGN_SHR:{klass:TokenClass$2.Punctuator,name:">>="},ASSIGN_SHR_UNSIGNED:{klass:TokenClass$2.Punctuator,name:">>>="},ASSIGN_ADD:{klass:TokenClass$2.Punctuator,name:"+="},ASSIGN_SUB:{klass:TokenClass$2.Punctuator,name:"-="},ASSIGN_MUL:{klass:TokenClass$2.Punctuator,name:"*="},ASSIGN_DIV:{klass:TokenClass$2.Punctuator,name:"/="},ASSIGN_MOD:{klass:TokenClass$2.Punctuator,name:"%="},ASSIGN_EXP:{klass:TokenClass$2.Punctuator,name:"**="},COMMA:{klass:TokenClass$2.Punctuator,name:","},OR:{klass:TokenClass$2.Punctuator,name:"||"},AND:{klass:TokenClass$2.Punctuator,name:"&&"},BIT_OR:{klass:TokenClass$2.Punctuator,name:"|"},BIT_XOR:{klass:TokenClass$2.Punctuator,name:"^"},BIT_AND:{klass:TokenClass$2.Punctuator,name:"&"},SHL:{klass:TokenClass$2.Punctuator,name:"<<"},SHR:{klass:TokenClass$2.Punctuator,name:">>"},SHR_UNSIGNED:{klass:TokenClass$2.Punctuator,name:">>>"},ADD:{klass:TokenClass$2.Punctuator,name:"+"},SUB:{klass:TokenClass$2.Punctuator,name:"-"},MUL:{klass:TokenClass$2.Punctuator,name:"*"},DIV:{klass:TokenClass$2.Punctuator,name:"/"},MOD:{klass:TokenClass$2.Punctuator,name:"%"},EXP:{klass:TokenClass$2.Punctuator,name:"**"},EQ:{klass:TokenClass$2.Punctuator,name:"=="},NE:{klass:TokenClass$2.Punctuator,name:"!="},EQ_STRICT:{klass:TokenClass$2.Punctuator,name:"==="},NE_STRICT:{klass:TokenClass$2.Punctuator,name:"!=="},LT:{klass:TokenClass$2.Punctuator,name:"<"},GT:{klass:TokenClass$2.Punctuator,name:">"},LTE:{klass:TokenClass$2.Punctuator,name:"<="},GTE:{klass:TokenClass$2.Punctuator,name:">="},INSTANCEOF:{klass:TokenClass$2.Keyword,name:"instanceof"},IN:{klass:TokenClass$2.Keyword,name:"in"},NOT:{klass:TokenClass$2.Punctuator,name:"!"},BIT_NOT:{klass:TokenClass$2.Punctuator,name:"~"},ASYNC:{klass:TokenClass$2.Keyword,name:"async"},AWAIT:{klass:TokenClass$2.Keyword,name:"await"},ENUM:{klass:TokenClass$2.Keyword,name:"enum"},DELETE:{klass:TokenClass$2.Keyword,name:"delete"},TYPEOF:{klass:TokenClass$2.Keyword,name:"typeof"},VOID:{klass:TokenClass$2.Keyword,name:"void"},BREAK:{klass:TokenClass$2.Keyword,name:"break"},CASE:{klass:TokenClass$2.Keyword,name:"case"},CATCH:{klass:TokenClass$2.Keyword,name:"catch"},CLASS:{klass:TokenClass$2.Keyword,name:"class"},CONTINUE:{klass:TokenClass$2.Keyword,name:"continue"},DEBUGGER:{klass:TokenClass$2.Keyword,name:"debugger"},DEFAULT:{klass:TokenClass$2.Keyword,name:"default"},DO:{klass:TokenClass$2.Keyword,name:"do"},ELSE:{klass:TokenClass$2.Keyword,name:"else"},EXPORT:{klass:TokenClass$2.Keyword,name:"export"},EXTENDS:{klass:TokenClass$2.Keyword,name:"extends"},FINALLY:{klass:TokenClass$2.Keyword,name:"finally"},FOR:{klass:TokenClass$2.Keyword,name:"for"},FUNCTION:{klass:TokenClass$2.Keyword,name:"function"},IF:{klass:TokenClass$2.Keyword,name:"if"},IMPORT:{klass:TokenClass$2.Keyword,name:"import"},LET:{klass:TokenClass$2.Keyword,name:"let"},NEW:{klass:TokenClass$2.Keyword,name:"new"},RETURN:{klass:TokenClass$2.Keyword,name:"return"},SUPER:{klass:TokenClass$2.Keyword,name:"super"},SWITCH:{klass:TokenClass$2.Keyword,name:"switch"},THIS:{klass:TokenClass$2.Keyword,name:"this"},THROW:{klass:TokenClass$2.Keyword,name:"throw"},TRY:{klass:TokenClass$2.Keyword,name:"try"},VAR:{klass:TokenClass$2.Keyword,name:"var"},WHILE:{klass:TokenClass$2.Keyword,name:"while"},WITH:{klass:TokenClass$2.Keyword,name:"with"},NULL:{klass:TokenClass$2.Keyword,name:"null"},TRUE:{klass:TokenClass$2.Keyword,name:"true"},FALSE:{klass:TokenClass$2.Keyword,name:"false"},YIELD:{klass:TokenClass$2.Keyword,name:"yield"},NUMBER:{klass:TokenClass$2.NumericLiteral,name:""},STRING:{klass:TokenClass$2.StringLiteral,name:""},REGEXP:{klass:TokenClass$2.RegularExpression,name:""},IDENTIFIER:{klass:TokenClass$2.Ident,name:""},CONST:{klass:TokenClass$2.Keyword,name:"const"},TEMPLATE:{klass:TokenClass$2.TemplateElement,name:""},ESCAPED_KEYWORD:{klass:TokenClass$2.Keyword,name:""},ILLEGAL:{klass:TokenClass$2.Illegal,name:""}},TT=TokenType$2,I=TT.ILLEGAL,F=!1,T=!0,ONE_CHAR_PUNCTUATOR=[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,TT.NOT,I,I,I,TT.MOD,TT.BIT_AND,I,TT.LPAREN,TT.RPAREN,TT.MUL,TT.ADD,TT.COMMA,TT.SUB,TT.PERIOD,TT.DIV,I,I,I,I,I,I,I,I,I,I,TT.COLON,TT.SEMICOLON,TT.LT,TT.ASSIGN,TT.GT,TT.CONDITIONAL,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,TT.LBRACK,I,TT.RBRACK,TT.BIT_XOR,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,TT.LBRACE,TT.BIT_OR,TT.RBRACE,TT.BIT_NOT],PUNCTUATOR_START=[F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,T,F,F,F,T,T,F,T,T,T,T,T,T,F,T,F,F,F,F,F,F,F,F,F,F,T,T,T,T,T,T,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,T,F,T,T,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,T,T,T,T,F];let JsError$1=class extends Error{constructor(e,r,s,a){super(a),this.index=e;try{this.line=r,this.column=s}catch{}this.parseErrorLine=r,this.parseErrorColumn=s,this.description=a,this.message=`[${r}:${s}]: ${a}`}};function fromCodePoint(n){if(n<=65535)return String.fromCharCode(n);let e=String.fromCharCode(Math.floor((n-65536)/1024)+55296),r=String.fromCharCode((n-65536)%1024+56320);return e+r}function decodeUtf16(n,e){return(n-55296)*1024+(e-56320)+65536}let Tokenizer$2=class X{constructor(e){this.source=e,this.index=0,this.line=0,this.lineStart=0,this.startIndex=0,this.startLine=0,this.startLineStart=0,this.lastIndex=0,this.lastLine=0,this.lastLineStart=0,this.hasLineTerminatorBeforeNext=!1,this.tokenIndex=0}saveLexerState(){return{source:this.source,index:this.index,line:this.line,lineStart:this.lineStart,startIndex:this.startIndex,startLine:this.startLine,startLineStart:this.startLineStart,lastIndex:this.lastIndex,lastLine:this.lastLine,lastLineStart:this.lastLineStart,lookahead:this.lookahead,hasLineTerminatorBeforeNext:this.hasLineTerminatorBeforeNext,tokenIndex:this.tokenIndex}}restoreLexerState(e){this.source=e.source,this.index=e.index,this.line=e.line,this.lineStart=e.lineStart,this.startIndex=e.startIndex,this.startLine=e.startLine,this.startLineStart=e.startLineStart,this.lastIndex=e.lastIndex,this.lastLine=e.lastLine,this.lastLineStart=e.lastLineStart,this.lookahead=e.lookahead,this.hasLineTerminatorBeforeNext=e.hasLineTerminatorBeforeNext,this.tokenIndex=e.tokenIndex}createILLEGAL(){return this.startIndex=this.index,this.startLine=this.line,this.startLineStart=this.lineStart,this.index<this.source.length?this.createError(ErrorMessages$2.UNEXPECTED_ILLEGAL_TOKEN,this.source.charAt(this.index)):this.createError(ErrorMessages$2.UNEXPECTED_EOS)}createUnexpected(e){switch(e.type.klass){case TokenClass$2.Eof:return this.createError(ErrorMessages$2.UNEXPECTED_EOS);case TokenClass$2.Ident:return this.createError(ErrorMessages$2.UNEXPECTED_IDENTIFIER);case TokenClass$2.Keyword:return e.type===TokenType$2.ESCAPED_KEYWORD?this.createError(ErrorMessages$2.UNEXPECTED_ESCAPED_KEYWORD):this.createError(ErrorMessages$2.UNEXPECTED_TOKEN,e.slice.text);case TokenClass$2.NumericLiteral:return this.createError(ErrorMessages$2.UNEXPECTED_NUMBER);case TokenClass$2.TemplateElement:return this.createError(ErrorMessages$2.UNEXPECTED_TEMPLATE);case TokenClass$2.Punctuator:return this.createError(ErrorMessages$2.UNEXPECTED_TOKEN,e.type.name);case TokenClass$2.StringLiteral:return this.createError(ErrorMessages$2.UNEXPECTED_STRING)}throw new Error("Unreachable: unexpected token of class "+e.type.klass)}createError(e,...r){let s;return typeof e=="function"?s=e(...r):s=e,new JsError$1(this.startIndex,this.startLine+1,this.startIndex-this.startLineStart+1,s)}createErrorWithLocation(e,r){let s=r.replace(/\{(\d+)\}/g,(a,o)=>JSON.stringify(arguments[+o+2]));return e.slice&&e.slice.startLocation&&(e=e.slice.startLocation),new JsError$1(e.offset,e.line,e.column+1,s)}static cse2(e,r,s){return e.charAt(1)===r&&e.charAt(2)===s}static cse3(e,r,s,a){return e.charAt(1)===r&&e.charAt(2)===s&&e.charAt(3)===a}static cse4(e,r,s,a,o){return e.charAt(1)===r&&e.charAt(2)===s&&e.charAt(3)===a&&e.charAt(4)===o}static cse5(e,r,s,a,o,u){return e.charAt(1)===r&&e.charAt(2)===s&&e.charAt(3)===a&&e.charAt(4)===o&&e.charAt(5)===u}static cse6(e,r,s,a,o,u,l){return e.charAt(1)===r&&e.charAt(2)===s&&e.charAt(3)===a&&e.charAt(4)===o&&e.charAt(5)===u&&e.charAt(6)===l}static cse7(e,r,s,a,o,u,l,c){return e.charAt(1)===r&&e.charAt(2)===s&&e.charAt(3)===a&&e.charAt(4)===o&&e.charAt(5)===u&&e.charAt(6)===l&&e.charAt(7)===c}getKeyword(e){if(e.length===1||e.length>10)return TokenType$2.IDENTIFIER;switch(e.length){case 2:switch(e.charAt(0)){case"i":switch(e.charAt(1)){case"f":return TokenType$2.IF;case"n":return TokenType$2.IN}break;case"d":if(e.charAt(1)==="o")return TokenType$2.DO;break}break;case 3:switch(e.charAt(0)){case"v":if(X.cse2(e,"a","r"))return TokenType$2.VAR;break;case"f":if(X.cse2(e,"o","r"))return TokenType$2.FOR;break;case"n":if(X.cse2(e,"e","w"))return TokenType$2.NEW;break;case"t":if(X.cse2(e,"r","y"))return TokenType$2.TRY;break;case"l":if(X.cse2(e,"e","t"))return TokenType$2.LET;break}break;case 4:switch(e.charAt(0)){case"t":if(X.cse3(e,"h","i","s"))return TokenType$2.THIS;if(X.cse3(e,"r","u","e"))return TokenType$2.TRUE;break;case"n":if(X.cse3(e,"u","l","l"))return TokenType$2.NULL;break;case"e":if(X.cse3(e,"l","s","e"))return TokenType$2.ELSE;if(X.cse3(e,"n","u","m"))return TokenType$2.ENUM;break;case"c":if(X.cse3(e,"a","s","e"))return TokenType$2.CASE;break;case"v":if(X.cse3(e,"o","i","d"))return TokenType$2.VOID;break;case"w":if(X.cse3(e,"i","t","h"))return TokenType$2.WITH;break}break;case 5:switch(e.charAt(0)){case"a":if(X.cse4(e,"s","y","n","c"))return TokenType$2.ASYNC;if(X.cse4(e,"w","a","i","t"))return TokenType$2.AWAIT;break;case"w":if(X.cse4(e,"h","i","l","e"))return TokenType$2.WHILE;break;case"b":if(X.cse4(e,"r","e","a","k"))return TokenType$2.BREAK;break;case"f":if(X.cse4(e,"a","l","s","e"))return TokenType$2.FALSE;break;case"c":if(X.cse4(e,"a","t","c","h"))return TokenType$2.CATCH;if(X.cse4(e,"o","n","s","t"))return TokenType$2.CONST;if(X.cse4(e,"l","a","s","s"))return TokenType$2.CLASS;break;case"t":if(X.cse4(e,"h","r","o","w"))return TokenType$2.THROW;break;case"y":if(X.cse4(e,"i","e","l","d"))return TokenType$2.YIELD;break;case"s":if(X.cse4(e,"u","p","e","r"))return TokenType$2.SUPER;break}break;case 6:switch(e.charAt(0)){case"r":if(X.cse5(e,"e","t","u","r","n"))return TokenType$2.RETURN;break;case"t":if(X.cse5(e,"y","p","e","o","f"))return TokenType$2.TYPEOF;break;case"d":if(X.cse5(e,"e","l","e","t","e"))return TokenType$2.DELETE;break;case"s":if(X.cse5(e,"w","i","t","c","h"))return TokenType$2.SWITCH;break;case"e":if(X.cse5(e,"x","p","o","r","t"))return TokenType$2.EXPORT;break;case"i":if(X.cse5(e,"m","p","o","r","t"))return TokenType$2.IMPORT;break}break;case 7:switch(e.charAt(0)){case"d":if(X.cse6(e,"e","f","a","u","l","t"))return TokenType$2.DEFAULT;break;case"f":if(X.cse6(e,"i","n","a","l","l","y"))return TokenType$2.FINALLY;break;case"e":if(X.cse6(e,"x","t","e","n","d","s"))return TokenType$2.EXTENDS;break}break;case 8:switch(e.charAt(0)){case"f":if(X.cse7(e,"u","n","c","t","i","o","n"))return TokenType$2.FUNCTION;break;case"c":if(X.cse7(e,"o","n","t","i","n","u","e"))return TokenType$2.CONTINUE;break;case"d":if(X.cse7(e,"e","b","u","g","g","e","r"))return TokenType$2.DEBUGGER;break}break;case 10:if(e==="instanceof")return TokenType$2.INSTANCEOF;break}return TokenType$2.IDENTIFIER}skipSingleLineComment(e){for(this.index+=e;this.index<this.source.length;){let r=this.source.charCodeAt(this.index);if(this.index++,isLineTerminator$1(r)){this.hasLineTerminatorBeforeNext=!0,r===13&&this.source.charCodeAt(this.index)===10&&this.index++,this.lineStart=this.index,this.line++;return}}}skipMultiLineComment(){this.index+=2;const e=this.source.length;let r=!1;for(;this.index<e;){let s=this.source.charCodeAt(this.index);if(s<128)switch(s){case 42:if(this.source.charAt(this.index+1)==="/")return this.index=this.index+2,r;this.index++;break;case 10:r=!0,this.hasLineTerminatorBeforeNext=!0,this.index++,this.lineStart=this.index,this.line++;break;case 13:r=!0,this.hasLineTerminatorBeforeNext=!0,this.source.charAt(this.index+1)===`
`&&this.index++,this.index++,this.lineStart=this.index,this.line++;break;default:this.index++}else s===8232||s===8233?(r=!0,this.hasLineTerminatorBeforeNext=!0,this.index++,this.lineStart=this.index,this.line++):this.index++}throw this.createILLEGAL()}skipComment(){this.hasLineTerminatorBeforeNext=!1;let e=this.index===0;const r=this.source.length;for(;this.index<r;){let s=this.source.charCodeAt(this.index);if(isWhiteSpace(s))this.index++;else if(isLineTerminator$1(s))this.hasLineTerminatorBeforeNext=!0,this.index++,s===13&&this.source.charAt(this.index)===`
`&&this.index++,this.lineStart=this.index,this.line++,e=!0;else if(s===47){if(this.index+1>=r)break;if(s=this.source.charCodeAt(this.index+1),s===47)this.skipSingleLineComment(2),e=!0;else if(s===42)e=this.skipMultiLineComment()||e;else break}else if(!this.moduleIsTheGoalSymbol&&e&&s===45){if(this.index+2>=r)break;if(this.source.charAt(this.index+1)==="-"&&this.source.charAt(this.index+2)===">")this.skipSingleLineComment(3);else break}else if(!this.moduleIsTheGoalSymbol&&s===60)if(this.source.slice(this.index+1,this.index+4)==="!--")this.skipSingleLineComment(4),e=!0;else break;else break}}scanHexEscape2(){if(this.index+2>this.source.length)return-1;let e=getHexValue(this.source.charAt(this.index));if(e===-1)return-1;let r=getHexValue(this.source.charAt(this.index+1));return r===-1?-1:(this.index+=2,e<<4|r)}scanUnicode(){if(this.source.charAt(this.index)==="{"){let o=this.index+1,u=0,l;for(;o<this.source.length;){l=this.source.charAt(o);let c=getHexValue(l);if(c===-1)break;if(u=u<<4|c,u>1114111)throw this.createILLEGAL();o++}if(l!=="}")throw this.createILLEGAL();if(o===this.index+1)throw++this.index,this.createILLEGAL();return this.index=o+1,u}if(this.index+4>this.source.length)return-1;let e=getHexValue(this.source.charAt(this.index));if(e===-1)return-1;let r=getHexValue(this.source.charAt(this.index+1));if(r===-1)return-1;let s=getHexValue(this.source.charAt(this.index+2));if(s===-1)return-1;let a=getHexValue(this.source.charAt(this.index+3));return a===-1?-1:(this.index+=4,e<<12|r<<8|s<<4|a)}getEscapedIdentifier(){let e="",r=isIdentifierStart;for(;this.index<this.source.length;){let s=this.source.charAt(this.index),a=s.charCodeAt(0),o=this.index;if(++this.index,s==="\\"){if(this.index>=this.source.length)throw this.createILLEGAL();if(this.source.charAt(this.index)!=="u")throw this.createILLEGAL();if(++this.index,a=this.scanUnicode(),a<0)throw this.createILLEGAL();s=fromCodePoint(a)}else if(a>=55296&&a<=56319){if(this.index>=this.source.length)throw this.createILLEGAL();let u=this.source.charCodeAt(this.index);if(++this.index,!(u>=56320&&u<=57343))throw this.createILLEGAL();a=decodeUtf16(a,u),s=fromCodePoint(a)}if(!r(a)){if(e.length<1)throw this.createILLEGAL();return this.index=o,e}r=isIdentifierPart,e+=s}return e}getIdentifier(){let e=this.index,r=this.source.length,s=this.index,a=isIdentifierStart;for(;s<r;){let o=this.source.charAt(s),u=o.charCodeAt(0);if(o==="\\"||u>=55296&&u<=56319)return this.index=e,this.getEscapedIdentifier();if(!a(u))return this.index=s,this.source.slice(e,s);++s,a=isIdentifierPart}return this.index=s,this.source.slice(e,s)}scanIdentifier(){let e=this.getLocation(),r=this.index,s=this.source.charAt(this.index)==="\\"?this.getEscapedIdentifier():this.getIdentifier(),a=this.getSlice(r,e);a.text=s;let o=this.index-r!==s.length,u=this.getKeyword(s);return o&&u!==TokenType$2.IDENTIFIER&&(u=TokenType$2.ESCAPED_KEYWORD),{type:u,value:s,slice:a,escaped:o}}getLocation(){return{line:this.startLine+1,column:this.startIndex-this.startLineStart,offset:this.startIndex}}getLastTokenEndLocation(){return{line:this.lastLine+1,column:this.lastIndex-this.lastLineStart,offset:this.lastIndex}}getSlice(e,r){return{text:this.source.slice(e,this.index),start:e,startLocation:r,end:this.index}}scanPunctuatorHelper(){let e=this.source.charAt(this.index);switch(e){case".":return this.source.charAt(this.index+1)!=="."||this.source.charAt(this.index+2)!=="."?TokenType$2.PERIOD:TokenType$2.ELLIPSIS;case"(":return TokenType$2.LPAREN;case")":case";":case",":return ONE_CHAR_PUNCTUATOR[e.charCodeAt(0)];case"{":return TokenType$2.LBRACE;case"}":case"[":case"]":case":":case"?":case"~":return ONE_CHAR_PUNCTUATOR[e.charCodeAt(0)];default:if(this.index+1<this.source.length&&this.source.charAt(this.index+1)==="=")switch(e){case"=":return this.index+2<this.source.length&&this.source.charAt(this.index+2)==="="?TokenType$2.EQ_STRICT:TokenType$2.EQ;case"!":return this.index+2<this.source.length&&this.source.charAt(this.index+2)==="="?TokenType$2.NE_STRICT:TokenType$2.NE;case"|":return TokenType$2.ASSIGN_BIT_OR;case"+":return TokenType$2.ASSIGN_ADD;case"-":return TokenType$2.ASSIGN_SUB;case"*":return TokenType$2.ASSIGN_MUL;case"<":return TokenType$2.LTE;case">":return TokenType$2.GTE;case"/":return TokenType$2.ASSIGN_DIV;case"%":return TokenType$2.ASSIGN_MOD;case"^":return TokenType$2.ASSIGN_BIT_XOR;case"&":return TokenType$2.ASSIGN_BIT_AND}}if(this.index+1<this.source.length){let r=this.source.charAt(this.index+1);if(e===r){if(this.index+2<this.source.length){let s=this.source.charAt(this.index+2);if(e===">"&&s===">")return this.index+3<this.source.length&&this.source.charAt(this.index+3)==="="?TokenType$2.ASSIGN_SHR_UNSIGNED:TokenType$2.SHR_UNSIGNED;if(e==="<"&&s==="=")return TokenType$2.ASSIGN_SHL;if(e===">"&&s==="=")return TokenType$2.ASSIGN_SHR;if(e==="*"&&s==="=")return TokenType$2.ASSIGN_EXP}switch(e){case"*":return TokenType$2.EXP;case"+":return TokenType$2.INC;case"-":return TokenType$2.DEC;case"<":return TokenType$2.SHL;case">":return TokenType$2.SHR;case"&":return TokenType$2.AND;case"|":return TokenType$2.OR}}else if(e==="="&&r===">")return TokenType$2.ARROW}return ONE_CHAR_PUNCTUATOR[e.charCodeAt(0)]}scanPunctuator(){let e=this.getLocation(),r=this.index,s=this.scanPunctuatorHelper();return this.index+=s.name.length,{type:s,value:s.name,slice:this.getSlice(r,e)}}scanHexLiteral(e,r){let s=this.index;for(;s<this.source.length;){let o=this.source.charAt(s);if(getHexValue(o)===-1)break;s++}if(this.index===s)throw this.createILLEGAL();if(s<this.source.length&&isIdentifierStart(this.source.charCodeAt(s)))throw this.createILLEGAL();this.index=s;let a=this.getSlice(e,r);return{type:TokenType$2.NUMBER,value:parseInt(a.text.substr(2),16),slice:a}}scanBinaryLiteral(e,r){let s=this.index-e;for(;this.index<this.source.length;){let a=this.source.charAt(this.index);if(a!=="0"&&a!=="1")break;this.index++}if(this.index-e<=s)throw this.createILLEGAL();if(this.index<this.source.length&&(isIdentifierStart(this.source.charCodeAt(this.index))||isDecimalDigit(this.source.charCodeAt(this.index))))throw this.createILLEGAL();return{type:TokenType$2.NUMBER,value:parseInt(this.getSlice(e,r).text.substr(s),2),slice:this.getSlice(e,r),octal:!1,noctal:!1}}scanOctalLiteral(e,r){for(;this.index<this.source.length;){let s=this.source.charAt(this.index);if(s>="0"&&s<="7")this.index++;else{if(isIdentifierPart(s.charCodeAt(0)))throw this.createILLEGAL();break}}if(this.index-e===2)throw this.createILLEGAL();return{type:TokenType$2.NUMBER,value:parseInt(this.getSlice(e,r).text.substr(2),8),slice:this.getSlice(e,r),octal:!1,noctal:!1}}scanLegacyOctalLiteral(e,r){let s=!0;for(;this.index<this.source.length;){let o=this.source.charAt(this.index);if(o>="0"&&o<="7")this.index++;else if(o==="8"||o==="9")s=!1,this.index++;else{if(isIdentifierPart(o.charCodeAt(0)))throw this.createILLEGAL();break}}let a=this.getSlice(e,r);return s?{type:TokenType$2.NUMBER,slice:a,value:parseInt(a.text.substr(1),8),octal:!0,noctal:!s}:(this.eatDecimalLiteralSuffix(),{type:TokenType$2.NUMBER,slice:a,value:+a.text,octal:!0,noctal:!s})}scanNumericLiteral(){let e=this.source.charAt(this.index),r=this.getLocation(),s=this.index;if(e==="0")if(this.index++,this.index<this.source.length){if(e=this.source.charAt(this.index),e==="x"||e==="X")return this.index++,this.scanHexLiteral(s,r);if(e==="b"||e==="B")return this.index++,this.scanBinaryLiteral(s,r);if(e==="o"||e==="O")return this.index++,this.scanOctalLiteral(s,r);if(e>="0"&&e<="9")return this.scanLegacyOctalLiteral(s,r)}else{let o=this.getSlice(s,r);return{type:TokenType$2.NUMBER,value:+o.text,slice:o,octal:!1,noctal:!1}}else if(e!==".")for(e=this.source.charAt(this.index);e>="0"&&e<="9";){if(this.index++,this.index===this.source.length){let o=this.getSlice(s,r);return{type:TokenType$2.NUMBER,value:+o.text,slice:o,octal:!1,noctal:!1}}e=this.source.charAt(this.index)}if(this.eatDecimalLiteralSuffix(),this.index!==this.source.length&&isIdentifierStart(this.source.charCodeAt(this.index)))throw this.createILLEGAL();let a=this.getSlice(s,r);return{type:TokenType$2.NUMBER,value:+a.text,slice:a,octal:!1,noctal:!1}}eatDecimalLiteralSuffix(){let e=this.source.charAt(this.index);if(e==="."){if(this.index++,this.index===this.source.length)return;for(e=this.source.charAt(this.index);e>="0"&&e<="9";){if(this.index++,this.index===this.source.length)return;e=this.source.charAt(this.index)}}if(e==="e"||e==="E"){if(this.index++,this.index===this.source.length)throw this.createILLEGAL();if(e=this.source.charAt(this.index),e==="+"||e==="-"){if(this.index++,this.index===this.source.length)throw this.createILLEGAL();e=this.source.charAt(this.index)}if(e>="0"&&e<="9")for(;e>="0"&&e<="9"&&(this.index++,this.index!==this.source.length);)e=this.source.charAt(this.index);else throw this.createILLEGAL()}}scanStringEscape(e,r){if(this.index++,this.index===this.source.length)throw this.createILLEGAL();let s=this.source.charAt(this.index);if(isLineTerminator$1(s.charCodeAt(0)))this.index++,s==="\r"&&this.source.charAt(this.index)===`
`&&this.index++,this.lineStart=this.index,this.line++;else switch(s){case"n":e+=`
`,this.index++;break;case"r":e+="\r",this.index++;break;case"t":e+="	",this.index++;break;case"u":case"x":{let a;if(this.index++,this.index>=this.source.length)throw this.createILLEGAL();if(a=s==="u"?this.scanUnicode():this.scanHexEscape2(),a<0)throw this.createILLEGAL();e+=fromCodePoint(a);break}case"b":e+="\b",this.index++;break;case"f":e+="\f",this.index++;break;case"v":e+="\v",this.index++;break;default:if(s>="0"&&s<="7"){let a=this.index,o=1;s>="0"&&s<="3"&&(o=0);let u=0;for(;o<3&&s>="0"&&s<="7";){if(this.index++,(o>0||s!=="0")&&(r=this.source.slice(a,this.index)),u*=8,u+=s-"0",o++,this.index===this.source.length)throw this.createILLEGAL();s=this.source.charAt(this.index)}u===0&&o===1&&(s==="8"||s==="9")&&(r=this.source.slice(a,this.index+1)),e+=String.fromCharCode(u)}else{if(s==="8"||s==="9")throw this.createILLEGAL();e+=s,this.index++}}return[e,r]}scanStringLiteral(){let e="",r=this.source.charAt(this.index),s=this.getLocation(),a=this.index;this.index++;let o=null;for(;this.index<this.source.length;){let u=this.source.charAt(this.index);if(u===r)return this.index++,{type:TokenType$2.STRING,slice:this.getSlice(a,s),str:e,octal:o};if(u==="\\")[e,o]=this.scanStringEscape(e,o);else{if(isLineTerminator$1(u.charCodeAt(0))&&u!==8232&&u!==8233)throw this.createILLEGAL();e+=u,this.index++}}throw this.createILLEGAL()}scanTemplateElement(){let e=this.getLocation(),r=this.index;for(this.index++;this.index<this.source.length;)switch(this.source.charCodeAt(this.index)){case 96:return this.index++,{type:TokenType$2.TEMPLATE,tail:!0,slice:this.getSlice(r,e)};case 36:{if(this.source.charCodeAt(this.index+1)===123)return this.index+=2,{type:TokenType$2.TEMPLATE,tail:!1,slice:this.getSlice(r,e)};this.index++;break}case 92:{if(this.scanStringEscape("",null)[1]!=null)throw this.createError(ErrorMessages$2.NO_OCTALS_IN_TEMPLATES);break}case 13:{this.line++,this.index++,this.index<this.source.length&&this.source.charAt(this.index)===`
`&&this.index++,this.lineStart=this.index;break}case 10:case 8232:case 8233:{this.line++,this.index++,this.lineStart=this.index;break}default:this.index++}throw this.createILLEGAL()}scanRegExp(e){let r=this.getLocation(),s=this.index,a=!1,o=!1;for(;this.index<this.source.length;){let u=this.source.charAt(this.index);if(u==="\\"){if(e+=u,this.index++,u=this.source.charAt(this.index),isLineTerminator$1(u.charCodeAt(0)))throw this.createError(ErrorMessages$2.UNTERMINATED_REGEXP);e+=u,this.index++}else{if(isLineTerminator$1(u.charCodeAt(0)))throw this.createError(ErrorMessages$2.UNTERMINATED_REGEXP);if(o)u==="]"&&(o=!1);else if(u==="/"){a=!0,e+=u,this.index++;break}else u==="["&&(o=!0);e+=u,this.index++}}if(!a)throw this.createError(ErrorMessages$2.UNTERMINATED_REGEXP);for(;this.index<this.source.length;){let u=this.source.charAt(this.index);if(u==="\\")throw this.createError(ErrorMessages$2.INVALID_REGEXP_FLAGS);if(!isIdentifierPart(u.charCodeAt(0)))break;this.index++,e+=u}return{type:TokenType$2.REGEXP,value:e,slice:this.getSlice(s,r)}}advance(){let e=this.getLocation();if(this.lastIndex=this.index,this.lastLine=this.line,this.lastLineStart=this.lineStart,this.skipComment(),this.startIndex=this.index,this.startLine=this.line,this.startLineStart=this.lineStart,this.lastIndex===0&&(this.lastIndex=this.index,this.lastLine=this.line,this.lastLineStart=this.lineStart),this.index>=this.source.length)return{type:TokenType$2.EOS,slice:this.getSlice(this.index,e)};let r=this.source.charCodeAt(this.index);if(r<128){if(PUNCTUATOR_START[r])return this.scanPunctuator();if(isIdentifierStart(r)||r===92)return this.scanIdentifier();if(r===46)return this.index+1<this.source.length&&isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator();if(r===39||r===34)return this.scanStringLiteral();if(r===96)return this.scanTemplateElement();if(r>=48&&r<=57)return this.scanNumericLiteral();throw this.createILLEGAL()}else{if(isIdentifierStart(r)||r>=55296&&r<=56319)return this.scanIdentifier();throw this.createILLEGAL()}}eof(){return this.lookahead.type===TokenType$2.EOS}lex(){let e=this.lookahead;return this.lookahead=this.advance(),this.tokenIndex++,e}};var tokenizer={Tokenizer:Tokenizer$2,TokenClass:TokenClass$2,TokenType:TokenType$2,JsError:JsError$1},gen={};gen.ArrayAssignmentTarget=class{constructor({elements:n,rest:e}){this.type="ArrayAssignmentTarget",this.elements=n,this.rest=e}};gen.ArrayBinding=class{constructor({elements:n,rest:e}){this.type="ArrayBinding",this.elements=n,this.rest=e}};gen.ArrayExpression=class{constructor({elements:n}){this.type="ArrayExpression",this.elements=n}};gen.ArrowExpression=class{constructor({isAsync:n,params:e,body:r}){this.type="ArrowExpression",this.isAsync=n,this.params=e,this.body=r}};gen.AssignmentExpression=class{constructor({binding:n,expression:e}){this.type="AssignmentExpression",this.binding=n,this.expression=e}};gen.AssignmentTargetIdentifier=class{constructor({name:n}){this.type="AssignmentTargetIdentifier",this.name=n}};gen.AssignmentTargetPropertyIdentifier=class{constructor({binding:n,init:e}){this.type="AssignmentTargetPropertyIdentifier",this.binding=n,this.init=e}};gen.AssignmentTargetPropertyProperty=class{constructor({name:n,binding:e}){this.type="AssignmentTargetPropertyProperty",this.name=n,this.binding=e}};gen.AssignmentTargetWithDefault=class{constructor({binding:n,init:e}){this.type="AssignmentTargetWithDefault",this.binding=n,this.init=e}};gen.AwaitExpression=class{constructor({expression:n}){this.type="AwaitExpression",this.expression=n}};gen.BinaryExpression=class{constructor({left:n,operator:e,right:r}){this.type="BinaryExpression",this.left=n,this.operator=e,this.right=r}};gen.BindingIdentifier=class{constructor({name:n}){this.type="BindingIdentifier",this.name=n}};gen.BindingPropertyIdentifier=class{constructor({binding:n,init:e}){this.type="BindingPropertyIdentifier",this.binding=n,this.init=e}};gen.BindingPropertyProperty=class{constructor({name:n,binding:e}){this.type="BindingPropertyProperty",this.name=n,this.binding=e}};gen.BindingWithDefault=class{constructor({binding:n,init:e}){this.type="BindingWithDefault",this.binding=n,this.init=e}};gen.Block=class{constructor({statements:n}){this.type="Block",this.statements=n}};gen.BlockStatement=class{constructor({block:n}){this.type="BlockStatement",this.block=n}};gen.BreakStatement=class{constructor({label:n}){this.type="BreakStatement",this.label=n}};var CallExpression=gen.CallExpression=class{constructor({callee:n,arguments:e}){this.type="CallExpression",this.callee=n,this.arguments=e}};gen.CatchClause=class{constructor({binding:n,body:e}){this.type="CatchClause",this.binding=n,this.body=e}};gen.ClassDeclaration=class{constructor({name:n,super:e,elements:r}){this.type="ClassDeclaration",this.name=n,this.super=e,this.elements=r}};gen.ClassElement=class{constructor({isStatic:n,method:e}){this.type="ClassElement",this.isStatic=n,this.method=e}};gen.ClassExpression=class{constructor({name:n,super:e,elements:r}){this.type="ClassExpression",this.name=n,this.super=e,this.elements=r}};gen.CompoundAssignmentExpression=class{constructor({binding:n,operator:e,expression:r}){this.type="CompoundAssignmentExpression",this.binding=n,this.operator=e,this.expression=r}};gen.ComputedMemberAssignmentTarget=class{constructor({object:n,expression:e}){this.type="ComputedMemberAssignmentTarget",this.object=n,this.expression=e}};gen.ComputedMemberExpression=class{constructor({object:n,expression:e}){this.type="ComputedMemberExpression",this.object=n,this.expression=e}};gen.ComputedPropertyName=class{constructor({expression:n}){this.type="ComputedPropertyName",this.expression=n}};gen.ConditionalExpression=class{constructor({test:n,consequent:e,alternate:r}){this.type="ConditionalExpression",this.test=n,this.consequent=e,this.alternate=r}};gen.ContinueStatement=class{constructor({label:n}){this.type="ContinueStatement",this.label=n}};gen.DataProperty=class{constructor({name:n,expression:e}){this.type="DataProperty",this.name=n,this.expression=e}};gen.DebuggerStatement=class{constructor(){this.type="DebuggerStatement"}};gen.Directive=class{constructor({rawValue:n}){this.type="Directive",this.rawValue=n}};gen.DoWhileStatement=class{constructor({body:n,test:e}){this.type="DoWhileStatement",this.body=n,this.test=e}};gen.EmptyStatement=class{constructor(){this.type="EmptyStatement"}};gen.Export=class{constructor({declaration:n}){this.type="Export",this.declaration=n}};gen.ExportAllFrom=class{constructor({moduleSpecifier:n}){this.type="ExportAllFrom",this.moduleSpecifier=n}};gen.ExportDefault=class{constructor({body:n}){this.type="ExportDefault",this.body=n}};gen.ExportFrom=class{constructor({namedExports:n,moduleSpecifier:e}){this.type="ExportFrom",this.namedExports=n,this.moduleSpecifier=e}};gen.ExportFromSpecifier=class{constructor({name:n,exportedName:e}){this.type="ExportFromSpecifier",this.name=n,this.exportedName=e}};gen.ExportLocalSpecifier=class{constructor({name:n,exportedName:e}){this.type="ExportLocalSpecifier",this.name=n,this.exportedName=e}};gen.ExportLocals=class{constructor({namedExports:n}){this.type="ExportLocals",this.namedExports=n}};var ExpressionStatement=gen.ExpressionStatement=class{constructor({expression:n}){this.type="ExpressionStatement",this.expression=n}};gen.ForAwaitStatement=class{constructor({left:n,right:e,body:r}){this.type="ForAwaitStatement",this.left=n,this.right=e,this.body=r}};gen.ForInStatement=class{constructor({left:n,right:e,body:r}){this.type="ForInStatement",this.left=n,this.right=e,this.body=r}};gen.ForOfStatement=class{constructor({left:n,right:e,body:r}){this.type="ForOfStatement",this.left=n,this.right=e,this.body=r}};gen.ForStatement=class{constructor({init:n,test:e,update:r,body:s}){this.type="ForStatement",this.init=n,this.test=e,this.update=r,this.body=s}};gen.FormalParameters=class{constructor({items:n,rest:e}){this.type="FormalParameters",this.items=n,this.rest=e}};gen.FunctionBody=class{constructor({directives:n,statements:e}){this.type="FunctionBody",this.directives=n,this.statements=e}};gen.FunctionDeclaration=class{constructor({isAsync:n,isGenerator:e,name:r,params:s,body:a}){this.type="FunctionDeclaration",this.isAsync=n,this.isGenerator=e,this.name=r,this.params=s,this.body=a}};gen.FunctionExpression=class{constructor({isAsync:n,isGenerator:e,name:r,params:s,body:a}){this.type="FunctionExpression",this.isAsync=n,this.isGenerator=e,this.name=r,this.params=s,this.body=a}};gen.Getter=class{constructor({name:n,body:e}){this.type="Getter",this.name=n,this.body=e}};var IdentifierExpression=gen.IdentifierExpression=class{constructor({name:n}){this.type="IdentifierExpression",this.name=n}};gen.IfStatement=class{constructor({test:n,consequent:e,alternate:r}){this.type="IfStatement",this.test=n,this.consequent=e,this.alternate=r}};gen.Import=class{constructor({defaultBinding:n,namedImports:e,moduleSpecifier:r}){this.type="Import",this.defaultBinding=n,this.namedImports=e,this.moduleSpecifier=r}};gen.ImportNamespace=class{constructor({defaultBinding:n,namespaceBinding:e,moduleSpecifier:r}){this.type="ImportNamespace",this.defaultBinding=n,this.namespaceBinding=e,this.moduleSpecifier=r}};gen.ImportSpecifier=class{constructor({name:n,binding:e}){this.type="ImportSpecifier",this.name=n,this.binding=e}};gen.LabeledStatement=class{constructor({label:n,body:e}){this.type="LabeledStatement",this.label=n,this.body=e}};gen.LiteralBooleanExpression=class{constructor({value:n}){this.type="LiteralBooleanExpression",this.value=n}};gen.LiteralInfinityExpression=class{constructor(){this.type="LiteralInfinityExpression"}};gen.LiteralNullExpression=class{constructor(){this.type="LiteralNullExpression"}};gen.LiteralNumericExpression=class{constructor({value:n}){this.type="LiteralNumericExpression",this.value=n}};gen.LiteralRegExpExpression=class{constructor({pattern:n,global:e,ignoreCase:r,multiLine:s,dotAll:a,unicode:o,sticky:u}){this.type="LiteralRegExpExpression",this.pattern=n,this.global=e,this.ignoreCase=r,this.multiLine=s,this.dotAll=a,this.unicode=o,this.sticky=u}};gen.LiteralStringExpression=class{constructor({value:n}){this.type="LiteralStringExpression",this.value=n}};gen.Method=class{constructor({isAsync:n,isGenerator:e,name:r,params:s,body:a}){this.type="Method",this.isAsync=n,this.isGenerator=e,this.name=r,this.params=s,this.body=a}};gen.Module=class{constructor({directives:n,items:e}){this.type="Module",this.directives=n,this.items=e}};gen.NewExpression=class{constructor({callee:n,arguments:e}){this.type="NewExpression",this.callee=n,this.arguments=e}};gen.NewTargetExpression=class{constructor(){this.type="NewTargetExpression"}};gen.ObjectAssignmentTarget=class{constructor({properties:n,rest:e}){this.type="ObjectAssignmentTarget",this.properties=n,this.rest=e}};gen.ObjectBinding=class{constructor({properties:n,rest:e}){this.type="ObjectBinding",this.properties=n,this.rest=e}};gen.ObjectExpression=class{constructor({properties:n}){this.type="ObjectExpression",this.properties=n}};gen.ReturnStatement=class{constructor({expression:n}){this.type="ReturnStatement",this.expression=n}};gen.Script=class{constructor({directives:n,statements:e}){this.type="Script",this.directives=n,this.statements=e}};gen.Setter=class{constructor({name:n,param:e,body:r}){this.type="Setter",this.name=n,this.param=e,this.body=r}};gen.ShorthandProperty=class{constructor({name:n}){this.type="ShorthandProperty",this.name=n}};gen.SpreadElement=class{constructor({expression:n}){this.type="SpreadElement",this.expression=n}};gen.SpreadProperty=class{constructor({expression:n}){this.type="SpreadProperty",this.expression=n}};gen.StaticMemberAssignmentTarget=class{constructor({object:n,property:e}){this.type="StaticMemberAssignmentTarget",this.object=n,this.property=e}};var StaticMemberExpression=gen.StaticMemberExpression=class{constructor({object:n,property:e}){this.type="StaticMemberExpression",this.object=n,this.property=e}};gen.StaticPropertyName=class{constructor({value:n}){this.type="StaticPropertyName",this.value=n}};gen.Super=class{constructor(){this.type="Super"}};gen.SwitchCase=class{constructor({test:n,consequent:e}){this.type="SwitchCase",this.test=n,this.consequent=e}};gen.SwitchDefault=class{constructor({consequent:n}){this.type="SwitchDefault",this.consequent=n}};gen.SwitchStatement=class{constructor({discriminant:n,cases:e}){this.type="SwitchStatement",this.discriminant=n,this.cases=e}};gen.SwitchStatementWithDefault=class{constructor({discriminant:n,preDefaultCases:e,defaultCase:r,postDefaultCases:s}){this.type="SwitchStatementWithDefault",this.discriminant=n,this.preDefaultCases=e,this.defaultCase=r,this.postDefaultCases=s}};gen.TemplateElement=class{constructor({rawValue:n}){this.type="TemplateElement",this.rawValue=n}};gen.TemplateExpression=class{constructor({tag:n,elements:e}){this.type="TemplateExpression",this.tag=n,this.elements=e}};gen.ThisExpression=class{constructor(){this.type="ThisExpression"}};gen.ThrowStatement=class{constructor({expression:n}){this.type="ThrowStatement",this.expression=n}};gen.TryCatchStatement=class{constructor({body:n,catchClause:e}){this.type="TryCatchStatement",this.body=n,this.catchClause=e}};gen.TryFinallyStatement=class{constructor({body:n,catchClause:e,finalizer:r}){this.type="TryFinallyStatement",this.body=n,this.catchClause=e,this.finalizer=r}};gen.UnaryExpression=class{constructor({operator:n,operand:e}){this.type="UnaryExpression",this.operator=n,this.operand=e}};gen.UpdateExpression=class{constructor({isPrefix:n,operator:e,operand:r}){this.type="UpdateExpression",this.isPrefix=n,this.operator=e,this.operand=r}};gen.VariableDeclaration=class{constructor({kind:n,declarators:e}){this.type="VariableDeclaration",this.kind=n,this.declarators=e}};gen.VariableDeclarationStatement=class{constructor({declaration:n}){this.type="VariableDeclarationStatement",this.declaration=n}};gen.VariableDeclarator=class{constructor({binding:n,init:e}){this.type="VariableDeclarator",this.binding=n,this.init=e}};gen.WhileStatement=class{constructor({test:n,body:e}){this.type="WhileStatement",this.test=n,this.body=e}};gen.WithStatement=class{constructor({object:n,body:e}){this.type="WithStatement",this.object=n,this.body=e}};gen.YieldExpression=class{constructor({expression:n}){this.type="YieldExpression",this.expression=n}};gen.YieldGeneratorExpression=class{constructor({expression:n}){this.type="YieldGeneratorExpression",this.expression=n}};const{ErrorMessages:ErrorMessages$1}=errors,acceptRegex=src$4,{Tokenizer:Tokenizer$1,TokenClass:TokenClass$1,TokenType:TokenType$1}=tokenizer,AST=gen,ARROW_EXPRESSION_PARAMS="CoverParenthesizedExpressionAndArrowParameterList",EXPORT_UNKNOWN_SPECIFIER="ExportNameOfUnknownType",Precedence$4={LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12},BinaryPrecedence$1={"||":Precedence$4.LogicalOR,"&&":Precedence$4.LogicalAND,"|":Precedence$4.BitwiseOR,"^":Precedence$4.BitwiseXOR,"&":Precedence$4.BitwiseAND,"==":Precedence$4.Equality,"!=":Precedence$4.Equality,"===":Precedence$4.Equality,"!==":Precedence$4.Equality,"<":Precedence$4.Relational,">":Precedence$4.Relational,"<=":Precedence$4.Relational,">=":Precedence$4.Relational,in:Precedence$4.Relational,instanceof:Precedence$4.Relational,"<<":Precedence$4.BitwiseSHIFT,">>":Precedence$4.BitwiseSHIFT,">>>":Precedence$4.BitwiseSHIFT,"+":Precedence$4.Additive,"-":Precedence$4.Additive,"*":Precedence$4.Multiplicative,"%":Precedence$4.Multiplicative,"/":Precedence$4.Multiplicative};function isValidSimpleAssignmentTarget(n){if(n==null)return!1;switch(n.type){case"IdentifierExpression":case"ComputedMemberExpression":case"StaticMemberExpression":return!0}return!1}function isPrefixOperator(n){switch(n.type){case TokenType$1.INC:case TokenType$1.DEC:case TokenType$1.ADD:case TokenType$1.SUB:case TokenType$1.BIT_NOT:case TokenType$1.NOT:case TokenType$1.DELETE:case TokenType$1.VOID:case TokenType$1.TYPEOF:return!0}return!1}function isUpdateOperator(n){return n.type===TokenType$1.INC||n.type===TokenType$1.DEC}let GenericParser$1=class extends Tokenizer$1{constructor(e){super(e),this.allowIn=!0,this.inFunctionBody=!1,this.inParameter=!1,this.allowYieldExpression=!1,this.allowAwaitExpression=!1,this.firstAwaitLocation=null,this.module=!1,this.moduleIsTheGoalSymbol=!1,this.strict=!1,this.isBindingElement=!0,this.isAssignmentTarget=!0,this.firstExprError=null}match(e){return this.lookahead.type===e}matchIdentifier(){switch(this.lookahead.type){case TokenType$1.IDENTIFIER:case TokenType$1.LET:case TokenType$1.YIELD:case TokenType$1.ASYNC:return!0;case TokenType$1.AWAIT:return this.moduleIsTheGoalSymbol?!1:(this.firstAwaitLocation===null&&(this.firstAwaitLocation=this.getLocation()),!0);case TokenType$1.ESCAPED_KEYWORD:return this.lookahead.value==="await"&&!this.moduleIsTheGoalSymbol?(this.firstAwaitLocation===null&&(this.firstAwaitLocation=this.getLocation()),!0):this.lookahead.value==="let"||this.lookahead.value==="yield"||this.lookahead.value==="async"}return!1}eat(e){return this.lookahead.type===e?this.lex():null}expect(e){if(this.lookahead.type===e)return this.lex();throw this.createUnexpected(this.lookahead)}matchContextualKeyword(e){return this.lookahead.type===TokenType$1.IDENTIFIER&&!this.lookahead.escaped&&this.lookahead.value===e}expectContextualKeyword(e){if(this.lookahead.type===TokenType$1.IDENTIFIER&&!this.lookahead.escaped&&this.lookahead.value===e)return this.lex();throw this.createUnexpected(this.lookahead)}eatContextualKeyword(e){return this.lookahead.type===TokenType$1.IDENTIFIER&&!this.lookahead.escaped&&this.lookahead.value===e?this.lex():null}consumeSemicolon(){if(!this.eat(TokenType$1.SEMICOLON)&&!this.hasLineTerminatorBeforeNext&&!this.eof()&&!this.match(TokenType$1.RBRACE))throw this.createUnexpected(this.lookahead)}startNode(e){return e}copyNode(e,r){return r}finishNode(e){return e}parseModule(){this.moduleIsTheGoalSymbol=this.module=this.strict=!0,this.lookahead=this.advance();let e=this.startNode(),{directives:r,statements:s}=this.parseBody();if(!this.match(TokenType$1.EOS))throw this.createUnexpected(this.lookahead);return this.finishNode(new AST.Module({directives:r,items:s}),e)}parseScript(){this.lookahead=this.advance();let e=this.startNode(),{directives:r,statements:s}=this.parseBody();if(!this.match(TokenType$1.EOS))throw this.createUnexpected(this.lookahead);return this.finishNode(new AST.Script({directives:r,statements:s}),e)}parseFunctionBody(){let e=this.inFunctionBody,r=this.module,s=this.strict;this.inFunctionBody=!0,this.module=!1;let a=this.startNode();this.expect(TokenType$1.LBRACE);let o=new AST.FunctionBody(this.parseBody());return this.expect(TokenType$1.RBRACE),o=this.finishNode(o,a),this.inFunctionBody=e,this.module=r,this.strict=s,o}parseBody(){let e=[],r=[],s=!0,a=null;for(;!(this.eof()||this.match(TokenType$1.RBRACE));){let o=this.lookahead,u=o.slice.text,l=o.type===TokenType$1.STRING,c=this.module,h=this.getLocation(),f=this.startNode(),d=c?this.parseModuleItem():this.parseStatementListItem();if(s)if(l&&d.type==="ExpressionStatement"&&d.expression.type==="LiteralStringExpression"){!a&&o.octal&&(a=this.createErrorWithLocation(h,"Unexpected legacy octal escape sequence: \\"+o.octal));let m=u.slice(1,-1);m==="use strict"&&(this.strict=!0),e.push(this.finishNode(new AST.Directive({rawValue:m}),f))}else{if(s=!1,a&&this.strict)throw a;r.push(d)}else r.push(d)}if(a&&this.strict)throw a;return{directives:e,statements:r}}parseImportSpecifier(){let e=this.startNode(),r;if(this.matchIdentifier()){if(r=this.parseIdentifier(),!this.eatContextualKeyword("as"))return this.finishNode(new AST.ImportSpecifier({name:null,binding:this.finishNode(new AST.BindingIdentifier({name:r}),e)}),e)}else this.lookahead.type.klass.isIdentifierName&&(r=this.parseIdentifierName(),this.expectContextualKeyword("as"));return this.finishNode(new AST.ImportSpecifier({name:r,binding:this.parseBindingIdentifier()}),e)}parseNameSpaceBinding(){return this.expect(TokenType$1.MUL),this.expectContextualKeyword("as"),this.parseBindingIdentifier()}parseNamedImports(){let e=[];for(this.expect(TokenType$1.LBRACE);!this.eat(TokenType$1.RBRACE);)if(e.push(this.parseImportSpecifier()),!this.eat(TokenType$1.COMMA)){this.expect(TokenType$1.RBRACE);break}return e}parseFromClause(){return this.expectContextualKeyword("from"),this.expect(TokenType$1.STRING).str}parseImportDeclaration(){let e=this.startNode(),r=null,s;if(this.expect(TokenType$1.IMPORT),this.match(TokenType$1.STRING))return s=this.lex().str,this.consumeSemicolon(),this.finishNode(new AST.Import({defaultBinding:null,namedImports:[],moduleSpecifier:s}),e);if(this.matchIdentifier()&&(r=this.parseBindingIdentifier(),!this.eat(TokenType$1.COMMA))){let a=new AST.Import({defaultBinding:r,namedImports:[],moduleSpecifier:this.parseFromClause()});return this.consumeSemicolon(),this.finishNode(a,e)}if(this.match(TokenType$1.MUL)){let a=new AST.ImportNamespace({defaultBinding:r,namespaceBinding:this.parseNameSpaceBinding(),moduleSpecifier:this.parseFromClause()});return this.consumeSemicolon(),this.finishNode(a,e)}else if(this.match(TokenType$1.LBRACE)){let a=new AST.Import({defaultBinding:r,namedImports:this.parseNamedImports(),moduleSpecifier:this.parseFromClause()});return this.consumeSemicolon(),this.finishNode(a,e)}throw this.createUnexpected(this.lookahead)}parseExportSpecifier(){let e=this.startNode(),r=this.finishNode({type:EXPORT_UNKNOWN_SPECIFIER,isIdentifier:this.matchIdentifier(),value:this.parseIdentifierName()},e);if(this.eatContextualKeyword("as")){let s=this.parseIdentifierName();return this.finishNode({name:r,exportedName:s},e)}return this.finishNode({name:r,exportedName:null},e)}parseExportClause(){this.expect(TokenType$1.LBRACE);let e=[];for(;!this.eat(TokenType$1.RBRACE);)if(e.push(this.parseExportSpecifier()),!this.eat(TokenType$1.COMMA)){this.expect(TokenType$1.RBRACE);break}return e}parseExportDeclaration(){let e=this.startNode(),r;switch(this.expect(TokenType$1.EXPORT),this.lookahead.type){case TokenType$1.MUL:this.lex(),r=new AST.ExportAllFrom({moduleSpecifier:this.parseFromClause()}),this.consumeSemicolon();break;case TokenType$1.LBRACE:{let s=this.parseExportClause(),a=null;this.matchContextualKeyword("from")?(a=this.parseFromClause(),r=new AST.ExportFrom({namedExports:s.map(o=>this.copyNode(o,new AST.ExportFromSpecifier({name:o.name.value,exportedName:o.exportedName}))),moduleSpecifier:a})):(s.forEach(({name:o})=>{if(!o.isIdentifier)throw this.createError(ErrorMessages$1.ILLEGAL_EXPORTED_NAME)}),r=new AST.ExportLocals({namedExports:s.map(o=>this.copyNode(o,new AST.ExportLocalSpecifier({name:this.copyNode(o.name,new AST.IdentifierExpression({name:o.name.value})),exportedName:o.exportedName})))})),this.consumeSemicolon();break}case TokenType$1.CLASS:r=new AST.Export({declaration:this.parseClass({isExpr:!1,inDefault:!1})});break;case TokenType$1.FUNCTION:r=new AST.Export({declaration:this.parseFunction({isExpr:!1,inDefault:!1,allowGenerator:!0,isAsync:!1})});break;case TokenType$1.ASYNC:{let s=this.startNode();this.lex(),r=new AST.Export({declaration:this.parseFunction({isExpr:!1,inDefault:!1,allowGenerator:!0,isAsync:!0,startState:s})});break}case TokenType$1.DEFAULT:switch(this.lex(),this.lookahead.type){case TokenType$1.FUNCTION:r=new AST.ExportDefault({body:this.parseFunction({isExpr:!1,inDefault:!0,allowGenerator:!0,isAsync:!1})});break;case TokenType$1.CLASS:r=new AST.ExportDefault({body:this.parseClass({isExpr:!1,inDefault:!0})});break;case TokenType$1.ASYNC:{let s=this.startNode(),a=this.saveLexerState();if(this.lex(),!this.hasLineTerminatorBeforeNext&&this.match(TokenType$1.FUNCTION)){r=new AST.ExportDefault({body:this.parseFunction({isExpr:!1,inDefault:!0,allowGenerator:!1,isAsync:!0,startState:s})});break}this.restoreLexerState(a)}default:r=new AST.ExportDefault({body:this.parseAssignmentExpression()}),this.consumeSemicolon();break}break;case TokenType$1.VAR:case TokenType$1.LET:case TokenType$1.CONST:r=new AST.Export({declaration:this.parseVariableDeclaration(!0)}),this.consumeSemicolon();break;default:throw this.createUnexpected(this.lookahead)}return this.finishNode(r,e)}parseModuleItem(){switch(this.lookahead.type){case TokenType$1.IMPORT:return this.parseImportDeclaration();case TokenType$1.EXPORT:return this.parseExportDeclaration();default:return this.parseStatementListItem()}}lookaheadLexicalDeclaration(){if(this.match(TokenType$1.LET)||this.match(TokenType$1.CONST)){let e=this.saveLexerState();if(this.lex(),this.matchIdentifier()||this.match(TokenType$1.LBRACE)||this.match(TokenType$1.LBRACK))return this.restoreLexerState(e),!0;this.restoreLexerState(e)}return!1}parseStatementListItem(){if(this.eof())throw this.createUnexpected(this.lookahead);switch(this.lookahead.type){case TokenType$1.FUNCTION:return this.parseFunction({isExpr:!1,inDefault:!1,allowGenerator:!0,isAsync:!1});case TokenType$1.CLASS:return this.parseClass({isExpr:!1,inDefault:!1});case TokenType$1.ASYNC:{let e=this.getLocation(),r=this.saveLexerState();return this.lex(),!this.hasLineTerminatorBeforeNext&&this.match(TokenType$1.FUNCTION)?this.parseFunction({isExpr:!1,inDefault:!1,allowGenerator:!0,isAsync:!0,startState:e}):(this.restoreLexerState(r),this.parseStatement())}default:if(this.lookaheadLexicalDeclaration()){let e=this.startNode();return this.finishNode(this.parseVariableDeclarationStatement(),e)}return this.parseStatement()}}parseStatement(){let e=this.startNode(),r=this.isolateCoverGrammar(this.parseStatementHelper);return this.finishNode(r,e)}parseStatementHelper(){if(this.eof())throw this.createUnexpected(this.lookahead);switch(this.lookahead.type){case TokenType$1.SEMICOLON:return this.parseEmptyStatement();case TokenType$1.LBRACE:return this.parseBlockStatement();case TokenType$1.LPAREN:return this.parseExpressionStatement();case TokenType$1.BREAK:return this.parseBreakStatement();case TokenType$1.CONTINUE:return this.parseContinueStatement();case TokenType$1.DEBUGGER:return this.parseDebuggerStatement();case TokenType$1.DO:return this.parseDoWhileStatement();case TokenType$1.FOR:return this.parseForStatement();case TokenType$1.IF:return this.parseIfStatement();case TokenType$1.RETURN:return this.parseReturnStatement();case TokenType$1.SWITCH:return this.parseSwitchStatement();case TokenType$1.THROW:return this.parseThrowStatement();case TokenType$1.TRY:return this.parseTryStatement();case TokenType$1.VAR:return this.parseVariableDeclarationStatement();case TokenType$1.WHILE:return this.parseWhileStatement();case TokenType$1.WITH:return this.parseWithStatement();case TokenType$1.FUNCTION:case TokenType$1.CLASS:throw this.createUnexpected(this.lookahead);default:{let e=this.saveLexerState();if(this.eat(TokenType$1.LET)){if(this.match(TokenType$1.LBRACK))throw this.restoreLexerState(e),this.createUnexpected(this.lookahead);this.restoreLexerState(e)}else if(this.eat(TokenType$1.ASYNC)){if(!this.hasLineTerminatorBeforeNext&&this.match(TokenType$1.FUNCTION))throw this.createUnexpected(this.lookahead);this.restoreLexerState(e)}let r=this.parseExpression();if(r.type==="IdentifierExpression"&&this.eat(TokenType$1.COLON)){let s=this.match(TokenType$1.FUNCTION)?this.parseFunction({isExpr:!1,inDefault:!1,allowGenerator:!1,isAsync:!1}):this.parseStatement();return new AST.LabeledStatement({label:r.name,body:s})}return this.consumeSemicolon(),new AST.ExpressionStatement({expression:r})}}}parseEmptyStatement(){return this.lex(),new AST.EmptyStatement}parseBlockStatement(){return new AST.BlockStatement({block:this.parseBlock()})}parseExpressionStatement(){let e=this.parseExpression();return this.consumeSemicolon(),new AST.ExpressionStatement({expression:e})}parseBreakStatement(){if(this.lex(),this.eat(TokenType$1.SEMICOLON)||this.hasLineTerminatorBeforeNext)return new AST.BreakStatement({label:null});let e=null;return this.matchIdentifier()&&(e=this.parseIdentifier()),this.consumeSemicolon(),new AST.BreakStatement({label:e})}parseContinueStatement(){if(this.lex(),this.eat(TokenType$1.SEMICOLON)||this.hasLineTerminatorBeforeNext)return new AST.ContinueStatement({label:null});let e=null;return this.matchIdentifier()&&(e=this.parseIdentifier()),this.consumeSemicolon(),new AST.ContinueStatement({label:e})}parseDebuggerStatement(){return this.lex(),this.consumeSemicolon(),new AST.DebuggerStatement}parseDoWhileStatement(){this.lex();let e=this.parseStatement();this.expect(TokenType$1.WHILE),this.expect(TokenType$1.LPAREN);let r=this.parseExpression();return this.expect(TokenType$1.RPAREN),this.eat(TokenType$1.SEMICOLON),new AST.DoWhileStatement({body:e,test:r})}parseForStatement(){this.lex();let e=this.allowAwaitExpression&&this.eat(TokenType$1.AWAIT);this.expect(TokenType$1.LPAREN);let r=null,s=null;if(e&&this.match(TokenType$1.SEMICOLON))throw this.createUnexpected(this.lookahead);if(this.eat(TokenType$1.SEMICOLON))return this.match(TokenType$1.SEMICOLON)||(r=this.parseExpression()),this.expect(TokenType$1.SEMICOLON),this.match(TokenType$1.RPAREN)||(s=this.parseExpression()),new AST.ForStatement({init:null,test:r,update:s,body:this.getIteratorStatementEpilogue()});let a=this.match(TokenType$1.LET),o=this.lookaheadLexicalDeclaration(),u=this.startNode();if(this.match(TokenType$1.VAR)||o){let h=this.allowIn;this.allowIn=!1;let f=this.parseVariableDeclaration(!1);if(this.allowIn=h,f.declarators.length===1&&(this.match(TokenType$1.IN)||this.matchContextualKeyword("of"))){let d,m=f.declarators[0];if(this.match(TokenType$1.IN)){if(e)throw this.createUnexpected(this.lookahead);if(m.init!==null&&(this.strict||f.kind!=="var"||m.binding.type!=="BindingIdentifier"))throw this.createError(ErrorMessages$1.INVALID_VAR_INIT_FOR_IN);d=AST.ForInStatement,this.lex(),s=this.parseExpression()}else{if(m.init!==null)throw this.createError(e?ErrorMessages$1.INVALID_VAR_INIT_FOR_AWAIT:ErrorMessages$1.INVALID_VAR_INIT_FOR_OF);e?d=AST.ForAwaitStatement:d=AST.ForOfStatement,this.lex(),s=this.parseAssignmentExpression()}let g=this.getIteratorStatementEpilogue();return new d({left:f,right:s,body:g})}else if(e)throw this.createUnexpected(this.lookahead);if(this.expect(TokenType$1.SEMICOLON),f.declarators.some(d=>d.binding.type!=="BindingIdentifier"&&d.init===null))throw this.createError(ErrorMessages$1.UNINITIALIZED_BINDINGPATTERN_IN_FOR_INIT);return this.match(TokenType$1.SEMICOLON)||(r=this.parseExpression()),this.expect(TokenType$1.SEMICOLON),this.match(TokenType$1.RPAREN)||(s=this.parseExpression()),new AST.ForStatement({init:f,test:r,update:s,body:this.getIteratorStatementEpilogue()})}let l=this.allowIn;this.allowIn=!1;let c=this.inheritCoverGrammar(this.parseAssignmentExpressionOrTarget);if(this.allowIn=l,this.isAssignmentTarget&&c.type!=="AssignmentExpression"&&(this.match(TokenType$1.IN)||this.matchContextualKeyword("of"))){if((c.type==="ObjectAssignmentTarget"||c.type==="ArrayAssignmentTarget")&&(this.firstExprError=null),a&&this.matchContextualKeyword("of"))throw this.createError(e?ErrorMessages$1.INVALID_LHS_IN_FOR_AWAIT:ErrorMessages$1.INVALID_LHS_IN_FOR_OF);let h;if(this.match(TokenType$1.IN)){if(e)throw this.createUnexpected(this.lookahead);h=AST.ForInStatement,this.lex(),s=this.parseExpression()}else e?h=AST.ForAwaitStatement:h=AST.ForOfStatement,this.lex(),s=this.parseAssignmentExpression();return new h({left:this.transformDestructuring(c),right:s,body:this.getIteratorStatementEpilogue()})}else if(e)throw this.createError(ErrorMessages$1.INVALID_LHS_IN_FOR_AWAIT);if(this.firstExprError)throw this.firstExprError;for(;this.eat(TokenType$1.COMMA);){let h=this.parseAssignmentExpression();c=this.finishNode(new AST.BinaryExpression({left:c,operator:",",right:h}),u)}if(this.match(TokenType$1.IN))throw this.createError(ErrorMessages$1.INVALID_LHS_IN_FOR_IN);if(this.matchContextualKeyword("of"))throw this.createError(ErrorMessages$1.INVALID_LHS_IN_FOR_OF);return this.expect(TokenType$1.SEMICOLON),this.match(TokenType$1.SEMICOLON)||(r=this.parseExpression()),this.expect(TokenType$1.SEMICOLON),this.match(TokenType$1.RPAREN)||(s=this.parseExpression()),new AST.ForStatement({init:c,test:r,update:s,body:this.getIteratorStatementEpilogue()})}getIteratorStatementEpilogue(){return this.expect(TokenType$1.RPAREN),this.parseStatement()}parseIfStatementChild(){return this.match(TokenType$1.FUNCTION)?this.parseFunction({isExpr:!1,inDefault:!1,allowGenerator:!1,isAsync:!1}):this.parseStatement()}parseIfStatement(){this.lex(),this.expect(TokenType$1.LPAREN);let e=this.parseExpression();this.expect(TokenType$1.RPAREN);let r=this.parseIfStatementChild(),s=null;return this.eat(TokenType$1.ELSE)&&(s=this.parseIfStatementChild()),new AST.IfStatement({test:e,consequent:r,alternate:s})}parseReturnStatement(){if(!this.inFunctionBody)throw this.createError(ErrorMessages$1.ILLEGAL_RETURN);if(this.lex(),this.eat(TokenType$1.SEMICOLON)||this.hasLineTerminatorBeforeNext)return new AST.ReturnStatement({expression:null});let e=null;return!this.match(TokenType$1.RBRACE)&&!this.eof()&&(e=this.parseExpression()),this.consumeSemicolon(),new AST.ReturnStatement({expression:e})}parseSwitchStatement(){this.lex(),this.expect(TokenType$1.LPAREN);let e=this.parseExpression();if(this.expect(TokenType$1.RPAREN),this.expect(TokenType$1.LBRACE),this.eat(TokenType$1.RBRACE))return new AST.SwitchStatement({discriminant:e,cases:[]});let r=this.parseSwitchCases();if(this.match(TokenType$1.DEFAULT)){let s=this.parseSwitchDefault(),a=this.parseSwitchCases();if(this.match(TokenType$1.DEFAULT))throw this.createError(ErrorMessages$1.MULTIPLE_DEFAULTS_IN_SWITCH);return this.expect(TokenType$1.RBRACE),new AST.SwitchStatementWithDefault({discriminant:e,preDefaultCases:r,defaultCase:s,postDefaultCases:a})}return this.expect(TokenType$1.RBRACE),new AST.SwitchStatement({discriminant:e,cases:r})}parseSwitchCases(){let e=[];for(;!(this.eof()||this.match(TokenType$1.RBRACE)||this.match(TokenType$1.DEFAULT));)e.push(this.parseSwitchCase());return e}parseSwitchCase(){let e=this.startNode();return this.expect(TokenType$1.CASE),this.finishNode(new AST.SwitchCase({test:this.parseExpression(),consequent:this.parseSwitchCaseBody()}),e)}parseSwitchDefault(){let e=this.startNode();return this.expect(TokenType$1.DEFAULT),this.finishNode(new AST.SwitchDefault({consequent:this.parseSwitchCaseBody()}),e)}parseSwitchCaseBody(){return this.expect(TokenType$1.COLON),this.parseStatementListInSwitchCaseBody()}parseStatementListInSwitchCaseBody(){let e=[];for(;!(this.eof()||this.match(TokenType$1.RBRACE)||this.match(TokenType$1.DEFAULT)||this.match(TokenType$1.CASE));)e.push(this.parseStatementListItem());return e}parseThrowStatement(){let e=this.lex();if(this.hasLineTerminatorBeforeNext)throw this.createErrorWithLocation(e,ErrorMessages$1.NEWLINE_AFTER_THROW);let r=this.parseExpression();return this.consumeSemicolon(),new AST.ThrowStatement({expression:r})}parseTryStatement(){this.lex();let e=this.parseBlock();if(this.match(TokenType$1.CATCH)){let r=this.parseCatchClause();if(this.eat(TokenType$1.FINALLY)){let s=this.parseBlock();return new AST.TryFinallyStatement({body:e,catchClause:r,finalizer:s})}return new AST.TryCatchStatement({body:e,catchClause:r})}if(this.eat(TokenType$1.FINALLY)){let r=this.parseBlock();return new AST.TryFinallyStatement({body:e,catchClause:null,finalizer:r})}throw this.createError(ErrorMessages$1.NO_CATCH_OR_FINALLY)}parseVariableDeclarationStatement(){let e=this.parseVariableDeclaration(!0);return this.consumeSemicolon(),new AST.VariableDeclarationStatement({declaration:e})}parseWhileStatement(){this.lex(),this.expect(TokenType$1.LPAREN);let e=this.parseExpression(),r=this.getIteratorStatementEpilogue();return new AST.WhileStatement({test:e,body:r})}parseWithStatement(){this.lex(),this.expect(TokenType$1.LPAREN);let e=this.parseExpression();this.expect(TokenType$1.RPAREN);let r=this.parseStatement();return new AST.WithStatement({object:e,body:r})}parseCatchClause(){let e=this.startNode();this.lex();let r=null;if(this.match(TokenType$1.LPAREN)){if(this.lex(),this.match(TokenType$1.RPAREN)||this.match(TokenType$1.LPAREN))throw this.createUnexpected(this.lookahead);r=this.parseBindingTarget(),this.expect(TokenType$1.RPAREN)}let s=this.parseBlock();return this.finishNode(new AST.CatchClause({binding:r,body:s}),e)}parseBlock(){let e=this.startNode();this.expect(TokenType$1.LBRACE);let r=[];for(;!this.match(TokenType$1.RBRACE);)r.push(this.parseStatementListItem());return this.expect(TokenType$1.RBRACE),this.finishNode(new AST.Block({statements:r}),e)}parseVariableDeclaration(e){let r=this.startNode(),s=this.lex(),a=s.type===TokenType$1.VAR?"var":s.type===TokenType$1.CONST?"const":"let",o=this.parseVariableDeclaratorList(e);return this.finishNode(new AST.VariableDeclaration({kind:a,declarators:o}),r)}parseVariableDeclaratorList(e){let r=[];do r.push(this.parseVariableDeclarator(e));while(this.eat(TokenType$1.COMMA));return r}parseVariableDeclarator(e){let r=this.startNode();if(this.match(TokenType$1.LPAREN))throw this.createUnexpected(this.lookahead);let s=this.allowIn;this.allowIn=!0;let a=this.parseBindingTarget();this.allowIn=s,e&&a.type!=="BindingIdentifier"&&!this.match(TokenType$1.ASSIGN)&&this.expect(TokenType$1.ASSIGN);let o=null;return this.eat(TokenType$1.ASSIGN)&&(o=this.parseAssignmentExpression()),this.finishNode(new AST.VariableDeclarator({binding:a,init:o}),r)}isolateCoverGrammar(e){let r=this.isBindingElement,s=this.isAssignmentTarget,a=this.firstExprError,o;if(this.isBindingElement=this.isAssignmentTarget=!0,this.firstExprError=null,o=e.call(this),this.firstExprError!==null)throw this.firstExprError;return this.isBindingElement=r,this.isAssignmentTarget=s,this.firstExprError=a,o}inheritCoverGrammar(e){let r=this.isBindingElement,s=this.isAssignmentTarget,a=this.firstExprError,o;return this.isBindingElement=this.isAssignmentTarget=!0,this.firstExprError=null,o=e.call(this),this.isBindingElement=this.isBindingElement&&r,this.isAssignmentTarget=this.isAssignmentTarget&&s,this.firstExprError=a||this.firstExprError,o}parseExpression(){let e=this.startNode(),r=this.parseAssignmentExpression();if(this.match(TokenType$1.COMMA))for(;!this.eof()&&this.match(TokenType$1.COMMA);){this.lex();let s=this.parseAssignmentExpression();r=this.finishNode(new AST.BinaryExpression({left:r,operator:",",right:s}),e)}return r}finishArrowParams(e){let{params:r=null,rest:s=null}=e;if(e.type!==ARROW_EXPRESSION_PARAMS)if(e.type==="IdentifierExpression")r=[this.targetToBinding(this.transformDestructuring(e))];else throw this.createUnexpected(this.lookahead);return this.copyNode(e,new AST.FormalParameters({items:r,rest:s}))}parseArrowExpressionTail(e,r,s){this.expect(TokenType$1.ARROW);let a=this.allowYieldExpression,o=this.allowAwaitExpression,u=this.firstAwaitLocation;this.allowYieldExpression=!1,this.allowAwaitExpression=r,this.firstAwaitLocation=null;let l;if(this.match(TokenType$1.LBRACE)){let c=this.allowIn;this.allowIn=!0,l=this.parseFunctionBody(),this.allowIn=c}else l=this.parseAssignmentExpression();return this.allowYieldExpression=a,this.allowAwaitExpression=o,this.firstAwaitLocation=u,this.finishNode(new AST.ArrowExpression({isAsync:r,params:e,body:l}),s)}parseAssignmentExpression(){return this.isolateCoverGrammar(this.parseAssignmentExpressionOrTarget)}parseAssignmentExpressionOrTarget(){let e=this.startNode();if(this.allowYieldExpression&&this.match(TokenType$1.YIELD))return this.isBindingElement=this.isAssignmentTarget=!1,this.parseYieldExpression();let r=this.parseConditionalExpression();if(!this.hasLineTerminatorBeforeNext&&this.match(TokenType$1.ARROW)){this.isBindingElement=this.isAssignmentTarget=!1,this.firstExprError=null;let l=r.type===ARROW_EXPRESSION_PARAMS&&r.isAsync;return this.parseArrowExpressionTail(this.finishArrowParams(r),l,e)}let s=!1,a=this.lookahead;switch(a.type){case TokenType$1.ASSIGN_BIT_OR:case TokenType$1.ASSIGN_BIT_XOR:case TokenType$1.ASSIGN_BIT_AND:case TokenType$1.ASSIGN_SHL:case TokenType$1.ASSIGN_SHR:case TokenType$1.ASSIGN_SHR_UNSIGNED:case TokenType$1.ASSIGN_ADD:case TokenType$1.ASSIGN_SUB:case TokenType$1.ASSIGN_MUL:case TokenType$1.ASSIGN_DIV:case TokenType$1.ASSIGN_MOD:case TokenType$1.ASSIGN_EXP:s=!0;break}if(s){if(!this.isAssignmentTarget||!isValidSimpleAssignmentTarget(r))throw this.createError(ErrorMessages$1.INVALID_LHS_IN_ASSIGNMENT);r=this.transformDestructuring(r)}else if(a.type===TokenType$1.ASSIGN){if(!this.isAssignmentTarget)throw this.createError(ErrorMessages$1.INVALID_LHS_IN_ASSIGNMENT);r=this.transformDestructuring(r)}else return r;this.lex();let o=this.parseAssignmentExpression();this.firstExprError=null;let u;return a.type===TokenType$1.ASSIGN?u=new AST.AssignmentExpression({binding:r,expression:o}):(u=new AST.CompoundAssignmentExpression({binding:r,operator:a.type.name,expression:o}),this.isBindingElement=this.isAssignmentTarget=!1),this.finishNode(u,e)}targetToBinding(e){if(e===null)return null;switch(e.type){case"AssignmentTargetIdentifier":return this.copyNode(e,new AST.BindingIdentifier({name:e.name}));case"ArrayAssignmentTarget":return this.copyNode(e,new AST.ArrayBinding({elements:e.elements.map(r=>this.targetToBinding(r)),rest:this.targetToBinding(e.rest)}));case"ObjectAssignmentTarget":return this.copyNode(e,new AST.ObjectBinding({properties:e.properties.map(r=>this.targetToBinding(r)),rest:this.targetToBinding(e.rest)}));case"AssignmentTargetPropertyIdentifier":return this.copyNode(e,new AST.BindingPropertyIdentifier({binding:this.targetToBinding(e.binding),init:e.init}));case"AssignmentTargetPropertyProperty":return this.copyNode(e,new AST.BindingPropertyProperty({name:e.name,binding:this.targetToBinding(e.binding)}));case"AssignmentTargetWithDefault":return this.copyNode(e,new AST.BindingWithDefault({binding:this.targetToBinding(e.binding),init:e.init}))}throw new Error("Not reached")}transformDestructuring(e){switch(e.type){case"DataProperty":return this.copyNode(e,new AST.AssignmentTargetPropertyProperty({name:e.name,binding:this.transformDestructuringWithDefault(e.expression)}));case"ShorthandProperty":return this.copyNode(e,new AST.AssignmentTargetPropertyIdentifier({binding:this.copyNode(e,new AST.AssignmentTargetIdentifier({name:e.name.name})),init:null}));case"ObjectExpression":{let r=e.properties.length>0?e.properties[e.properties.length-1]:void 0;return r!=null&&r.type==="SpreadProperty"?this.copyNode(e,new AST.ObjectAssignmentTarget({properties:e.properties.slice(0,-1).map(s=>s&&this.transformDestructuringWithDefault(s)),rest:this.transformDestructuring(r.expression)})):this.copyNode(e,new AST.ObjectAssignmentTarget({properties:e.properties.map(s=>s&&this.transformDestructuringWithDefault(s)),rest:null}))}case"ArrayExpression":{let r=e.elements[e.elements.length-1];return r!=null&&r.type==="SpreadElement"?this.copyNode(e,new AST.ArrayAssignmentTarget({elements:e.elements.slice(0,-1).map(s=>s&&this.transformDestructuringWithDefault(s)),rest:this.copyNode(r.expression,this.transformDestructuring(r.expression))})):this.copyNode(e,new AST.ArrayAssignmentTarget({elements:e.elements.map(s=>s&&this.transformDestructuringWithDefault(s)),rest:null}))}case"IdentifierExpression":return this.copyNode(e,new AST.AssignmentTargetIdentifier({name:e.name}));case"StaticPropertyName":return this.copyNode(e,new AST.AssignmentTargetIdentifier({name:e.value}));case"ComputedMemberExpression":return this.copyNode(e,new AST.ComputedMemberAssignmentTarget({object:e.object,expression:e.expression}));case"StaticMemberExpression":return this.copyNode(e,new AST.StaticMemberAssignmentTarget({object:e.object,property:e.property}));case"ArrayAssignmentTarget":case"ObjectAssignmentTarget":case"ComputedMemberAssignmentTarget":case"StaticMemberAssignmentTarget":case"AssignmentTargetIdentifier":case"AssignmentTargetPropertyIdentifier":case"AssignmentTargetPropertyProperty":case"AssignmentTargetWithDefault":return e}throw new Error("Not reached")}transformDestructuringWithDefault(e){switch(e.type){case"AssignmentExpression":return this.copyNode(e,new AST.AssignmentTargetWithDefault({binding:this.transformDestructuring(e.binding),init:e.expression}))}return this.transformDestructuring(e)}lookaheadAssignmentExpression(){if(this.matchIdentifier())return!0;switch(this.lookahead.type){case TokenType$1.ADD:case TokenType$1.ASSIGN_DIV:case TokenType$1.BIT_NOT:case TokenType$1.CLASS:case TokenType$1.DEC:case TokenType$1.DELETE:case TokenType$1.DIV:case TokenType$1.FALSE:case TokenType$1.FUNCTION:case TokenType$1.INC:case TokenType$1.LBRACE:case TokenType$1.LBRACK:case TokenType$1.LPAREN:case TokenType$1.NEW:case TokenType$1.NOT:case TokenType$1.NULL:case TokenType$1.NUMBER:case TokenType$1.STRING:case TokenType$1.SUB:case TokenType$1.SUPER:case TokenType$1.THIS:case TokenType$1.TRUE:case TokenType$1.TYPEOF:case TokenType$1.VOID:case TokenType$1.TEMPLATE:return!0}return!1}parseYieldExpression(){let e=this.startNode();if(this.lex(),this.hasLineTerminatorBeforeNext)return this.finishNode(new AST.YieldExpression({expression:null}),e);let r=!!this.eat(TokenType$1.MUL),s=null;(r||this.lookaheadAssignmentExpression())&&(s=this.parseAssignmentExpression());let a=r?AST.YieldGeneratorExpression:AST.YieldExpression;return this.finishNode(new a({expression:s}),e)}parseConditionalExpression(){let e=this.startNode(),r=this.parseBinaryExpression();if(this.firstExprError)return r;if(this.eat(TokenType$1.CONDITIONAL)){this.isBindingElement=this.isAssignmentTarget=!1;let s=this.allowIn;this.allowIn=!0;let a=this.isolateCoverGrammar(this.parseAssignmentExpression);this.allowIn=s,this.expect(TokenType$1.COLON);let o=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.finishNode(new AST.ConditionalExpression({test:r,consequent:a,alternate:o}),e)}return r}isBinaryOperator(e){switch(e){case TokenType$1.OR:case TokenType$1.AND:case TokenType$1.BIT_OR:case TokenType$1.BIT_XOR:case TokenType$1.BIT_AND:case TokenType$1.EQ:case TokenType$1.NE:case TokenType$1.EQ_STRICT:case TokenType$1.NE_STRICT:case TokenType$1.LT:case TokenType$1.GT:case TokenType$1.LTE:case TokenType$1.GTE:case TokenType$1.INSTANCEOF:case TokenType$1.SHL:case TokenType$1.SHR:case TokenType$1.SHR_UNSIGNED:case TokenType$1.ADD:case TokenType$1.SUB:case TokenType$1.MUL:case TokenType$1.DIV:case TokenType$1.MOD:return!0;case TokenType$1.IN:return this.allowIn;default:return!1}}parseBinaryExpression(){let e=this.startNode(),r=this.parseExponentiationExpression();if(this.firstExprError)return r;let s=this.lookahead.type;if(!this.isBinaryOperator(s))return r;this.isBindingElement=this.isAssignmentTarget=!1,this.lex();let a=[];a.push({startState:e,left:r,operator:s,precedence:BinaryPrecedence$1[s.name]}),e=this.startNode();let o=this.isolateCoverGrammar(this.parseExponentiationExpression);for(s=this.lookahead.type;this.isBinaryOperator(s);){let u=BinaryPrecedence$1[s.name];for(;a.length&&u<=a[a.length-1].precedence;){let l=a[a.length-1],c=l.operator;r=l.left,a.pop(),e=l.startState,o=this.finishNode(new AST.BinaryExpression({left:r,operator:c.name,right:o}),e)}this.lex(),a.push({startState:e,left:o,operator:s,precedence:u}),e=this.startNode(),o=this.isolateCoverGrammar(this.parseExponentiationExpression),s=this.lookahead.type}return a.reduceRight((u,l)=>this.finishNode(new AST.BinaryExpression({left:l.left,operator:l.operator.name,right:u}),l.startState),o)}parseExponentiationExpression(){let e=this.startNode(),r=this.lookahead.type===TokenType$1.LPAREN,s=this.parseUnaryExpression();if(this.lookahead.type!==TokenType$1.EXP)return s;if(s.type==="UnaryExpression"&&!r)throw this.createError(ErrorMessages$1.INVALID_EXPONENTIATION_LHS);this.lex(),this.isBindingElement=this.isAssignmentTarget=!1;let a=this.isolateCoverGrammar(this.parseExponentiationExpression);return this.finishNode(new AST.BinaryExpression({left:s,operator:"**",right:a}),e)}parseUnaryExpression(){if(this.lookahead.type.klass!==TokenClass$1.Punctuator&&this.lookahead.type.klass!==TokenClass$1.Keyword)return this.parseUpdateExpression();let e=this.startNode();if(this.allowAwaitExpression&&this.eat(TokenType$1.AWAIT)){this.isBindingElement=this.isAssignmentTarget=!1;let a=this.isolateCoverGrammar(this.parseUnaryExpression);return this.finishNode(new AST.AwaitExpression({expression:a}),e)}let r=this.lookahead;if(!isPrefixOperator(r))return this.parseUpdateExpression();this.lex(),this.isBindingElement=this.isAssignmentTarget=!1;let s;if(isUpdateOperator(r)){let a=this.getLocation(),o=this.isolateCoverGrammar(this.parseUnaryExpression);if(!isValidSimpleAssignmentTarget(o))throw this.createErrorWithLocation(a,ErrorMessages$1.INVALID_UPDATE_OPERAND);o=this.transformDestructuring(o),s=new AST.UpdateExpression({isPrefix:!0,operator:r.value,operand:o})}else{let a=this.isolateCoverGrammar(this.parseUnaryExpression);s=new AST.UnaryExpression({operator:r.value,operand:a})}return this.finishNode(s,e)}parseUpdateExpression(){let e=this.getLocation(),r=this.startNode(),s=this.parseLeftHandSideExpression({allowCall:!0});if(this.firstExprError||this.hasLineTerminatorBeforeNext)return s;let a=this.lookahead;if(!isUpdateOperator(a))return s;if(this.lex(),this.isBindingElement=this.isAssignmentTarget=!1,!isValidSimpleAssignmentTarget(s))throw this.createErrorWithLocation(e,ErrorMessages$1.INVALID_UPDATE_OPERAND);return s=this.transformDestructuring(s),this.finishNode(new AST.UpdateExpression({isPrefix:!1,operator:a.value,operand:s}),r)}parseLeftHandSideExpression({allowCall:e}){let r=this.startNode(),s=this.allowIn;this.allowIn=!0;let a,o=this.lookahead;if(this.eat(TokenType$1.SUPER))if(this.isBindingElement=!1,this.isAssignmentTarget=!1,a=this.finishNode(new AST.Super,r),this.match(TokenType$1.LPAREN))if(e)a=this.finishNode(new AST.CallExpression({callee:a,arguments:this.parseArgumentList().args}),r);else throw this.createUnexpected(o);else if(this.match(TokenType$1.LBRACK))a=this.finishNode(new AST.ComputedMemberExpression({object:a,expression:this.parseComputedMember()}),r),this.isAssignmentTarget=!0;else if(this.match(TokenType$1.PERIOD))a=this.finishNode(new AST.StaticMemberExpression({object:a,property:this.parseStaticMember()}),r),this.isAssignmentTarget=!0;else throw this.createUnexpected(o);else if(this.match(TokenType$1.NEW))this.isBindingElement=this.isAssignmentTarget=!1,a=this.parseNewExpression();else if(this.match(TokenType$1.ASYNC)){if(a=this.parsePrimaryExpression(),a.type==="IdentifierExpression"&&e&&!this.hasLineTerminatorBeforeNext){if(this.matchIdentifier()){let u=this.startNode(),l=this.allowAwaitExpression;this.allowAwaitExpression=!0;let c=this.parseBindingIdentifier();return this.allowAwaitExpression=l,this.ensureArrow(),this.finishNode({type:ARROW_EXPRESSION_PARAMS,params:[c],rest:null,isAsync:!0},u)}if(this.match(TokenType$1.LPAREN)){let u=this.startNode(),l=this.firstAwaitLocation;this.firstAwaitLocation=null;let{args:c,locationFollowingFirstSpread:h}=this.parseArgumentList();if(this.isBindingElement&&!this.hasLineTerminatorBeforeNext&&this.match(TokenType$1.ARROW)){if(h!==null)throw this.createErrorWithLocation(h,ErrorMessages$1.UNEXPECTED_TOKEN(","));if(this.firstAwaitLocation!==null)throw this.createErrorWithLocation(this.firstAwaitLocation,ErrorMessages$1.NO_AWAIT_IN_ASYNC_PARAMS);let f=null;if(c.length>0&&c[c.length-1].type==="SpreadElement"){if(f=this.targetToBinding(this.transformDestructuringWithDefault(c[c.length-1].expression)),f.init!=null)throw this.createError(ErrorMessages$1.UNEXPECTED_REST_PARAMETERS_INITIALIZATION);c=c.slice(0,-1)}let d=c.map(m=>this.targetToBinding(this.transformDestructuringWithDefault(m)));return this.finishNode({type:ARROW_EXPRESSION_PARAMS,params:d,rest:f,isAsync:!0},u)}this.firstAwaitLocation=l||this.firstAwaitLocation,this.isBindingElement=this.isAssignmentTarget=!1,a=this.finishNode(new AST.CallExpression({callee:a,arguments:c}),r)}}}else if(a=this.parsePrimaryExpression(),this.firstExprError)return a;for(;;)if(e&&this.match(TokenType$1.LPAREN))this.isBindingElement=this.isAssignmentTarget=!1,a=this.finishNode(new AST.CallExpression({callee:a,arguments:this.parseArgumentList().args}),r);else if(this.match(TokenType$1.LBRACK))this.isBindingElement=!1,this.isAssignmentTarget=!0,a=this.finishNode(new AST.ComputedMemberExpression({object:a,expression:this.parseComputedMember()}),r);else if(this.match(TokenType$1.PERIOD))this.isBindingElement=!1,this.isAssignmentTarget=!0,a=this.finishNode(new AST.StaticMemberExpression({object:a,property:this.parseStaticMember()}),r);else if(this.match(TokenType$1.TEMPLATE))this.isBindingElement=this.isAssignmentTarget=!1,a=this.finishNode(new AST.TemplateExpression({tag:a,elements:this.parseTemplateElements()}),r);else break;return this.allowIn=s,a}parseTemplateElements(){let e=this.startNode(),r=this.lookahead;if(r.tail)return this.lex(),[this.finishNode(new AST.TemplateElement({rawValue:r.slice.text.slice(1,-1)}),e)];let s=[this.finishNode(new AST.TemplateElement({rawValue:this.lex().slice.text.slice(1,-2)}),e)];for(;;){if(s.push(this.parseExpression()),!this.match(TokenType$1.RBRACE))throw this.createILLEGAL();if(this.index=this.startIndex,this.line=this.startLine,this.lineStart=this.startLineStart,this.lookahead=this.scanTemplateElement(),e=this.startNode(),r=this.lex(),r.tail)return s.push(this.finishNode(new AST.TemplateElement({rawValue:r.slice.text.slice(1,-1)}),e)),s;s.push(this.finishNode(new AST.TemplateElement({rawValue:r.slice.text.slice(1,-2)}),e))}}parseStaticMember(){if(this.lex(),this.lookahead.type.klass.isIdentifierName)return this.lex().value;throw this.createUnexpected(this.lookahead)}parseComputedMember(){this.lex();let e=this.parseExpression();return this.expect(TokenType$1.RBRACK),e}parseNewExpression(){let e=this.startNode();if(this.lex(),this.eat(TokenType$1.PERIOD))return this.expectContextualKeyword("target"),this.finishNode(new AST.NewTargetExpression,e);let r=this.isolateCoverGrammar(()=>this.parseLeftHandSideExpression({allowCall:!1}));return this.finishNode(new AST.NewExpression({callee:r,arguments:this.match(TokenType$1.LPAREN)?this.parseArgumentList().args:[]}),e)}parseRegexFlags(e){let r=!1,s=!1,a=!1,o=!1,u=!1,l=!1;for(let c=0;c<e.length;++c){let h=e[c];switch(h){case"g":if(r)throw this.createError("Duplicate regular expression flag 'g'");r=!0;break;case"i":if(s)throw this.createError("Duplicate regular expression flag 'i'");s=!0;break;case"m":if(a)throw this.createError("Duplicate regular expression flag 'm'");a=!0;break;case"u":if(o)throw this.createError("Duplicate regular expression flag 'u'");o=!0;break;case"y":if(u)throw this.createError("Duplicate regular expression flag 'y'");u=!0;break;case"s":if(l)throw this.createError("Duplicate regular expression flag 's'");l=!0;break;default:throw this.createError(`Invalid regular expression flag '${h}'`)}}return{global:r,ignoreCase:s,multiLine:a,unicode:o,sticky:u,dotAll:l}}parsePrimaryExpression(){if(this.match(TokenType$1.LPAREN))return this.parseGroupExpression();let e=this.startNode();if(this.eat(TokenType$1.ASYNC))return!this.hasLineTerminatorBeforeNext&&this.match(TokenType$1.FUNCTION)?(this.isBindingElement=this.isAssignmentTarget=!1,this.finishNode(this.parseFunction({isExpr:!0,inDefault:!1,allowGenerator:!0,isAsync:!0}),e)):this.finishNode(new AST.IdentifierExpression({name:"async"}),e);if(this.matchIdentifier())return this.finishNode(new AST.IdentifierExpression({name:this.parseIdentifier()}),e);switch(this.lookahead.type){case TokenType$1.STRING:return this.isBindingElement=this.isAssignmentTarget=!1,this.parseStringLiteral();case TokenType$1.NUMBER:return this.isBindingElement=this.isAssignmentTarget=!1,this.parseNumericLiteral();case TokenType$1.THIS:return this.lex(),this.isBindingElement=this.isAssignmentTarget=!1,this.finishNode(new AST.ThisExpression,e);case TokenType$1.FUNCTION:return this.isBindingElement=this.isAssignmentTarget=!1,this.finishNode(this.parseFunction({isExpr:!0,inDefault:!1,allowGenerator:!0,isAsync:!1}),e);case TokenType$1.TRUE:return this.lex(),this.isBindingElement=this.isAssignmentTarget=!1,this.finishNode(new AST.LiteralBooleanExpression({value:!0}),e);case TokenType$1.FALSE:return this.lex(),this.isBindingElement=this.isAssignmentTarget=!1,this.finishNode(new AST.LiteralBooleanExpression({value:!1}),e);case TokenType$1.NULL:return this.lex(),this.isBindingElement=this.isAssignmentTarget=!1,this.finishNode(new AST.LiteralNullExpression,e);case TokenType$1.LBRACK:return this.parseArrayExpression();case TokenType$1.LBRACE:return this.parseObjectExpression();case TokenType$1.TEMPLATE:return this.isBindingElement=this.isAssignmentTarget=!1,this.finishNode(new AST.TemplateExpression({tag:null,elements:this.parseTemplateElements()}),e);case TokenType$1.DIV:case TokenType$1.ASSIGN_DIV:{this.isBindingElement=this.isAssignmentTarget=!1,this.lookahead=this.scanRegExp(this.match(TokenType$1.DIV)?"/":"/=");let r=this.lex(),s=r.value.lastIndexOf("/"),a=r.value.slice(1,s),o=r.value.slice(s+1),u=this.parseRegexFlags(o);if(!acceptRegex(a,u))throw this.createError(ErrorMessages$1.INVALID_REGEX);return u.pattern=a,this.finishNode(new AST.LiteralRegExpExpression(u),e)}case TokenType$1.CLASS:return this.isBindingElement=this.isAssignmentTarget=!1,this.parseClass({isExpr:!0,inDefault:!1});default:throw this.createUnexpected(this.lookahead)}}parseNumericLiteral(){let e=this.getLocation(),r=this.startNode(),s=this.lex();if(s.octal&&this.strict)throw s.noctal?this.createErrorWithLocation(e,"Unexpected noctal integer literal"):this.createErrorWithLocation(e,"Unexpected legacy octal integer literal");let a=s.value===1/0?new AST.LiteralInfinityExpression:new AST.LiteralNumericExpression({value:s.value});return this.finishNode(a,r)}parseStringLiteral(){let e=this.getLocation(),r=this.startNode(),s=this.lex();if(s.octal!=null&&this.strict)throw this.createErrorWithLocation(e,"Unexpected legacy octal escape sequence: \\"+s.octal);return this.finishNode(new AST.LiteralStringExpression({value:s.str}),r)}parseIdentifierName(){if(this.lookahead.type.klass.isIdentifierName)return this.lex().value;throw this.createUnexpected(this.lookahead)}parseBindingIdentifier(){let e=this.startNode();return this.finishNode(new AST.BindingIdentifier({name:this.parseIdentifier()}),e)}parseIdentifier(){if(this.lookahead.value==="yield"&&this.allowYieldExpression)throw this.createError(ErrorMessages$1.ILLEGAL_YIELD_IDENTIFIER);if(this.lookahead.value==="await"&&this.allowAwaitExpression)throw this.createError(ErrorMessages$1.ILLEGAL_AWAIT_IDENTIFIER);if(this.matchIdentifier())return this.lex().value;throw this.createUnexpected(this.lookahead)}parseArgumentList(){this.lex();let e=this.parseArguments();return this.expect(TokenType$1.RPAREN),e}parseArguments(){let e=[],r=null;for(;!this.match(TokenType$1.RPAREN);){let s,a=this.startNode();if(this.eat(TokenType$1.ELLIPSIS)){if(s=this.finishNode(new AST.SpreadElement({expression:this.inheritCoverGrammar(this.parseAssignmentExpressionOrTarget)}),a),r===null){if(e.push(s),this.match(TokenType$1.RPAREN))break;r=this.getLocation(),this.expect(TokenType$1.COMMA);continue}}else s=this.inheritCoverGrammar(this.parseAssignmentExpressionOrTarget);if(e.push(s),this.match(TokenType$1.RPAREN))break;this.expect(TokenType$1.COMMA)}return{args:e,locationFollowingFirstSpread:r}}ensureArrow(){if(this.hasLineTerminatorBeforeNext)throw this.createError(ErrorMessages$1.UNEXPECTED_LINE_TERMINATOR);this.match(TokenType$1.ARROW)||this.expect(TokenType$1.ARROW)}parseGroupExpression(){let e=null,r=this.startNode(),s=this.expect(TokenType$1.LPAREN),a=this.startNode();if(this.match(TokenType$1.RPAREN)){this.lex();let l=this.finishNode({type:ARROW_EXPRESSION_PARAMS,params:[],rest:null,isAsync:!1},r);return this.ensureArrow(),this.isBindingElement=this.isAssignmentTarget=!1,l}else if(this.eat(TokenType$1.ELLIPSIS)){if(e=this.parseBindingTarget(),this.match(TokenType$1.ASSIGN))throw this.createError(ErrorMessages$1.INVALID_REST_PARAMETERS_INITIALIZATION);if(this.match(TokenType$1.COMMA))throw this.createError(ErrorMessages$1.INVALID_LAST_REST_PARAMETER);this.expect(TokenType$1.RPAREN);let l=this.finishNode({type:ARROW_EXPRESSION_PARAMS,params:[],rest:e,isAsync:!1},r);return this.ensureArrow(),this.isBindingElement=this.isAssignmentTarget=!1,l}let o=this.inheritCoverGrammar(this.parseAssignmentExpressionOrTarget),u=this.isBindingElement?[this.targetToBinding(this.transformDestructuringWithDefault(o))]:null;for(;this.eat(TokenType$1.COMMA);){if(this.match(TokenType$1.RPAREN)){if(!this.isBindingElement)throw this.createUnexpected(this.lookahead);this.firstExprError=this.firstExprError||this.createUnexpected(this.lookahead),o=null;break}if(this.isAssignmentTarget=!1,this.match(TokenType$1.ELLIPSIS)){if(!this.isBindingElement)throw this.createUnexpected(this.lookahead);if(this.lex(),e=this.parseBindingTarget(),this.match(TokenType$1.ASSIGN))throw this.createError(ErrorMessages$1.INVALID_REST_PARAMETERS_INITIALIZATION);if(this.match(TokenType$1.COMMA))throw this.createError(ErrorMessages$1.INVALID_LAST_REST_PARAMETER);break}if(o){let l=this.inheritCoverGrammar(this.parseAssignmentExpressionOrTarget);this.isBindingElement?u.push(this.targetToBinding(this.transformDestructuringWithDefault(l))):u=null,this.firstExprError?o=null:o=this.finishNode(new AST.BinaryExpression({left:o,operator:",",right:l}),a)}else{let l=this.parseBindingElement();u.push(l)}}if(this.expect(TokenType$1.RPAREN),!this.hasLineTerminatorBeforeNext&&this.match(TokenType$1.ARROW)){if(!this.isBindingElement)throw this.createErrorWithLocation(s,ErrorMessages$1.ILLEGAL_ARROW_FUNCTION_PARAMS);return this.isBindingElement=!1,this.finishNode({type:ARROW_EXPRESSION_PARAMS,params:u,rest:e,isAsync:!1},r)}return e&&this.ensureArrow(),this.isBindingElement=!1,isValidSimpleAssignmentTarget(o)||(this.isAssignmentTarget=!1),o}parseArrayExpression(){let e=this.getLocation(),r=this.startNode();this.lex();let s=[],a=null;for(;!this.match(TokenType$1.RBRACK);)if(this.eat(TokenType$1.COMMA))s.push(null);else{let o=this.startNode(),u;if(this.eat(TokenType$1.ELLIPSIS)){if(u=this.inheritCoverGrammar(this.parseAssignmentExpressionOrTarget),!this.isAssignmentTarget&&this.firstExprError)throw this.firstExprError;if(u.type==="ArrayAssignmentTarget"||u.type==="ObjectAssignmentTarget"){a=u;break}u.type!=="ArrayExpression"&&u.type!=="ObjectExpression"&&!isValidSimpleAssignmentTarget(u)&&(this.isBindingElement=this.isAssignmentTarget=!1),u=this.finishNode(new AST.SpreadElement({expression:u}),o),this.match(TokenType$1.RBRACK)||(this.isBindingElement=this.isAssignmentTarget=!1)}else if(u=this.inheritCoverGrammar(this.parseAssignmentExpressionOrTarget),!this.isAssignmentTarget&&this.firstExprError)throw this.firstExprError;s.push(u),this.match(TokenType$1.RBRACK)||this.expect(TokenType$1.COMMA)}if(a&&this.match(TokenType$1.COMMA))throw this.createErrorWithLocation(e,ErrorMessages$1.UNEXPECTED_COMMA_AFTER_REST);if(this.expect(TokenType$1.RBRACK),a)return this.finishNode(new AST.ArrayAssignmentTarget({elements:s.map(o=>o&&this.transformDestructuringWithDefault(o)),rest:a}),r);if(this.firstExprError){let o=s[s.length-1];return o!=null&&o.type==="SpreadElement"?this.finishNode(new AST.ArrayAssignmentTarget({elements:s.slice(0,-1).map(u=>u&&this.transformDestructuringWithDefault(u)),rest:this.transformDestructuring(o.expression)}),r):this.finishNode(new AST.ArrayAssignmentTarget({elements:s.map(u=>u&&this.transformDestructuringWithDefault(u)),rest:null}),r)}return this.finishNode(new AST.ArrayExpression({elements:s}),r)}parseObjectExpression(){let e=this.startNode();this.lex();let r=[];for(;!this.match(TokenType$1.RBRACE);){let s=!1;if(this.match(TokenType$1.ELLIPSIS)){s=!0;let a=this.parseSpreadPropertyDefinition();r.push(a)}else{let a=this.inheritCoverGrammar(this.parsePropertyDefinition);r.push(a)}this.match(TokenType$1.RBRACE)||(this.expect(TokenType$1.COMMA),s&&(this.isBindingElement=this.isAssignmentTarget=!1))}if(this.expect(TokenType$1.RBRACE),this.firstExprError){if(!this.isAssignmentTarget)throw this.createError(ErrorMessages$1.INVALID_LHS_IN_BINDING);let s=r[r.length-1];return s!=null&&s.type==="SpreadProperty"?this.finishNode(new AST.ObjectAssignmentTarget({properties:r.slice(0,-1).map(a=>this.transformDestructuringWithDefault(a)),rest:this.transformDestructuring(s.expression)}),e):this.finishNode(new AST.ObjectAssignmentTarget({properties:r.map(a=>this.transformDestructuringWithDefault(a)),rest:null}),e)}return this.finishNode(new AST.ObjectExpression({properties:r}),e)}parseSpreadPropertyDefinition(){let e=this.startNode();this.expect(TokenType$1.ELLIPSIS);let r=this.parseAssignmentExpression();return isValidSimpleAssignmentTarget(r)?r.type!=="IdentifierExpression"&&(this.isBindingElement=!1):this.isBindingElement=this.isAssignmentTarget=!1,this.finishNode(new AST.SpreadProperty({expression:r}),e)}parsePropertyDefinition(){let e=this.getLocation(),r=this.startNode(),s=this.lookahead,{methodOrKey:a,kind:o}=this.parseMethodDefinition();switch(o){case"method":return this.isBindingElement=this.isAssignmentTarget=!1,a;case"identifier":if(s.value==="await"&&this.firstAwaitLocation==null&&(this.firstAwaitLocation=this.getLocation()),this.eat(TokenType$1.ASSIGN)){if(this.allowYieldExpression&&s.value==="yield")throw this.createError(ErrorMessages$1.ILLEGAL_YIELD_IDENTIFIER);if(this.allowAwaitExpression&&s.value==="await")throw this.createError(ErrorMessages$1.ILLEGAL_AWAIT_IDENTIFIER);let l=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.firstExprError=this.createErrorWithLocation(e,ErrorMessages$1.ILLEGAL_PROPERTY),this.finishNode(new AST.AssignmentTargetPropertyIdentifier({binding:this.transformDestructuring(a),init:l}),r)}else if(!this.match(TokenType$1.COLON)){if(this.allowYieldExpression&&s.value==="yield")throw this.createError(ErrorMessages$1.ILLEGAL_YIELD_IDENTIFIER);if(this.allowAwaitExpression&&s.value==="await")throw this.createError(ErrorMessages$1.ILLEGAL_AWAIT_IDENTIFIER);if(s.type===TokenType$1.IDENTIFIER||s.value==="let"||s.value==="yield"||s.value==="async"||s.value==="await")return this.finishNode(new AST.ShorthandProperty({name:this.finishNode(new AST.IdentifierExpression({name:a.value}),r)}),r);throw this.createUnexpected(s)}}this.expect(TokenType$1.COLON);let u=this.inheritCoverGrammar(this.parseAssignmentExpressionOrTarget);return this.firstExprError?this.finishNode(new AST.AssignmentTargetPropertyProperty({name:a,binding:u}),r):this.finishNode(new AST.DataProperty({name:a,expression:u}),r)}parsePropertyName(){let e=this.lookahead,r=this.startNode();if(this.eof())throw this.createUnexpected(e);switch(e.type){case TokenType$1.STRING:return{name:this.finishNode(new AST.StaticPropertyName({value:this.parseStringLiteral().value}),r),binding:null};case TokenType$1.NUMBER:{let a=this.parseNumericLiteral();return{name:this.finishNode(new AST.StaticPropertyName({value:`${a.type==="LiteralInfinityExpression"?1/0:a.value}`}),r),binding:null}}case TokenType$1.LBRACK:{this.lex();let a=this.parseAssignmentExpression();return this.expect(TokenType$1.RBRACK),{name:this.finishNode(new AST.ComputedPropertyName({expression:a}),r),binding:null}}}let s=this.parseIdentifierName();return{name:this.finishNode(new AST.StaticPropertyName({value:s}),r),binding:this.finishNode(new AST.BindingIdentifier({name:s}),r)}}lookaheadPropertyName(){switch(this.lookahead.type){case TokenType$1.NUMBER:case TokenType$1.STRING:case TokenType$1.LBRACK:return!0;default:return this.lookahead.type.klass.isIdentifierName}}parseMethodDefinition(){let e=this.lookahead,r=this.startNode(),s=this.saveLexerState(),a=!!this.eat(TokenType$1.ASYNC);a&&this.hasLineTerminatorBeforeNext&&(a=!1,this.restoreLexerState(s));let o=!!this.eat(TokenType$1.MUL);a&&!this.lookaheadPropertyName()&&(a=!1,o=!1,this.restoreLexerState(s));let{name:u}=this.parsePropertyName();if(!o&&!a&&e.type===TokenType$1.IDENTIFIER&&e.value.length===3){if(e.value==="get"&&this.lookaheadPropertyName()&&!e.escaped){({name:u}=this.parsePropertyName()),this.expect(TokenType$1.LPAREN),this.expect(TokenType$1.RPAREN);let l=this.allowYieldExpression,c=this.allowAwaitExpression,h=this.firstAwaitLocation;this.allowYieldExpression=!1,this.allowAwaitExpression=!1,this.firstAwaitLocation=null;let f=this.parseFunctionBody();return this.allowYieldExpression=l,this.allowAwaitExpression=c,this.firstAwaitLocation=h,{methodOrKey:this.finishNode(new AST.Getter({name:u,body:f}),r),kind:"method"}}else if(e.value==="set"&&this.lookaheadPropertyName()&&!e.escaped){({name:u}=this.parsePropertyName()),this.expect(TokenType$1.LPAREN);let l=this.allowYieldExpression,c=this.allowAwaitExpression,h=this.firstAwaitLocation;this.allowYieldExpression=!1,this.allowAwaitExpression=!1,this.firstAwaitLocation=null;let f=this.parseBindingElement();this.expect(TokenType$1.RPAREN);let d=this.parseFunctionBody();return this.allowYieldExpression=l,this.allowAwaitExpression=c,this.firstAwaitLocation=h,{methodOrKey:this.finishNode(new AST.Setter({name:u,param:f,body:d}),r),kind:"method"}}}if(a){let l=this.allowYieldExpression,c=this.allowAwaitExpression;this.allowYieldExpression=o,this.allowAwaitExpression=!0;let h=this.parseParams();this.allowYieldExpression=o,this.allowAwaitExpression=!0;let f=this.parseFunctionBody();return this.allowYieldExpression=l,this.allowAwaitExpression=c,{methodOrKey:this.finishNode(new AST.Method({isAsync:a,isGenerator:o,name:u,params:h,body:f}),r),kind:"method"}}if(this.match(TokenType$1.LPAREN)){let l=this.allowYieldExpression,c=this.allowAwaitExpression,h=this.firstAwaitLocation;this.allowYieldExpression=o,this.allowAwaitExpression=!1,this.firstAwaitLocation=null;let f=this.parseParams(),d=this.parseFunctionBody();return this.allowYieldExpression=l,this.allowAwaitExpression=c,this.firstAwaitLocation=h,{methodOrKey:this.finishNode(new AST.Method({isAsync:a,isGenerator:o,name:u,params:f,body:d}),r),kind:"method"}}if(o&&this.match(TokenType$1.COLON))throw this.createUnexpected(this.lookahead);return{methodOrKey:u,kind:e.type.klass.isIdentifierName?"identifier":"property",escaped:e.escaped}}parseClass({isExpr:e,inDefault:r}){let s=this.startNode();this.lex();let a=null,o=null;if(this.matchIdentifier())a=this.parseBindingIdentifier();else if(!e)if(r)a=new AST.BindingIdentifier({name:"*default*"});else throw this.createUnexpected(this.lookahead);this.eat(TokenType$1.EXTENDS)&&(o=this.isolateCoverGrammar(()=>this.parseLeftHandSideExpression({allowCall:!0}))),this.expect(TokenType$1.LBRACE);let u=[];for(;!this.eat(TokenType$1.RBRACE);){if(this.eat(TokenType$1.SEMICOLON))continue;let l=!1,c=this.startNode(),{methodOrKey:h,kind:f,escaped:d}=this.parseMethodDefinition();if(f==="identifier"&&h.value==="static"&&!d&&(l=!0,{methodOrKey:h,kind:f}=this.parseMethodDefinition()),f==="method")u.push(this.finishNode(new AST.ClassElement({isStatic:l,method:h}),c));else throw this.createError("Only methods are allowed in classes")}return this.finishNode(new(e?AST.ClassExpression:AST.ClassDeclaration)({name:a,super:o,elements:u}),s)}parseFunction({isExpr:e,inDefault:r,allowGenerator:s,isAsync:a,startState:o=this.startNode()}){this.lex();let u=null,l=s&&!!this.eat(TokenType$1.MUL),c=this.allowYieldExpression,h=this.allowAwaitExpression,f=this.firstAwaitLocation;if(e&&(this.allowYieldExpression=l,this.allowAwaitExpression=a),!this.match(TokenType$1.LPAREN))u=this.parseBindingIdentifier();else if(!e)if(r)u=new AST.BindingIdentifier({name:"*default*"});else throw this.createUnexpected(this.lookahead);this.allowYieldExpression=l,this.allowAwaitExpression=a,this.firstAwaitLocation=null;let d=this.parseParams(),m=this.parseFunctionBody();return this.allowYieldExpression=c,this.allowAwaitExpression=h,this.firstAwaitLocation=f,this.finishNode(new(e?AST.FunctionExpression:AST.FunctionDeclaration)({isAsync:a,isGenerator:l,name:u,params:d,body:m}),o)}parseArrayBinding(){let e=this.startNode();this.expect(TokenType$1.LBRACK);let r=[],s=null;for(;!this.match(TokenType$1.RBRACK);){let a;if(this.eat(TokenType$1.COMMA))a=null;else{if(this.eat(TokenType$1.ELLIPSIS)){s=this.parseBindingTarget();break}else a=this.parseBindingElement();this.match(TokenType$1.RBRACK)||this.expect(TokenType$1.COMMA)}r.push(a)}return this.expect(TokenType$1.RBRACK),this.finishNode(new AST.ArrayBinding({elements:r,rest:s}),e)}parseBindingProperty(){let e=this.startNode(),r=this.matchIdentifier(),s=this.lookahead,{name:a,binding:o}=this.parsePropertyName();if(r&&a.type==="StaticPropertyName"&&!this.match(TokenType$1.COLON)){if(this.allowYieldExpression&&s.value==="yield")throw this.createError(ErrorMessages$1.ILLEGAL_YIELD_IDENTIFIER);if(this.allowAwaitExpression&&s.value==="await")throw this.createError(ErrorMessages$1.ILLEGAL_AWAIT_IDENTIFIER);let u=null;return this.eat(TokenType$1.ASSIGN)&&(u=this.parseAssignmentExpression()),this.finishNode(new AST.BindingPropertyIdentifier({binding:o,init:u}),e)}return this.expect(TokenType$1.COLON),o=this.parseBindingElement(),this.finishNode(new AST.BindingPropertyProperty({name:a,binding:o}),e)}parseObjectBinding(){let e=this.startNode();this.expect(TokenType$1.LBRACE);let r=[],s=null;for(;!this.match(TokenType$1.RBRACE);){if(this.eat(TokenType$1.ELLIPSIS)){s=this.parseBindingIdentifier();break}r.push(this.parseBindingProperty()),this.match(TokenType$1.RBRACE)||this.expect(TokenType$1.COMMA)}return this.expect(TokenType$1.RBRACE),this.finishNode(new AST.ObjectBinding({properties:r,rest:s}),e)}parseBindingTarget(){if(this.matchIdentifier())return this.parseBindingIdentifier();switch(this.lookahead.type){case TokenType$1.LBRACK:return this.parseArrayBinding();case TokenType$1.LBRACE:return this.parseObjectBinding()}throw this.createUnexpected(this.lookahead)}parseBindingElement(){let e=this.startNode(),r=this.parseBindingTarget();if(this.eat(TokenType$1.ASSIGN)){let s=this.parseAssignmentExpression();r=this.finishNode(new AST.BindingWithDefault({binding:r,init:s}),e)}return r}parseParam(){let e=this.inParameter;this.inParameter=!0;let r=this.parseBindingElement();return this.inParameter=e,r}parseParams(){let e=this.startNode();this.expect(TokenType$1.LPAREN);let r=[],s=null;for(;!this.match(TokenType$1.RPAREN);){if(this.eat(TokenType$1.ELLIPSIS)){if(s=this.parseBindingTarget(),this.lookahead.type===TokenType$1.ASSIGN)throw this.createError(ErrorMessages$1.UNEXPECTED_REST_PARAMETERS_INITIALIZATION);if(this.match(TokenType$1.COMMA))throw this.createError(ErrorMessages$1.UNEXPECTED_COMMA_AFTER_REST);break}if(r.push(this.parseParam()),this.match(TokenType$1.RPAREN))break;this.expect(TokenType$1.COMMA)}return this.expect(TokenType$1.RPAREN),this.finishNode(new AST.FormalParameters({items:r,rest:s}),e)}};var parser={GenericParser:GenericParser$1};const director={ArrayAssignmentTarget(n,e){return n.reduceArrayAssignmentTarget(e,{elements:e.elements.map(r=>r&&this[r.type](n,r)),rest:e.rest&&this[e.rest.type](n,e.rest)})},ArrayBinding(n,e){return n.reduceArrayBinding(e,{elements:e.elements.map(r=>r&&this[r.type](n,r)),rest:e.rest&&this[e.rest.type](n,e.rest)})},ArrayExpression(n,e){return n.reduceArrayExpression(e,{elements:e.elements.map(r=>r&&this[r.type](n,r))})},ArrowExpression(n,e){return n.reduceArrowExpression(e,{params:this.FormalParameters(n,e.params),body:this[e.body.type](n,e.body)})},AssignmentExpression(n,e){return n.reduceAssignmentExpression(e,{binding:this[e.binding.type](n,e.binding),expression:this[e.expression.type](n,e.expression)})},AssignmentTargetIdentifier(n,e){return n.reduceAssignmentTargetIdentifier(e)},AssignmentTargetPropertyIdentifier(n,e){return n.reduceAssignmentTargetPropertyIdentifier(e,{binding:this.AssignmentTargetIdentifier(n,e.binding),init:e.init&&this[e.init.type](n,e.init)})},AssignmentTargetPropertyProperty(n,e){return n.reduceAssignmentTargetPropertyProperty(e,{name:this[e.name.type](n,e.name),binding:this[e.binding.type](n,e.binding)})},AssignmentTargetWithDefault(n,e){return n.reduceAssignmentTargetWithDefault(e,{binding:this[e.binding.type](n,e.binding),init:this[e.init.type](n,e.init)})},AwaitExpression(n,e){return n.reduceAwaitExpression(e,{expression:this[e.expression.type](n,e.expression)})},BinaryExpression(n,e){return n.reduceBinaryExpression(e,{left:this[e.left.type](n,e.left),right:this[e.right.type](n,e.right)})},BindingIdentifier(n,e){return n.reduceBindingIdentifier(e)},BindingPropertyIdentifier(n,e){return n.reduceBindingPropertyIdentifier(e,{binding:this.BindingIdentifier(n,e.binding),init:e.init&&this[e.init.type](n,e.init)})},BindingPropertyProperty(n,e){return n.reduceBindingPropertyProperty(e,{name:this[e.name.type](n,e.name),binding:this[e.binding.type](n,e.binding)})},BindingWithDefault(n,e){return n.reduceBindingWithDefault(e,{binding:this[e.binding.type](n,e.binding),init:this[e.init.type](n,e.init)})},Block(n,e){return n.reduceBlock(e,{statements:e.statements.map(r=>this[r.type](n,r))})},BlockStatement(n,e){return n.reduceBlockStatement(e,{block:this.Block(n,e.block)})},BreakStatement(n,e){return n.reduceBreakStatement(e)},CallExpression(n,e){return n.reduceCallExpression(e,{callee:this[e.callee.type](n,e.callee),arguments:e.arguments.map(r=>this[r.type](n,r))})},CatchClause(n,e){return n.reduceCatchClause(e,{binding:e.binding&&this[e.binding.type](n,e.binding),body:this.Block(n,e.body)})},ClassDeclaration(n,e){return n.reduceClassDeclaration(e,{name:this.BindingIdentifier(n,e.name),super:e.super&&this[e.super.type](n,e.super),elements:e.elements.map(r=>this.ClassElement(n,r))})},ClassElement(n,e){return n.reduceClassElement(e,{method:this[e.method.type](n,e.method)})},ClassExpression(n,e){return n.reduceClassExpression(e,{name:e.name&&this.BindingIdentifier(n,e.name),super:e.super&&this[e.super.type](n,e.super),elements:e.elements.map(r=>this.ClassElement(n,r))})},CompoundAssignmentExpression(n,e){return n.reduceCompoundAssignmentExpression(e,{binding:this[e.binding.type](n,e.binding),expression:this[e.expression.type](n,e.expression)})},ComputedMemberAssignmentTarget(n,e){return n.reduceComputedMemberAssignmentTarget(e,{object:this[e.object.type](n,e.object),expression:this[e.expression.type](n,e.expression)})},ComputedMemberExpression(n,e){return n.reduceComputedMemberExpression(e,{object:this[e.object.type](n,e.object),expression:this[e.expression.type](n,e.expression)})},ComputedPropertyName(n,e){return n.reduceComputedPropertyName(e,{expression:this[e.expression.type](n,e.expression)})},ConditionalExpression(n,e){return n.reduceConditionalExpression(e,{test:this[e.test.type](n,e.test),consequent:this[e.consequent.type](n,e.consequent),alternate:this[e.alternate.type](n,e.alternate)})},ContinueStatement(n,e){return n.reduceContinueStatement(e)},DataProperty(n,e){return n.reduceDataProperty(e,{name:this[e.name.type](n,e.name),expression:this[e.expression.type](n,e.expression)})},DebuggerStatement(n,e){return n.reduceDebuggerStatement(e)},Directive(n,e){return n.reduceDirective(e)},DoWhileStatement(n,e){return n.reduceDoWhileStatement(e,{body:this[e.body.type](n,e.body),test:this[e.test.type](n,e.test)})},EmptyStatement(n,e){return n.reduceEmptyStatement(e)},Export(n,e){return n.reduceExport(e,{declaration:this[e.declaration.type](n,e.declaration)})},ExportAllFrom(n,e){return n.reduceExportAllFrom(e)},ExportDefault(n,e){return n.reduceExportDefault(e,{body:this[e.body.type](n,e.body)})},ExportFrom(n,e){return n.reduceExportFrom(e,{namedExports:e.namedExports.map(r=>this.ExportFromSpecifier(n,r))})},ExportFromSpecifier(n,e){return n.reduceExportFromSpecifier(e)},ExportLocalSpecifier(n,e){return n.reduceExportLocalSpecifier(e,{name:this.IdentifierExpression(n,e.name)})},ExportLocals(n,e){return n.reduceExportLocals(e,{namedExports:e.namedExports.map(r=>this.ExportLocalSpecifier(n,r))})},ExpressionStatement(n,e){return n.reduceExpressionStatement(e,{expression:this[e.expression.type](n,e.expression)})},ForAwaitStatement(n,e){return n.reduceForAwaitStatement(e,{left:this[e.left.type](n,e.left),right:this[e.right.type](n,e.right),body:this[e.body.type](n,e.body)})},ForInStatement(n,e){return n.reduceForInStatement(e,{left:this[e.left.type](n,e.left),right:this[e.right.type](n,e.right),body:this[e.body.type](n,e.body)})},ForOfStatement(n,e){return n.reduceForOfStatement(e,{left:this[e.left.type](n,e.left),right:this[e.right.type](n,e.right),body:this[e.body.type](n,e.body)})},ForStatement(n,e){return n.reduceForStatement(e,{init:e.init&&this[e.init.type](n,e.init),test:e.test&&this[e.test.type](n,e.test),update:e.update&&this[e.update.type](n,e.update),body:this[e.body.type](n,e.body)})},FormalParameters(n,e){return n.reduceFormalParameters(e,{items:e.items.map(r=>this[r.type](n,r)),rest:e.rest&&this[e.rest.type](n,e.rest)})},FunctionBody(n,e){return n.reduceFunctionBody(e,{directives:e.directives.map(r=>this.Directive(n,r)),statements:e.statements.map(r=>this[r.type](n,r))})},FunctionDeclaration(n,e){return n.reduceFunctionDeclaration(e,{name:this.BindingIdentifier(n,e.name),params:this.FormalParameters(n,e.params),body:this.FunctionBody(n,e.body)})},FunctionExpression(n,e){return n.reduceFunctionExpression(e,{name:e.name&&this.BindingIdentifier(n,e.name),params:this.FormalParameters(n,e.params),body:this.FunctionBody(n,e.body)})},Getter(n,e){return n.reduceGetter(e,{name:this[e.name.type](n,e.name),body:this.FunctionBody(n,e.body)})},IdentifierExpression(n,e){return n.reduceIdentifierExpression(e)},IfStatement(n,e){return n.reduceIfStatement(e,{test:this[e.test.type](n,e.test),consequent:this[e.consequent.type](n,e.consequent),alternate:e.alternate&&this[e.alternate.type](n,e.alternate)})},Import(n,e){return n.reduceImport(e,{defaultBinding:e.defaultBinding&&this.BindingIdentifier(n,e.defaultBinding),namedImports:e.namedImports.map(r=>this.ImportSpecifier(n,r))})},ImportNamespace(n,e){return n.reduceImportNamespace(e,{defaultBinding:e.defaultBinding&&this.BindingIdentifier(n,e.defaultBinding),namespaceBinding:this.BindingIdentifier(n,e.namespaceBinding)})},ImportSpecifier(n,e){return n.reduceImportSpecifier(e,{binding:this.BindingIdentifier(n,e.binding)})},LabeledStatement(n,e){return n.reduceLabeledStatement(e,{body:this[e.body.type](n,e.body)})},LiteralBooleanExpression(n,e){return n.reduceLiteralBooleanExpression(e)},LiteralInfinityExpression(n,e){return n.reduceLiteralInfinityExpression(e)},LiteralNullExpression(n,e){return n.reduceLiteralNullExpression(e)},LiteralNumericExpression(n,e){return n.reduceLiteralNumericExpression(e)},LiteralRegExpExpression(n,e){return n.reduceLiteralRegExpExpression(e)},LiteralStringExpression(n,e){return n.reduceLiteralStringExpression(e)},Method(n,e){return n.reduceMethod(e,{name:this[e.name.type](n,e.name),params:this.FormalParameters(n,e.params),body:this.FunctionBody(n,e.body)})},Module(n,e){return n.reduceModule(e,{directives:e.directives.map(r=>this.Directive(n,r)),items:e.items.map(r=>this[r.type](n,r))})},NewExpression(n,e){return n.reduceNewExpression(e,{callee:this[e.callee.type](n,e.callee),arguments:e.arguments.map(r=>this[r.type](n,r))})},NewTargetExpression(n,e){return n.reduceNewTargetExpression(e)},ObjectAssignmentTarget(n,e){return n.reduceObjectAssignmentTarget(e,{properties:e.properties.map(r=>this[r.type](n,r)),rest:e.rest&&this[e.rest.type](n,e.rest)})},ObjectBinding(n,e){return n.reduceObjectBinding(e,{properties:e.properties.map(r=>this[r.type](n,r)),rest:e.rest&&this.BindingIdentifier(n,e.rest)})},ObjectExpression(n,e){return n.reduceObjectExpression(e,{properties:e.properties.map(r=>this[r.type](n,r))})},ReturnStatement(n,e){return n.reduceReturnStatement(e,{expression:e.expression&&this[e.expression.type](n,e.expression)})},Script(n,e){return n.reduceScript(e,{directives:e.directives.map(r=>this.Directive(n,r)),statements:e.statements.map(r=>this[r.type](n,r))})},Setter(n,e){return n.reduceSetter(e,{name:this[e.name.type](n,e.name),param:this[e.param.type](n,e.param),body:this.FunctionBody(n,e.body)})},ShorthandProperty(n,e){return n.reduceShorthandProperty(e,{name:this.IdentifierExpression(n,e.name)})},SpreadElement(n,e){return n.reduceSpreadElement(e,{expression:this[e.expression.type](n,e.expression)})},SpreadProperty(n,e){return n.reduceSpreadProperty(e,{expression:this[e.expression.type](n,e.expression)})},StaticMemberAssignmentTarget(n,e){return n.reduceStaticMemberAssignmentTarget(e,{object:this[e.object.type](n,e.object)})},StaticMemberExpression(n,e){return n.reduceStaticMemberExpression(e,{object:this[e.object.type](n,e.object)})},StaticPropertyName(n,e){return n.reduceStaticPropertyName(e)},Super(n,e){return n.reduceSuper(e)},SwitchCase(n,e){return n.reduceSwitchCase(e,{test:this[e.test.type](n,e.test),consequent:e.consequent.map(r=>this[r.type](n,r))})},SwitchDefault(n,e){return n.reduceSwitchDefault(e,{consequent:e.consequent.map(r=>this[r.type](n,r))})},SwitchStatement(n,e){return n.reduceSwitchStatement(e,{discriminant:this[e.discriminant.type](n,e.discriminant),cases:e.cases.map(r=>this.SwitchCase(n,r))})},SwitchStatementWithDefault(n,e){return n.reduceSwitchStatementWithDefault(e,{discriminant:this[e.discriminant.type](n,e.discriminant),preDefaultCases:e.preDefaultCases.map(r=>this.SwitchCase(n,r)),defaultCase:this.SwitchDefault(n,e.defaultCase),postDefaultCases:e.postDefaultCases.map(r=>this.SwitchCase(n,r))})},TemplateElement(n,e){return n.reduceTemplateElement(e)},TemplateExpression(n,e){return n.reduceTemplateExpression(e,{tag:e.tag&&this[e.tag.type](n,e.tag),elements:e.elements.map(r=>this[r.type](n,r))})},ThisExpression(n,e){return n.reduceThisExpression(e)},ThrowStatement(n,e){return n.reduceThrowStatement(e,{expression:this[e.expression.type](n,e.expression)})},TryCatchStatement(n,e){return n.reduceTryCatchStatement(e,{body:this.Block(n,e.body),catchClause:this.CatchClause(n,e.catchClause)})},TryFinallyStatement(n,e){return n.reduceTryFinallyStatement(e,{body:this.Block(n,e.body),catchClause:e.catchClause&&this.CatchClause(n,e.catchClause),finalizer:this.Block(n,e.finalizer)})},UnaryExpression(n,e){return n.reduceUnaryExpression(e,{operand:this[e.operand.type](n,e.operand)})},UpdateExpression(n,e){return n.reduceUpdateExpression(e,{operand:this[e.operand.type](n,e.operand)})},VariableDeclaration(n,e){return n.reduceVariableDeclaration(e,{declarators:e.declarators.map(r=>this.VariableDeclarator(n,r))})},VariableDeclarationStatement(n,e){return n.reduceVariableDeclarationStatement(e,{declaration:this.VariableDeclaration(n,e.declaration)})},VariableDeclarator(n,e){return n.reduceVariableDeclarator(e,{binding:this[e.binding.type](n,e.binding),init:e.init&&this[e.init.type](n,e.init)})},WhileStatement(n,e){return n.reduceWhileStatement(e,{test:this[e.test.type](n,e.test),body:this[e.body.type](n,e.body)})},WithStatement(n,e){return n.reduceWithStatement(e,{object:this[e.object.type](n,e.object),body:this[e.body.type](n,e.body)})},YieldExpression(n,e){return n.reduceYieldExpression(e,{expression:e.expression&&this[e.expression.type](n,e.expression)})},YieldGeneratorExpression(n,e){return n.reduceYieldGeneratorExpression(e,{expression:this[e.expression.type](n,e.expression)})}};var director_1=function(e,r){return director[r.type](e,r)},monoidalReducer=class{constructor(e){let r=e.empty();this.identity=r;let s;if(e.prototype&&typeof e.prototype.concat=="function")s=Function.prototype.call.bind(e.prototype.concat);else if(typeof e.concat=="function")s=e.concat;else throw new TypeError("Monoid must provide a `concat` method");this.append=(...a)=>a.reduce(s,r)}reduceArrayAssignmentTarget(e,{elements:r,rest:s}){return this.append(...r.filter(a=>a!=null),s??this.identity)}reduceArrayBinding(e,{elements:r,rest:s}){return this.append(...r.filter(a=>a!=null),s??this.identity)}reduceArrayExpression(e,{elements:r}){return this.append(...r.filter(s=>s!=null))}reduceArrowExpression(e,{params:r,body:s}){return this.append(r,s)}reduceAssignmentExpression(e,{binding:r,expression:s}){return this.append(r,s)}reduceAssignmentTargetIdentifier(e){return this.identity}reduceAssignmentTargetPropertyIdentifier(e,{binding:r,init:s}){return this.append(r,s??this.identity)}reduceAssignmentTargetPropertyProperty(e,{name:r,binding:s}){return this.append(r,s)}reduceAssignmentTargetWithDefault(e,{binding:r,init:s}){return this.append(r,s)}reduceAwaitExpression(e,{expression:r}){return r}reduceBinaryExpression(e,{left:r,right:s}){return this.append(r,s)}reduceBindingIdentifier(e){return this.identity}reduceBindingPropertyIdentifier(e,{binding:r,init:s}){return this.append(r,s??this.identity)}reduceBindingPropertyProperty(e,{name:r,binding:s}){return this.append(r,s)}reduceBindingWithDefault(e,{binding:r,init:s}){return this.append(r,s)}reduceBlock(e,{statements:r}){return this.append(...r)}reduceBlockStatement(e,{block:r}){return r}reduceBreakStatement(e){return this.identity}reduceCallExpression(e,{callee:r,arguments:s}){return this.append(r,...s)}reduceCatchClause(e,{binding:r,body:s}){return this.append(r??this.identity,s)}reduceClassDeclaration(e,{name:r,super:s,elements:a}){return this.append(r,s??this.identity,...a)}reduceClassElement(e,{method:r}){return r}reduceClassExpression(e,{name:r,super:s,elements:a}){return this.append(r??this.identity,s??this.identity,...a)}reduceCompoundAssignmentExpression(e,{binding:r,expression:s}){return this.append(r,s)}reduceComputedMemberAssignmentTarget(e,{object:r,expression:s}){return this.append(r,s)}reduceComputedMemberExpression(e,{object:r,expression:s}){return this.append(r,s)}reduceComputedPropertyName(e,{expression:r}){return r}reduceConditionalExpression(e,{test:r,consequent:s,alternate:a}){return this.append(r,s,a)}reduceContinueStatement(e){return this.identity}reduceDataProperty(e,{name:r,expression:s}){return this.append(r,s)}reduceDebuggerStatement(e){return this.identity}reduceDirective(e){return this.identity}reduceDoWhileStatement(e,{body:r,test:s}){return this.append(r,s)}reduceEmptyStatement(e){return this.identity}reduceExport(e,{declaration:r}){return r}reduceExportAllFrom(e){return this.identity}reduceExportDefault(e,{body:r}){return r}reduceExportFrom(e,{namedExports:r}){return this.append(...r)}reduceExportFromSpecifier(e){return this.identity}reduceExportLocalSpecifier(e,{name:r}){return r}reduceExportLocals(e,{namedExports:r}){return this.append(...r)}reduceExpressionStatement(e,{expression:r}){return r}reduceForAwaitStatement(e,{left:r,right:s,body:a}){return this.append(r,s,a)}reduceForInStatement(e,{left:r,right:s,body:a}){return this.append(r,s,a)}reduceForOfStatement(e,{left:r,right:s,body:a}){return this.append(r,s,a)}reduceForStatement(e,{init:r,test:s,update:a,body:o}){return this.append(r??this.identity,s??this.identity,a??this.identity,o)}reduceFormalParameters(e,{items:r,rest:s}){return this.append(...r,s??this.identity)}reduceFunctionBody(e,{directives:r,statements:s}){return this.append(...r,...s)}reduceFunctionDeclaration(e,{name:r,params:s,body:a}){return this.append(r,s,a)}reduceFunctionExpression(e,{name:r,params:s,body:a}){return this.append(r??this.identity,s,a)}reduceGetter(e,{name:r,body:s}){return this.append(r,s)}reduceIdentifierExpression(e){return this.identity}reduceIfStatement(e,{test:r,consequent:s,alternate:a}){return this.append(r,s,a??this.identity)}reduceImport(e,{defaultBinding:r,namedImports:s}){return this.append(r??this.identity,...s)}reduceImportNamespace(e,{defaultBinding:r,namespaceBinding:s}){return this.append(r??this.identity,s)}reduceImportSpecifier(e,{binding:r}){return r}reduceLabeledStatement(e,{body:r}){return r}reduceLiteralBooleanExpression(e){return this.identity}reduceLiteralInfinityExpression(e){return this.identity}reduceLiteralNullExpression(e){return this.identity}reduceLiteralNumericExpression(e){return this.identity}reduceLiteralRegExpExpression(e){return this.identity}reduceLiteralStringExpression(e){return this.identity}reduceMethod(e,{name:r,params:s,body:a}){return this.append(r,s,a)}reduceModule(e,{directives:r,items:s}){return this.append(...r,...s)}reduceNewExpression(e,{callee:r,arguments:s}){return this.append(r,...s)}reduceNewTargetExpression(e){return this.identity}reduceObjectAssignmentTarget(e,{properties:r,rest:s}){return this.append(...r,s??this.identity)}reduceObjectBinding(e,{properties:r,rest:s}){return this.append(...r,s??this.identity)}reduceObjectExpression(e,{properties:r}){return this.append(...r)}reduceReturnStatement(e,{expression:r}){return r??this.identity}reduceScript(e,{directives:r,statements:s}){return this.append(...r,...s)}reduceSetter(e,{name:r,param:s,body:a}){return this.append(r,s,a)}reduceShorthandProperty(e,{name:r}){return r}reduceSpreadElement(e,{expression:r}){return r}reduceSpreadProperty(e,{expression:r}){return r}reduceStaticMemberAssignmentTarget(e,{object:r}){return r}reduceStaticMemberExpression(e,{object:r}){return r}reduceStaticPropertyName(e){return this.identity}reduceSuper(e){return this.identity}reduceSwitchCase(e,{test:r,consequent:s}){return this.append(r,...s)}reduceSwitchDefault(e,{consequent:r}){return this.append(...r)}reduceSwitchStatement(e,{discriminant:r,cases:s}){return this.append(r,...s)}reduceSwitchStatementWithDefault(e,{discriminant:r,preDefaultCases:s,defaultCase:a,postDefaultCases:o}){return this.append(r,...s,a,...o)}reduceTemplateElement(e){return this.identity}reduceTemplateExpression(e,{tag:r,elements:s}){return this.append(r??this.identity,...s)}reduceThisExpression(e){return this.identity}reduceThrowStatement(e,{expression:r}){return r}reduceTryCatchStatement(e,{body:r,catchClause:s}){return this.append(r,s)}reduceTryFinallyStatement(e,{body:r,catchClause:s,finalizer:a}){return this.append(r,s??this.identity,a)}reduceUnaryExpression(e,{operand:r}){return r}reduceUpdateExpression(e,{operand:r}){return r}reduceVariableDeclaration(e,{declarators:r}){return this.append(...r)}reduceVariableDeclarationStatement(e,{declaration:r}){return r}reduceVariableDeclarator(e,{binding:r,init:s}){return this.append(r,s??this.identity)}reduceWhileStatement(e,{test:r,body:s}){return this.append(r,s)}reduceWithStatement(e,{object:r,body:s}){return this.append(r,s)}reduceYieldExpression(e,{expression:r}){return r??this.identity}reduceYieldGeneratorExpression(e,{expression:r}){return r}},adapt$2=(n,e)=>({__proto__:e,reduceArrayAssignmentTarget(r,s){return n(super.reduceArrayAssignmentTarget(r,s),r)},reduceArrayBinding(r,s){return n(super.reduceArrayBinding(r,s),r)},reduceArrayExpression(r,s){return n(super.reduceArrayExpression(r,s),r)},reduceArrowExpression(r,s){return n(super.reduceArrowExpression(r,s),r)},reduceAssignmentExpression(r,s){return n(super.reduceAssignmentExpression(r,s),r)},reduceAssignmentTargetIdentifier(r,s){return n(super.reduceAssignmentTargetIdentifier(r,s),r)},reduceAssignmentTargetPropertyIdentifier(r,s){return n(super.reduceAssignmentTargetPropertyIdentifier(r,s),r)},reduceAssignmentTargetPropertyProperty(r,s){return n(super.reduceAssignmentTargetPropertyProperty(r,s),r)},reduceAssignmentTargetWithDefault(r,s){return n(super.reduceAssignmentTargetWithDefault(r,s),r)},reduceAwaitExpression(r,s){return n(super.reduceAwaitExpression(r,s),r)},reduceBinaryExpression(r,s){return n(super.reduceBinaryExpression(r,s),r)},reduceBindingIdentifier(r,s){return n(super.reduceBindingIdentifier(r,s),r)},reduceBindingPropertyIdentifier(r,s){return n(super.reduceBindingPropertyIdentifier(r,s),r)},reduceBindingPropertyProperty(r,s){return n(super.reduceBindingPropertyProperty(r,s),r)},reduceBindingWithDefault(r,s){return n(super.reduceBindingWithDefault(r,s),r)},reduceBlock(r,s){return n(super.reduceBlock(r,s),r)},reduceBlockStatement(r,s){return n(super.reduceBlockStatement(r,s),r)},reduceBreakStatement(r,s){return n(super.reduceBreakStatement(r,s),r)},reduceCallExpression(r,s){return n(super.reduceCallExpression(r,s),r)},reduceCatchClause(r,s){return n(super.reduceCatchClause(r,s),r)},reduceClassDeclaration(r,s){return n(super.reduceClassDeclaration(r,s),r)},reduceClassElement(r,s){return n(super.reduceClassElement(r,s),r)},reduceClassExpression(r,s){return n(super.reduceClassExpression(r,s),r)},reduceCompoundAssignmentExpression(r,s){return n(super.reduceCompoundAssignmentExpression(r,s),r)},reduceComputedMemberAssignmentTarget(r,s){return n(super.reduceComputedMemberAssignmentTarget(r,s),r)},reduceComputedMemberExpression(r,s){return n(super.reduceComputedMemberExpression(r,s),r)},reduceComputedPropertyName(r,s){return n(super.reduceComputedPropertyName(r,s),r)},reduceConditionalExpression(r,s){return n(super.reduceConditionalExpression(r,s),r)},reduceContinueStatement(r,s){return n(super.reduceContinueStatement(r,s),r)},reduceDataProperty(r,s){return n(super.reduceDataProperty(r,s),r)},reduceDebuggerStatement(r,s){return n(super.reduceDebuggerStatement(r,s),r)},reduceDirective(r,s){return n(super.reduceDirective(r,s),r)},reduceDoWhileStatement(r,s){return n(super.reduceDoWhileStatement(r,s),r)},reduceEmptyStatement(r,s){return n(super.reduceEmptyStatement(r,s),r)},reduceExport(r,s){return n(super.reduceExport(r,s),r)},reduceExportAllFrom(r,s){return n(super.reduceExportAllFrom(r,s),r)},reduceExportDefault(r,s){return n(super.reduceExportDefault(r,s),r)},reduceExportFrom(r,s){return n(super.reduceExportFrom(r,s),r)},reduceExportFromSpecifier(r,s){return n(super.reduceExportFromSpecifier(r,s),r)},reduceExportLocalSpecifier(r,s){return n(super.reduceExportLocalSpecifier(r,s),r)},reduceExportLocals(r,s){return n(super.reduceExportLocals(r,s),r)},reduceExpressionStatement(r,s){return n(super.reduceExpressionStatement(r,s),r)},reduceForAwaitStatement(r,s){return n(super.reduceForAwaitStatement(r,s),r)},reduceForInStatement(r,s){return n(super.reduceForInStatement(r,s),r)},reduceForOfStatement(r,s){return n(super.reduceForOfStatement(r,s),r)},reduceForStatement(r,s){return n(super.reduceForStatement(r,s),r)},reduceFormalParameters(r,s){return n(super.reduceFormalParameters(r,s),r)},reduceFunctionBody(r,s){return n(super.reduceFunctionBody(r,s),r)},reduceFunctionDeclaration(r,s){return n(super.reduceFunctionDeclaration(r,s),r)},reduceFunctionExpression(r,s){return n(super.reduceFunctionExpression(r,s),r)},reduceGetter(r,s){return n(super.reduceGetter(r,s),r)},reduceIdentifierExpression(r,s){return n(super.reduceIdentifierExpression(r,s),r)},reduceIfStatement(r,s){return n(super.reduceIfStatement(r,s),r)},reduceImport(r,s){return n(super.reduceImport(r,s),r)},reduceImportNamespace(r,s){return n(super.reduceImportNamespace(r,s),r)},reduceImportSpecifier(r,s){return n(super.reduceImportSpecifier(r,s),r)},reduceLabeledStatement(r,s){return n(super.reduceLabeledStatement(r,s),r)},reduceLiteralBooleanExpression(r,s){return n(super.reduceLiteralBooleanExpression(r,s),r)},reduceLiteralInfinityExpression(r,s){return n(super.reduceLiteralInfinityExpression(r,s),r)},reduceLiteralNullExpression(r,s){return n(super.reduceLiteralNullExpression(r,s),r)},reduceLiteralNumericExpression(r,s){return n(super.reduceLiteralNumericExpression(r,s),r)},reduceLiteralRegExpExpression(r,s){return n(super.reduceLiteralRegExpExpression(r,s),r)},reduceLiteralStringExpression(r,s){return n(super.reduceLiteralStringExpression(r,s),r)},reduceMethod(r,s){return n(super.reduceMethod(r,s),r)},reduceModule(r,s){return n(super.reduceModule(r,s),r)},reduceNewExpression(r,s){return n(super.reduceNewExpression(r,s),r)},reduceNewTargetExpression(r,s){return n(super.reduceNewTargetExpression(r,s),r)},reduceObjectAssignmentTarget(r,s){return n(super.reduceObjectAssignmentTarget(r,s),r)},reduceObjectBinding(r,s){return n(super.reduceObjectBinding(r,s),r)},reduceObjectExpression(r,s){return n(super.reduceObjectExpression(r,s),r)},reduceReturnStatement(r,s){return n(super.reduceReturnStatement(r,s),r)},reduceScript(r,s){return n(super.reduceScript(r,s),r)},reduceSetter(r,s){return n(super.reduceSetter(r,s),r)},reduceShorthandProperty(r,s){return n(super.reduceShorthandProperty(r,s),r)},reduceSpreadElement(r,s){return n(super.reduceSpreadElement(r,s),r)},reduceSpreadProperty(r,s){return n(super.reduceSpreadProperty(r,s),r)},reduceStaticMemberAssignmentTarget(r,s){return n(super.reduceStaticMemberAssignmentTarget(r,s),r)},reduceStaticMemberExpression(r,s){return n(super.reduceStaticMemberExpression(r,s),r)},reduceStaticPropertyName(r,s){return n(super.reduceStaticPropertyName(r,s),r)},reduceSuper(r,s){return n(super.reduceSuper(r,s),r)},reduceSwitchCase(r,s){return n(super.reduceSwitchCase(r,s),r)},reduceSwitchDefault(r,s){return n(super.reduceSwitchDefault(r,s),r)},reduceSwitchStatement(r,s){return n(super.reduceSwitchStatement(r,s),r)},reduceSwitchStatementWithDefault(r,s){return n(super.reduceSwitchStatementWithDefault(r,s),r)},reduceTemplateElement(r,s){return n(super.reduceTemplateElement(r,s),r)},reduceTemplateExpression(r,s){return n(super.reduceTemplateExpression(r,s),r)},reduceThisExpression(r,s){return n(super.reduceThisExpression(r,s),r)},reduceThrowStatement(r,s){return n(super.reduceThrowStatement(r,s),r)},reduceTryCatchStatement(r,s){return n(super.reduceTryCatchStatement(r,s),r)},reduceTryFinallyStatement(r,s){return n(super.reduceTryFinallyStatement(r,s),r)},reduceUnaryExpression(r,s){return n(super.reduceUnaryExpression(r,s),r)},reduceUpdateExpression(r,s){return n(super.reduceUpdateExpression(r,s),r)},reduceVariableDeclaration(r,s){return n(super.reduceVariableDeclaration(r,s),r)},reduceVariableDeclarationStatement(r,s){return n(super.reduceVariableDeclarationStatement(r,s),r)},reduceVariableDeclarator(r,s){return n(super.reduceVariableDeclarator(r,s),r)},reduceWhileStatement(r,s){return n(super.reduceWhileStatement(r,s),r)},reduceWithStatement(r,s){return n(super.reduceWithStatement(r,s),r)},reduceYieldExpression(r,s){return n(super.reduceYieldExpression(r,s),r)},reduceYieldGeneratorExpression(r,s){return n(super.reduceYieldGeneratorExpression(r,s),r)}});const reduce$3=director_1,MonoidalReducer$1=monoidalReducer,adapt$1=adapt$2;var src$3={default:reduce$3,reduce:reduce$3,MonoidalReducer:MonoidalReducer$1,adapt:adapt$1},multimap={exports:{}};(function(n,e){function r(a,o){for(var u=a.keys(),l;!(l=u.next()).done;)o(a.get(l.value),l.value,a)}var s=function(){var a;typeof Map<"u"&&(a=Map,Map.prototype.keys||(Map.prototype.keys=function(){var c=[];return this.forEach(function(h,f){c.push(f)}),c}));function o(c){var h=this;h._map=a,o.Map&&(h._map=o.Map),h._=h._map?new h._map:{},c&&c.forEach(function(f){h.set(f[0],f[1])})}o.prototype.get=function(c){return this._map?this._.get(c):this._[c]},o.prototype.set=function(c,h){var f=Array.prototype.slice.call(arguments);c=f.shift();var d=this.get(c);return d||(d=[],this._map?this._.set(c,d):this._[c]=d),Array.prototype.push.apply(d,f),this},o.prototype.delete=function(c,h){if(!this.has(c))return!1;if(arguments.length==1)return this._map?this._.delete(c):delete this._[c],!0;var f=this.get(c),d=f.indexOf(h);return d!=-1?(f.splice(d,1),!0):!1},o.prototype.has=function(c,h){var f=this._map?this._.has(c):this._.hasOwnProperty(c);if(arguments.length==1||!f)return f;var d=this.get(c)||[];return d.indexOf(h)!=-1},o.prototype.keys=function(){return this._map?l(this._.keys()):l(Object.keys(this._))},o.prototype.values=function(){var c=[];return this.forEachEntry(function(h){Array.prototype.push.apply(c,h)}),l(c)},o.prototype.forEachEntry=function(c){r(this,c)},o.prototype.forEach=function(c){var h=this;h.forEachEntry(function(f,d){f.forEach(function(m){c(m,d,h)})})},o.prototype.clear=function(){this._map?this._.clear():this._={}},Object.defineProperty(o.prototype,"size",{configurable:!1,enumerable:!0,get:function(){var c=0;return r(this,function(h){c+=h.length}),c}}),Object.defineProperty(o.prototype,"count",{configurable:!1,enumerable:!0,get:function(){return this._.size}});var u;try{u=new Function("iterator","makeIterator","var keysArray = []; for(var key of iterator){keysArray.push(key);} return makeIterator(keysArray).next;")}catch{}function l(c){if(Array.isArray(c)){var h=0;return{next:function(){return h<c.length?{value:c[h++],done:!1}:{done:!0}}}}return!c.next&&u&&(c.next=u(c,l)),c}return o}();n&&n.exports&&(n.exports=s)})(multimap);var multimapExports=multimap.exports;const MultiMap=multimapExports;function addEach(n,...e){return e.forEach(r=>{r.forEachEntry((s,a)=>{n.set.apply(n,[a].concat(s))})}),n}let identity,EarlyErrorState$1=class{constructor(){this.errors=[],this.strictErrors=[],this.usedLabelNames=[],this.freeBreakStatements=[],this.freeContinueStatements=[],this.freeLabeledBreakStatements=[],this.freeLabeledContinueStatements=[],this.newTargetExpressions=[],this.boundNames=new MultiMap,this.lexicallyDeclaredNames=new MultiMap,this.functionDeclarationNames=new MultiMap,this.varDeclaredNames=new MultiMap,this.forOfVarDeclaredNames=[],this.exportedNames=new MultiMap,this.exportedBindings=new MultiMap,this.superCallExpressions=[],this.superCallExpressionsInConstructorMethod=[],this.superPropertyExpressions=[],this.yieldExpressions=[],this.awaitExpressions=[]}addFreeBreakStatement(e){return this.freeBreakStatements.push(e),this}addFreeLabeledBreakStatement(e){return this.freeLabeledBreakStatements.push(e),this}clearFreeBreakStatements(){return this.freeBreakStatements=[],this}addFreeContinueStatement(e){return this.freeContinueStatements.push(e),this}addFreeLabeledContinueStatement(e){return this.freeLabeledContinueStatements.push(e),this}clearFreeContinueStatements(){return this.freeContinueStatements=[],this}enforceFreeBreakStatementErrors(e){return[].push.apply(this.errors,this.freeBreakStatements.map(e)),this.freeBreakStatements=[],this}enforceFreeLabeledBreakStatementErrors(e){return[].push.apply(this.errors,this.freeLabeledBreakStatements.map(e)),this.freeLabeledBreakStatements=[],this}enforceFreeContinueStatementErrors(e){return[].push.apply(this.errors,this.freeContinueStatements.map(e)),this.freeContinueStatements=[],this}enforceFreeLabeledContinueStatementErrors(e){return[].push.apply(this.errors,this.freeLabeledContinueStatements.map(e)),this.freeLabeledContinueStatements=[],this}observeIterationLabel(e){return this.usedLabelNames.push(e),this.freeLabeledBreakStatements=this.freeLabeledBreakStatements.filter(r=>r.label!==e),this.freeLabeledContinueStatements=this.freeLabeledContinueStatements.filter(r=>r.label!==e),this}observeNonIterationLabel(e){return this.usedLabelNames.push(e),this.freeLabeledBreakStatements=this.freeLabeledBreakStatements.filter(r=>r.label!==e),this}clearUsedLabelNames(){return this.usedLabelNames=[],this}observeSuperCallExpression(e){return this.superCallExpressions.push(e),this}observeConstructorMethod(){return this.superCallExpressionsInConstructorMethod=this.superCallExpressions,this.superCallExpressions=[],this}clearSuperCallExpressionsInConstructorMethod(){return this.superCallExpressionsInConstructorMethod=[],this}enforceSuperCallExpressions(e){return[].push.apply(this.errors,this.superCallExpressions.map(e)),[].push.apply(this.errors,this.superCallExpressionsInConstructorMethod.map(e)),this.superCallExpressions=[],this.superCallExpressionsInConstructorMethod=[],this}enforceSuperCallExpressionsInConstructorMethod(e){return[].push.apply(this.errors,this.superCallExpressionsInConstructorMethod.map(e)),this.superCallExpressionsInConstructorMethod=[],this}observeSuperPropertyExpression(e){return this.superPropertyExpressions.push(e),this}clearSuperPropertyExpressions(){return this.superPropertyExpressions=[],this}enforceSuperPropertyExpressions(e){return[].push.apply(this.errors,this.superPropertyExpressions.map(e)),this.superPropertyExpressions=[],this}observeNewTargetExpression(e){return this.newTargetExpressions.push(e),this}clearNewTargetExpressions(){return this.newTargetExpressions=[],this}bindName(e,r){return this.boundNames.set(e,r),this}clearBoundNames(){return this.boundNames=new MultiMap,this}observeLexicalDeclaration(){return addEach(this.lexicallyDeclaredNames,this.boundNames),this.boundNames=new MultiMap,this}observeLexicalBoundary(){return this.previousLexicallyDeclaredNames=this.lexicallyDeclaredNames,this.lexicallyDeclaredNames=new MultiMap,this.functionDeclarationNames=new MultiMap,this}enforceDuplicateLexicallyDeclaredNames(e){return this.lexicallyDeclaredNames.forEachEntry(r=>{r.length>1&&r.slice(1).forEach(s=>{this.addError(e(s))})}),this}enforceConflictingLexicallyDeclaredNames(e,r){return this.lexicallyDeclaredNames.forEachEntry((s,a)=>{e.has(a)&&s.forEach(o=>{this.addError(r(o))})}),this}observeFunctionDeclaration(){return this.observeVarBoundary(),addEach(this.functionDeclarationNames,this.boundNames),this.boundNames=new MultiMap,this}functionDeclarationNamesAreLexical(){return addEach(this.lexicallyDeclaredNames,this.functionDeclarationNames),this.functionDeclarationNames=new MultiMap,this}observeVarDeclaration(){return addEach(this.varDeclaredNames,this.boundNames),this.boundNames=new MultiMap,this}recordForOfVars(){return this.varDeclaredNames.forEach(e=>{this.forOfVarDeclaredNames.push(e)}),this}observeVarBoundary(){return this.lexicallyDeclaredNames=new MultiMap,this.functionDeclarationNames=new MultiMap,this.varDeclaredNames=new MultiMap,this.forOfVarDeclaredNames=[],this}exportName(e,r){return this.exportedNames.set(e,r),this}exportDeclaredNames(){return addEach(this.exportedNames,this.lexicallyDeclaredNames,this.varDeclaredNames),addEach(this.exportedBindings,this.lexicallyDeclaredNames,this.varDeclaredNames),this}exportBinding(e,r){return this.exportedBindings.set(e,r),this}clearExportedBindings(){return this.exportedBindings=new MultiMap,this}observeYieldExpression(e){return this.yieldExpressions.push(e),this}clearYieldExpressions(){return this.yieldExpressions=[],this}observeAwaitExpression(e){return this.awaitExpressions.push(e),this}clearAwaitExpressions(){return this.awaitExpressions=[],this}addError(e){return this.errors.push(e),this}addStrictError(e){return this.strictErrors.push(e),this}enforceStrictErrors(){return[].push.apply(this.errors,this.strictErrors),this.strictErrors=[],this}static empty(){return identity}concat(e){return this===identity?e:e===identity?this:([].push.apply(this.errors,e.errors),[].push.apply(this.strictErrors,e.strictErrors),[].push.apply(this.usedLabelNames,e.usedLabelNames),[].push.apply(this.freeBreakStatements,e.freeBreakStatements),[].push.apply(this.freeContinueStatements,e.freeContinueStatements),[].push.apply(this.freeLabeledBreakStatements,e.freeLabeledBreakStatements),[].push.apply(this.freeLabeledContinueStatements,e.freeLabeledContinueStatements),[].push.apply(this.newTargetExpressions,e.newTargetExpressions),addEach(this.boundNames,e.boundNames),addEach(this.lexicallyDeclaredNames,e.lexicallyDeclaredNames),addEach(this.functionDeclarationNames,e.functionDeclarationNames),addEach(this.varDeclaredNames,e.varDeclaredNames),[].push.apply(this.forOfVarDeclaredNames,e.forOfVarDeclaredNames),addEach(this.exportedNames,e.exportedNames),addEach(this.exportedBindings,e.exportedBindings),[].push.apply(this.superCallExpressions,e.superCallExpressions),[].push.apply(this.superCallExpressionsInConstructorMethod,e.superCallExpressionsInConstructorMethod),[].push.apply(this.superPropertyExpressions,e.superPropertyExpressions),[].push.apply(this.yieldExpressions,e.yieldExpressions),[].push.apply(this.awaitExpressions,e.awaitExpressions),this)}};identity=new EarlyErrorState$1;Object.getOwnPropertyNames(EarlyErrorState$1.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(identity,n,{value(){return EarlyErrorState$1.prototype[n].apply(new EarlyErrorState$1,arguments)},enumerable:!1,writable:!0,configurable:!0})});let EarlyError$1=class extends Error{constructor(e,r){super(r),this.node=e,this.message=r}};var earlyErrorState={EarlyErrorState:EarlyErrorState$1,EarlyError:EarlyError$1};const{reduce:reduce$2,MonoidalReducer}=src$3,{isStrictModeReservedWord}=utils$1,{ErrorMessages}=errors,{EarlyErrorState,EarlyError}=earlyErrorState;function isStrictFunctionBody({directives:n}){return n.some(e=>e.rawValue==="use strict")}function isLabelledFunction(n){return n.type==="LabeledStatement"&&(n.body.type==="FunctionDeclaration"||isLabelledFunction(n.body))}function isIterationStatement(n){switch(n.type){case"LabeledStatement":return isIterationStatement(n.body);case"DoWhileStatement":case"ForInStatement":case"ForOfStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function isSpecialMethod(n){if(n.name.type!=="StaticPropertyName"||n.name.value!=="constructor")return!1;switch(n.type){case"Getter":case"Setter":return!0;case"Method":return n.isGenerator||n.isAsync}throw new Error("not reached")}function enforceDuplicateConstructorMethods(n,e){let r=n.elements.filter(s=>!s.isStatic&&s.method.type==="Method"&&!s.method.isGenerator&&s.method.name.type==="StaticPropertyName"&&s.method.name.value==="constructor");return r.length>1&&r.slice(1).forEach(s=>{e=e.addError(new EarlyError(s,"Duplicate constructor method in class"))}),e}const SUPERCALL_ERROR=n=>new EarlyError(n,ErrorMessages.ILLEGAL_SUPER_CALL),SUPERPROPERTY_ERROR=n=>new EarlyError(n,"Member access on super must be in a method"),DUPLICATE_BINDING=n=>new EarlyError(n,`Duplicate binding ${JSON.stringify(n.name)}`),FREE_CONTINUE=n=>new EarlyError(n,"Continue statement must be nested within an iteration statement"),UNBOUND_CONTINUE=n=>new EarlyError(n,`Continue statement must be nested within an iteration statement with label ${JSON.stringify(n.label)}`),FREE_BREAK=n=>new EarlyError(n,"Break statement must be nested within an iteration statement or a switch statement"),UNBOUND_BREAK=n=>new EarlyError(n,`Break statement must be nested within a statement with label ${JSON.stringify(n.label)}`);let EarlyErrorChecker$1=class Bt extends MonoidalReducer{constructor(){super(EarlyErrorState)}reduceAssignmentExpression(){return super.reduceAssignmentExpression(...arguments).clearBoundNames()}reduceAssignmentTargetIdentifier(e){let r=this.identity;return(e.name==="eval"||e.name==="arguments"||isStrictModeReservedWord(e.name))&&(r=r.addStrictError(new EarlyError(e,`The identifier ${JSON.stringify(e.name)} must not be in binding position in strict mode`))),r}reduceArrowExpression(e,{params:r,body:s}){let a=e.params.rest==null&&e.params.items.every(u=>u.type==="BindingIdentifier");r=r.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),e.body.type==="FunctionBody"&&(s=s.enforceConflictingLexicallyDeclaredNames(r.lexicallyDeclaredNames,DUPLICATE_BINDING),isStrictFunctionBody(e.body)&&(r=r.enforceStrictErrors(),s=s.enforceStrictErrors())),r.yieldExpressions.forEach(u=>{r=r.addError(new EarlyError(u,"Arrow parameters must not contain yield expressions"))}),r.awaitExpressions.forEach(u=>{r=r.addError(new EarlyError(u,"Arrow parameters must not contain await expressions"))});let o=super.reduceArrowExpression(e,{params:r,body:s});return!a&&e.body.type==="FunctionBody"&&isStrictFunctionBody(e.body)&&(o=o.addError(new EarlyError(e,'Functions with non-simple parameter lists may not contain a "use strict" directive'))),o=o.clearYieldExpressions(),o=o.clearAwaitExpressions(),o=o.observeVarBoundary(),o}reduceAwaitExpression(e,{expression:r}){return r.observeAwaitExpression(e)}reduceBindingIdentifier(e){let r=this.identity;return(e.name==="eval"||e.name==="arguments"||isStrictModeReservedWord(e.name))&&(r=r.addStrictError(new EarlyError(e,`The identifier ${JSON.stringify(e.name)} must not be in binding position in strict mode`))),r=r.bindName(e.name,e),r}reduceBlock(){let e=super.reduceBlock(...arguments);return e=e.functionDeclarationNamesAreLexical(),e=e.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),e=e.enforceConflictingLexicallyDeclaredNames(e.varDeclaredNames,DUPLICATE_BINDING),e=e.observeLexicalBoundary(),e}reduceBreakStatement(e){let r=super.reduceBreakStatement(...arguments);return r=e.label==null?r.addFreeBreakStatement(e):r.addFreeLabeledBreakStatement(e),r}reduceCallExpression(e){let r=super.reduceCallExpression(...arguments);return e.callee.type==="Super"&&(r=r.observeSuperCallExpression(e)),r}reduceCatchClause(e,{binding:r,body:s}){r!=null&&(r=r.observeLexicalDeclaration(),r=r.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),r=r.enforceConflictingLexicallyDeclaredNames(s.previousLexicallyDeclaredNames,DUPLICATE_BINDING));let a=super.reduceCatchClause(e,{binding:r,body:s});return a=a.observeLexicalBoundary(),a}reduceClassDeclaration(e,{name:r,super:s,elements:a}){let o=r.enforceStrictErrors(),u=this.append(...a);return u=u.enforceStrictErrors(),e.super!=null&&(s=s.enforceStrictErrors(),o=this.append(o,s),u=u.clearSuperCallExpressionsInConstructorMethod()),o=this.append(o,u),o=enforceDuplicateConstructorMethods(e,o),o=o.observeLexicalDeclaration(),o}reduceClassElement(e){let r=super.reduceClassElement(...arguments);return!e.isStatic&&isSpecialMethod(e.method)&&(r=r.addError(new EarlyError(e,ErrorMessages.ILLEGAL_CONSTRUCTORS))),e.isStatic&&e.method.name.type==="StaticPropertyName"&&e.method.name.value==="prototype"&&(r=r.addError(new EarlyError(e,'Static class methods cannot be named "prototype"'))),r}reduceClassExpression(e,{name:r,super:s,elements:a}){let o=e.name==null?this.identity:r.enforceStrictErrors(),u=this.append(...a);return u=u.enforceStrictErrors(),e.super!=null&&(s=s.enforceStrictErrors(),o=this.append(o,s),u=u.clearSuperCallExpressionsInConstructorMethod()),o=this.append(o,u),o=enforceDuplicateConstructorMethods(e,o),o=o.clearBoundNames(),o}reduceCompoundAssignmentExpression(){return super.reduceCompoundAssignmentExpression(...arguments).clearBoundNames()}reduceComputedMemberExpression(e){let r=super.reduceComputedMemberExpression(...arguments);return e.object.type==="Super"&&(r=r.observeSuperPropertyExpression(e)),r}reduceContinueStatement(e){let r=super.reduceContinueStatement(...arguments);return r=e.label==null?r.addFreeContinueStatement(e):r.addFreeLabeledContinueStatement(e),r}reduceDoWhileStatement(e){let r=super.reduceDoWhileStatement(...arguments);return isLabelledFunction(e.body)&&(r=r.addError(new EarlyError(e.body,"The body of a do-while statement must not be a labeled function declaration"))),r=r.clearFreeContinueStatements(),r=r.clearFreeBreakStatements(),r}reduceExport(){let e=super.reduceExport(...arguments);return e=e.functionDeclarationNamesAreLexical(),e=e.exportDeclaredNames(),e}reduceExportFrom(){let e=super.reduceExportFrom(...arguments);return e=e.clearExportedBindings(),e}reduceExportFromSpecifier(e){let r=super.reduceExportFromSpecifier(...arguments);return r=r.exportName(e.exportedName||e.name,e),r=r.exportBinding(e.name,e),r}reduceExportLocalSpecifier(e){let r=super.reduceExportLocalSpecifier(...arguments);return r=r.exportName(e.exportedName||e.name.name,e),r=r.exportBinding(e.name.name,e),r}reduceExportDefault(e){let r=super.reduceExportDefault(...arguments);return r=r.functionDeclarationNamesAreLexical(),r=r.exportName("default",e),r}reduceFormalParameters(){let e=super.reduceFormalParameters(...arguments);return e=e.observeLexicalDeclaration(),e}reduceForStatement(e,{init:r,test:s,update:a,body:o}){r!=null&&(r=r.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),r=r.enforceConflictingLexicallyDeclaredNames(o.varDeclaredNames,DUPLICATE_BINDING));let u=super.reduceForStatement(e,{init:r,test:s,update:a,body:o});return e.init!=null&&e.init.type==="VariableDeclaration"&&e.init.kind==="const"&&e.init.declarators.forEach(l=>{l.init==null&&(u=u.addError(new EarlyError(l,"Constant lexical declarations must have an initialiser")))}),isLabelledFunction(e.body)&&(u=u.addError(new EarlyError(e.body,"The body of a for statement must not be a labeled function declaration"))),u=u.clearFreeContinueStatements(),u=u.clearFreeBreakStatements(),u=u.observeLexicalBoundary(),u}reduceForInStatement(e,{left:r,right:s,body:a}){r=r.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),r=r.enforceConflictingLexicallyDeclaredNames(a.varDeclaredNames,DUPLICATE_BINDING);let o=super.reduceForInStatement(e,{left:r,right:s,body:a});return isLabelledFunction(e.body)&&(o=o.addError(new EarlyError(e.body,"The body of a for-in statement must not be a labeled function declaration"))),o=o.clearFreeContinueStatements(),o=o.clearFreeBreakStatements(),o=o.observeLexicalBoundary(),o}reduceForOfStatement(e,{left:r,right:s,body:a}){r=r.recordForOfVars(),r=r.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),r=r.enforceConflictingLexicallyDeclaredNames(a.varDeclaredNames,DUPLICATE_BINDING);let o=super.reduceForOfStatement(e,{left:r,right:s,body:a});return isLabelledFunction(e.body)&&(o=o.addError(new EarlyError(e.body,"The body of a for-of statement must not be a labeled function declaration"))),o=o.clearFreeContinueStatements(),o=o.clearFreeBreakStatements(),o=o.observeLexicalBoundary(),o}reduceForAwaitStatement(e,{left:r,right:s,body:a}){r=r.recordForOfVars(),r=r.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),r=r.enforceConflictingLexicallyDeclaredNames(a.varDeclaredNames,DUPLICATE_BINDING);let o=super.reduceForOfStatement(e,{left:r,right:s,body:a});return isLabelledFunction(e.body)&&(o=o.addError(new EarlyError(e.body,"The body of a for-await statement must not be a labeled function declaration"))),o=o.clearFreeContinueStatements(),o=o.clearFreeBreakStatements(),o=o.observeLexicalBoundary(),o}reduceFunctionBody(e){let r=super.reduceFunctionBody(...arguments);return r=r.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),r=r.enforceConflictingLexicallyDeclaredNames(r.varDeclaredNames,DUPLICATE_BINDING),r=r.enforceFreeContinueStatementErrors(FREE_CONTINUE),r=r.enforceFreeLabeledContinueStatementErrors(UNBOUND_CONTINUE),r=r.enforceFreeBreakStatementErrors(FREE_BREAK),r=r.enforceFreeLabeledBreakStatementErrors(UNBOUND_BREAK),r=r.clearUsedLabelNames(),r=r.clearYieldExpressions(),r=r.clearAwaitExpressions(),isStrictFunctionBody(e)&&(r=r.enforceStrictErrors()),r}reduceFunctionDeclaration(e,{name:r,params:s,body:a}){let o=e.params.rest==null&&e.params.items.every(c=>c.type==="BindingIdentifier"),u=!o||e.isGenerator?"addError":"addStrictError";s.lexicallyDeclaredNames.forEachEntry(c=>{c.length>1&&c.slice(1).forEach(h=>{s=s[u](DUPLICATE_BINDING(h))})}),a=a.enforceConflictingLexicallyDeclaredNames(s.lexicallyDeclaredNames,DUPLICATE_BINDING),a=a.enforceSuperCallExpressions(SUPERCALL_ERROR),a=a.enforceSuperPropertyExpressions(SUPERPROPERTY_ERROR),s=s.enforceSuperCallExpressions(SUPERCALL_ERROR),s=s.enforceSuperPropertyExpressions(SUPERPROPERTY_ERROR),e.isGenerator&&s.yieldExpressions.forEach(c=>{s=s.addError(new EarlyError(c,"Generator parameters must not contain yield expressions"))}),e.isAsync&&s.awaitExpressions.forEach(c=>{s=s.addError(new EarlyError(c,"Async function parameters must not contain await expressions"))}),s=s.clearNewTargetExpressions(),a=a.clearNewTargetExpressions(),isStrictFunctionBody(e.body)&&(s=s.enforceStrictErrors(),a=a.enforceStrictErrors());let l=super.reduceFunctionDeclaration(e,{name:r,params:s,body:a});return!o&&isStrictFunctionBody(e.body)&&(l=l.addError(new EarlyError(e,'Functions with non-simple parameter lists may not contain a "use strict" directive'))),l=l.clearYieldExpressions(),l=l.clearAwaitExpressions(),l=l.observeFunctionDeclaration(),l}reduceFunctionExpression(e,{name:r,params:s,body:a}){let o=e.params.rest==null&&e.params.items.every(c=>c.type==="BindingIdentifier"),u=!o||e.isGenerator?"addError":"addStrictError";s.lexicallyDeclaredNames.forEachEntry((c,h)=>{c.length>1&&c.slice(1).forEach(f=>{s=s[u](new EarlyError(f,`Duplicate binding ${JSON.stringify(h)}`))})}),a=a.enforceConflictingLexicallyDeclaredNames(s.lexicallyDeclaredNames,DUPLICATE_BINDING),a=a.enforceSuperCallExpressions(SUPERCALL_ERROR),a=a.enforceSuperPropertyExpressions(SUPERPROPERTY_ERROR),s=s.enforceSuperCallExpressions(SUPERCALL_ERROR),s=s.enforceSuperPropertyExpressions(SUPERPROPERTY_ERROR),e.isGenerator&&s.yieldExpressions.forEach(c=>{s=s.addError(new EarlyError(c,"Generator parameters must not contain yield expressions"))}),e.isAsync&&s.awaitExpressions.forEach(c=>{s=s.addError(new EarlyError(c,"Async function parameters must not contain await expressions"))}),s=s.clearNewTargetExpressions(),a=a.clearNewTargetExpressions(),isStrictFunctionBody(e.body)&&(s=s.enforceStrictErrors(),a=a.enforceStrictErrors());let l=super.reduceFunctionExpression(e,{name:r,params:s,body:a});return!o&&isStrictFunctionBody(e.body)&&(l=l.addError(new EarlyError(e,'Functions with non-simple parameter lists may not contain a "use strict" directive'))),l=l.clearBoundNames(),l=l.clearYieldExpressions(),l=l.clearAwaitExpressions(),l=l.observeVarBoundary(),l}reduceGetter(e,{name:r,body:s}){s=s.enforceSuperCallExpressions(SUPERCALL_ERROR),s=s.clearSuperPropertyExpressions(),s=s.clearNewTargetExpressions(),isStrictFunctionBody(e.body)&&(s=s.enforceStrictErrors());let a=super.reduceGetter(e,{name:r,body:s});return a=a.observeVarBoundary(),a}reduceIdentifierExpression(e){let r=this.identity;return isStrictModeReservedWord(e.name)&&(r=r.addStrictError(new EarlyError(e,`The identifier ${JSON.stringify(e.name)} must not be in expression position in strict mode`))),r}reduceIfStatement(e,{test:r,consequent:s,alternate:a}){return isLabelledFunction(e.consequent)&&(s=s.addError(new EarlyError(e.consequent,"The consequent of an if statement must not be a labeled function declaration"))),e.alternate!=null&&isLabelledFunction(e.alternate)&&(a=a.addError(new EarlyError(e.alternate,"The alternate of an if statement must not be a labeled function declaration"))),e.consequent.type==="FunctionDeclaration"&&(s=s.addStrictError(new EarlyError(e.consequent,"FunctionDeclarations in IfStatements are disallowed in strict mode")),s=s.observeLexicalBoundary()),e.alternate!=null&&e.alternate.type==="FunctionDeclaration"&&(a=a.addStrictError(new EarlyError(e.alternate,"FunctionDeclarations in IfStatements are disallowed in strict mode")),a=a.observeLexicalBoundary()),super.reduceIfStatement(e,{test:r,consequent:s,alternate:a})}reduceImport(){let e=super.reduceImport(...arguments);return e=e.observeLexicalDeclaration(),e}reduceImportNamespace(){let e=super.reduceImportNamespace(...arguments);return e=e.observeLexicalDeclaration(),e}reduceLabeledStatement(e){let r=super.reduceLabeledStatement(...arguments);return(e.label==="yield"||isStrictModeReservedWord(e.label))&&(r=r.addStrictError(new EarlyError(e,`The identifier ${JSON.stringify(e.label)} must not be in label position in strict mode`))),r.usedLabelNames.indexOf(e.label)>=0&&(r=r.addError(new EarlyError(e,`Label ${JSON.stringify(e.label)} has already been declared`))),e.body.type==="FunctionDeclaration"&&(r=r.addStrictError(new EarlyError(e,"Labeled FunctionDeclarations are disallowed in strict mode"))),r=isIterationStatement(e.body)?r.observeIterationLabel(e.label):r.observeNonIterationLabel(e.label),r}reduceLiteralRegExpExpression(){return this.identity}reduceMethod(e,{name:r,params:s,body:a}){let o=e.params.rest==null&&e.params.items.every(l=>l.type==="BindingIdentifier");s=s.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),a=a.enforceConflictingLexicallyDeclaredNames(s.lexicallyDeclaredNames,DUPLICATE_BINDING),e.name.type==="StaticPropertyName"&&e.name.value==="constructor"?(a=a.observeConstructorMethod(),s=s.observeConstructorMethod()):(a=a.enforceSuperCallExpressions(SUPERCALL_ERROR),s=s.enforceSuperCallExpressions(SUPERCALL_ERROR)),e.isGenerator&&s.yieldExpressions.forEach(l=>{s=s.addError(new EarlyError(l,"Generator parameters must not contain yield expressions"))}),e.isAsync&&s.awaitExpressions.forEach(l=>{s=s.addError(new EarlyError(l,"Async function parameters must not contain await expressions"))}),a=a.clearSuperPropertyExpressions(),s=s.clearSuperPropertyExpressions(),s=s.clearNewTargetExpressions(),a=a.clearNewTargetExpressions(),isStrictFunctionBody(e.body)&&(s=s.enforceStrictErrors(),a=a.enforceStrictErrors());let u=super.reduceMethod(e,{name:r,params:s,body:a});return!o&&isStrictFunctionBody(e.body)&&(u=u.addError(new EarlyError(e,'Functions with non-simple parameter lists may not contain a "use strict" directive'))),u=u.clearYieldExpressions(),u=u.clearAwaitExpressions(),u=u.observeVarBoundary(),u}reduceModule(){let e=super.reduceModule(...arguments);return e=e.functionDeclarationNamesAreLexical(),e=e.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),e=e.enforceConflictingLexicallyDeclaredNames(e.varDeclaredNames,DUPLICATE_BINDING),e.exportedNames.forEachEntry((r,s)=>{r.length>1&&r.slice(1).forEach(a=>{e=e.addError(new EarlyError(a,`Duplicate export ${JSON.stringify(s)}`))})}),e.exportedBindings.forEachEntry((r,s)=>{!e.lexicallyDeclaredNames.has(s)&&!e.varDeclaredNames.has(s)&&r.forEach(a=>{e=e.addError(new EarlyError(a,`Exported binding ${JSON.stringify(s)} is not declared`))})}),e.newTargetExpressions.forEach(r=>{e=e.addError(new EarlyError(r,"new.target must be within function (but not arrow expression) code"))}),e=e.enforceFreeContinueStatementErrors(FREE_CONTINUE),e=e.enforceFreeLabeledContinueStatementErrors(UNBOUND_CONTINUE),e=e.enforceFreeBreakStatementErrors(FREE_BREAK),e=e.enforceFreeLabeledBreakStatementErrors(UNBOUND_BREAK),e=e.enforceSuperCallExpressions(SUPERCALL_ERROR),e=e.enforceSuperPropertyExpressions(SUPERPROPERTY_ERROR),e=e.enforceStrictErrors(),e}reduceNewTargetExpression(e){return this.identity.observeNewTargetExpression(e)}reduceObjectExpression(e){let r=super.reduceObjectExpression(...arguments);return r=r.enforceSuperCallExpressionsInConstructorMethod(SUPERCALL_ERROR),e.properties.filter(a=>a.type==="DataProperty"&&a.name.type==="StaticPropertyName"&&a.name.value==="__proto__").slice(1).forEach(a=>{r=r.addError(new EarlyError(a,"Duplicate __proto__ property in object literal not allowed"))}),r}reduceUpdateExpression(){let e=super.reduceUpdateExpression(...arguments);return e=e.clearBoundNames(),e}reduceUnaryExpression(e){let r=super.reduceUnaryExpression(...arguments);return e.operator==="delete"&&e.operand.type==="IdentifierExpression"&&(r=r.addStrictError(new EarlyError(e,"Identifier expressions must not be deleted in strict mode"))),r}reduceScript(e){let r=super.reduceScript(...arguments);return r=r.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),r=r.enforceConflictingLexicallyDeclaredNames(r.varDeclaredNames,DUPLICATE_BINDING),r.newTargetExpressions.forEach(s=>{r=r.addError(new EarlyError(s,"new.target must be within function (but not arrow expression) code"))}),r=r.enforceFreeContinueStatementErrors(FREE_CONTINUE),r=r.enforceFreeLabeledContinueStatementErrors(UNBOUND_CONTINUE),r=r.enforceFreeBreakStatementErrors(FREE_BREAK),r=r.enforceFreeLabeledBreakStatementErrors(UNBOUND_BREAK),r=r.enforceSuperCallExpressions(SUPERCALL_ERROR),r=r.enforceSuperPropertyExpressions(SUPERPROPERTY_ERROR),isStrictFunctionBody(e)&&(r=r.enforceStrictErrors()),r}reduceSetter(e,{name:r,param:s,body:a}){let o=e.param.type==="BindingIdentifier";s=s.observeLexicalDeclaration(),s=s.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),a=a.enforceConflictingLexicallyDeclaredNames(s.lexicallyDeclaredNames,DUPLICATE_BINDING),s=s.enforceSuperCallExpressions(SUPERCALL_ERROR),a=a.enforceSuperCallExpressions(SUPERCALL_ERROR),s=s.clearSuperPropertyExpressions(),a=a.clearSuperPropertyExpressions(),s=s.clearNewTargetExpressions(),a=a.clearNewTargetExpressions(),isStrictFunctionBody(e.body)&&(s=s.enforceStrictErrors(),a=a.enforceStrictErrors());let u=super.reduceSetter(e,{name:r,param:s,body:a});return!o&&isStrictFunctionBody(e.body)&&(u=u.addError(new EarlyError(e,'Functions with non-simple parameter lists may not contain a "use strict" directive'))),u=u.observeVarBoundary(),u}reduceStaticMemberExpression(e){let r=super.reduceStaticMemberExpression(...arguments);return e.object.type==="Super"&&(r=r.observeSuperPropertyExpression(e)),r}reduceSwitchStatement(e,{discriminant:r,cases:s}){let a=this.append(...s);a=a.functionDeclarationNamesAreLexical(),a=a.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),a=a.enforceConflictingLexicallyDeclaredNames(a.varDeclaredNames,DUPLICATE_BINDING),a=a.observeLexicalBoundary();let o=this.append(r,a);return o=o.clearFreeBreakStatements(),o}reduceSwitchStatementWithDefault(e,{discriminant:r,preDefaultCases:s,defaultCase:a,postDefaultCases:o}){let u=this.append(a,...s,...o);u=u.functionDeclarationNamesAreLexical(),u=u.enforceDuplicateLexicallyDeclaredNames(DUPLICATE_BINDING),u=u.enforceConflictingLexicallyDeclaredNames(u.varDeclaredNames,DUPLICATE_BINDING),u=u.observeLexicalBoundary();let l=this.append(r,u);return l=l.clearFreeBreakStatements(),l}reduceVariableDeclaration(e){let r=super.reduceVariableDeclaration(...arguments);switch(e.kind){case"const":case"let":{r=r.observeLexicalDeclaration(),r.lexicallyDeclaredNames.has("let")&&r.lexicallyDeclaredNames.get("let").forEach(s=>{r=r.addError(new EarlyError(s,'Lexical declarations must not have a binding named "let"'))});break}case"var":r=r.observeVarDeclaration();break}return r}reduceVariableDeclarationStatement(e){let r=super.reduceVariableDeclarationStatement(...arguments);return e.declaration.kind==="const"&&e.declaration.declarators.forEach(s=>{s.init==null&&(r=r.addError(new EarlyError(s,"Constant lexical declarations must have an initialiser")))}),r}reduceWhileStatement(e){let r=super.reduceWhileStatement(...arguments);return isLabelledFunction(e.body)&&(r=r.addError(new EarlyError(e.body,"The body of a while statement must not be a labeled function declaration"))),r=r.clearFreeContinueStatements().clearFreeBreakStatements(),r}reduceWithStatement(e){let r=super.reduceWithStatement(...arguments);return isLabelledFunction(e.body)&&(r=r.addError(new EarlyError(e.body,"The body of a with statement must not be a labeled function declaration"))),r=r.addStrictError(new EarlyError(e,"Strict mode code must not include a with statement")),r}reduceYieldExpression(e){let r=super.reduceYieldExpression(...arguments);return r=r.observeYieldExpression(e),r}reduceYieldGeneratorExpression(e){let r=super.reduceYieldGeneratorExpression(...arguments);return r=r.observeYieldExpression(e),r}static check(e){return reduce$2(new Bt,e).errors}};var earlyErrors={EarlyErrorChecker:EarlyErrorChecker$1};const{GenericParser}=parser,{JsError}=tokenizer,{EarlyErrorChecker}=earlyErrors,{isLineTerminator}=utils$1,{Tokenizer,TokenClass,TokenType}=tokenizer;class ParserWithLocation extends GenericParser{constructor(e){super(e),this.locations=new WeakMap,this.comments=[]}startNode(){return this.getLocation()}finishNode(e,r){if(e.type==="Script"||e.type==="Module")return this.locations.set(e,{start:{line:1,column:0,offset:0},end:this.getLocation()}),e;if(e.type==="TemplateExpression")for(let s=0;s<e.elements.length;s+=2){const a=s<e.elements.length-1?2:1,o=e.elements[s],u=this.locations.get(o);this.locations.set(o,{start:{line:u.start.line,column:u.start.column+1,offset:u.start.offset+1},end:{line:u.end.line,column:u.end.column-a,offset:u.end.offset-a}})}return this.locations.set(e,{start:r,end:this.getLastTokenEndLocation()}),e}copyNode(e,r){return this.locations.set(r,this.locations.get(e)),r}skipSingleLineComment(e){const r={line:this.line+1,column:this.index-this.lineStart,offset:this.index},s=this.source[this.index],a=s==="/"?"SingleLine":s==="<"?"HTMLOpen":"HTMLClose";super.skipSingleLineComment(e);const o={line:this.line+1,column:this.index-this.lineStart,offset:this.index},u=this.source[this.index-2]==="\r"?2:isLineTerminator(this.source.charCodeAt(this.index-1))?1:0,l=this.source.substring(r.offset+e,o.offset-u);this.comments.push({text:l,type:a,start:r,end:o})}skipMultiLineComment(){const e={line:this.line+1,column:this.index-this.lineStart,offset:this.index},r="MultiLine",s=super.skipMultiLineComment(),a={line:this.line+1,column:this.index-this.lineStart,offset:this.index},o=this.source.substring(e.offset+2,a.offset-2);return this.comments.push({text:o,type:r,start:e,end:a}),s}}function generateInterface(n){return function(r,{earlyErrors:s=!0}={}){let o=new GenericParser(r)[n]();if(s){let u=EarlyErrorChecker.check(o);if(u.length>0)throw new JsError(0,1,0,u[0].message)}return o}}function generateInterfaceWithLocation(n){return function(r,{earlyErrors:s=!0}={}){let a=new ParserWithLocation(r),o=a[n]();if(s){let u=EarlyErrorChecker.check(o);if(u.length>0){let{node:l,message:c}=u[0],{offset:h,line:f,column:d}=a.locations.get(l).start;throw new JsError(h,f,d,c)}}return{tree:o,locations:a.locations,comments:a.comments}}}const parseScript=generateInterface("parseScript"),parseModule=generateInterface("parseModule"),parseModuleWithLocation=generateInterfaceWithLocation("parseModule"),parseScriptWithLocation=generateInterfaceWithLocation("parseScript");var src$2={default:parseScript,parseScript,parseModule,parseModuleWithLocation,parseScriptWithLocation,EarlyErrorChecker,GenericParser,ParserWithLocation,Tokenizer,TokenClass,TokenType},dist={};Object.defineProperty(dist,"__esModule",{value:!0});dist.default=function(){var n={},e={typeName:"Boolean"},r={typeName:"Number"},s={typeName:"String"};function a(Ae){return{typeName:"Maybe",argument:Ae}}function o(Ae){return{typeName:"List",argument:Ae}}function u(Ae){return{typeName:"Const",argument:Ae}}function l(){return{typeName:"Union",arguments:[].slice.call(arguments,0)}}var c={typeName:"Enum",values:["ArrayAssignmentTarget","ArrayBinding","ArrayExpression","ArrowExpression","AssignmentExpression","AssignmentTargetIdentifier","AssignmentTargetPropertyIdentifier","AssignmentTargetPropertyProperty","AssignmentTargetWithDefault","AwaitExpression","BinaryExpression","BindingIdentifier","BindingPropertyIdentifier","BindingPropertyProperty","BindingWithDefault","Block","BlockStatement","BreakStatement","CallExpression","CatchClause","ClassDeclaration","ClassElement","ClassExpression","CompoundAssignmentExpression","ComputedMemberAssignmentTarget","ComputedMemberExpression","ComputedPropertyName","ConditionalExpression","ContinueStatement","DataProperty","DebuggerStatement","Directive","DoWhileStatement","EmptyStatement","Export","ExportAllFrom","ExportDefault","ExportFrom","ExportFromSpecifier","ExportLocalSpecifier","ExportLocals","ExpressionStatement","ForAwaitStatement","ForInStatement","ForOfStatement","ForStatement","FormalParameters","FunctionBody","FunctionDeclaration","FunctionExpression","Getter","IdentifierExpression","IfStatement","Import","ImportNamespace","ImportSpecifier","LabeledStatement","LiteralBooleanExpression","LiteralInfinityExpression","LiteralNullExpression","LiteralNumericExpression","LiteralRegExpExpression","LiteralStringExpression","Method","Module","NewExpression","NewTargetExpression","ObjectAssignmentTarget","ObjectBinding","ObjectExpression","ReturnStatement","Script","Setter","ShorthandProperty","SpreadElement","StaticMemberAssignmentTarget","StaticMemberExpression","StaticPropertyName","Super","SwitchCase","SwitchDefault","SwitchStatement","SwitchStatementWithDefault","TemplateElement","TemplateExpression","ThisExpression","ThrowStatement","TryCatchStatement","TryFinallyStatement","UnaryExpression","UpdateExpression","VariableDeclaration","VariableDeclarationStatement","VariableDeclarator","WhileStatement","WithStatement","YieldExpression","YieldGeneratorExpression"]},h={typeName:"Enum",values:["==","!=","===","!==","<","<=",">",">=","in","instanceof","<<",">>",">>>","+","-","*","/","%","**",",","||","&&","|","^","&"]},f={typeName:"Enum",values:["+=","-=","*=","/=","%=","**=","<<=",">>=",">>>=","|=","^=","&="]},d={typeName:"Enum",values:["+","-","!","~","typeof","void","delete"]},m={typeName:"Enum",values:["++","--"]},g={typeName:"Enum",values:["var","let","const"]},O=n.ArrayAssignmentTarget={},E=n.ArrayBinding={},D=n.ArrayExpression={},A=n.ArrowExpression={},S=n.AssignmentExpression={},B=n.AssignmentTargetIdentifier={},$=n.AssignmentTargetPropertyIdentifier={},x=n.AssignmentTargetPropertyProperty={},w=n.AssignmentTargetWithDefault={},R=n.AwaitExpression={},k=n.BinaryExpression={},y=n.BindingIdentifier={},P=n.BindingPropertyIdentifier={},b=n.BindingPropertyProperty={},_=n.BindingWithDefault={},N=n.Block={},Q=n.BlockStatement={},v=n.BreakStatement={},M=n.CallExpression={},W=n.CatchClause={},G=n.ClassDeclaration={},Z=n.ClassElement={},V=n.ClassExpression={},Y=n.CompoundAssignmentExpression={},j=n.ComputedMemberAssignmentTarget={},H=n.ComputedMemberExpression={},K=n.ComputedPropertyName={},J=n.ConditionalExpression={},L=n.ContinueStatement={},U=n.DataProperty={},te=n.DebuggerStatement={},se=n.Directive={},fe=n.DoWhileStatement={},le=n.EmptyStatement={},de=n.Export={},me=n.ExportAllFrom={},ke=n.ExportDefault={},be=n.ExportFrom={},Se=n.ExportFromSpecifier={},Ce=n.ExportLocalSpecifier={},$e=n.ExportLocals={},_e=n.ExpressionStatement={},we=n.ForAwaitStatement={},Pe=n.ForInStatement={},Re=n.ForOfStatement={},ve=n.ForStatement={},he=n.FormalParameters={},oe=n.FunctionBody={},ge=n.FunctionDeclaration={},ye=n.FunctionExpression={},Ie=n.Getter={},Oe=n.IdentifierExpression={},Le=n.IfStatement={},Ne=n.Import={},Me=n.ImportNamespace={},xe=n.ImportSpecifier={},Qe=n.LabeledStatement={},We=n.LiteralBooleanExpression={},qe=n.LiteralInfinityExpression={},Ze=n.LiteralNullExpression={},Ve=n.LiteralNumericExpression={},Ge=n.LiteralRegExpExpression={},Xe=n.LiteralStringExpression={},Ye=n.Method={},Ue=n.Module={},je=n.NewExpression={},He=n.NewTargetExpression={},ne=n.ObjectAssignmentTarget={},re=n.ObjectBinding={},ze=n.ObjectExpression={},Ke=n.ReturnStatement={},Je=n.Script={},et=n.Setter={},tt=n.ShorthandProperty={},Ee=n.SpreadElement={},it=n.StaticMemberAssignmentTarget={},rt=n.StaticMemberExpression={},st=n.StaticPropertyName={},ce=n.Super={},De=n.SwitchCase={},Te=n.SwitchDefault={},nt=n.SwitchStatement={},at=n.SwitchStatementWithDefault={},Fe=n.TemplateElement={},ot=n.TemplateExpression={},ut=n.ThisExpression={},ct=n.ThrowStatement={},ht=n.TryCatchStatement={},pt=n.TryFinallyStatement={},ft=n.UnaryExpression={},dt=n.UpdateExpression={},ue=n.VariableDeclaration={},mt=n.VariableDeclarationStatement={},Be=n.VariableDeclarator={},gt=n.WhileStatement={},Ot=n.WithStatement={},Et=n.YieldExpression={},Dt=n.YieldGeneratorExpression={},kt=l(H,rt),At=l($,x);l(G,V);var St=l(de,me,ke,be,$e),pe=l(K,st);l(ge,ye);var Ct=l(Ne,Me),bt=l(fe,we,Pe,Re,ve,gt),ae=l(j,it),yt=l(P,b),xt=l(Ie,Ye,et),$t=l(Ue,Je),_t=l(B,y,Oe),wt=l(U,xt),q=l(D,A,S,R,k,M,V,Y,J,ye,Oe,We,qe,Ze,Ve,Ge,Xe,kt,je,He,ze,ot,ut,ft,dt,Et,Dt),ee=l(Q,v,G,L,te,le,_e,ge,Le,bt,Qe,Ke,nt,at,ct,ht,pt,mt,Ot),Tt=l(wt,tt);return l(O,E,At,w,yt,_,N,W,Z,se,St,Se,Ce,q,he,oe,Ct,xe,ae,ne,re,Tt,$t,pe,Ee,ee,ce,De,Te,Fe,ue,Be,_t),O.typeName="ArrayAssignmentTarget",O.fields=[{name:"type",type:u(c),value:"ArrayAssignmentTarget"},{name:"elements",type:o(a(l(w,l(l(O,ne),l(B,ae)))))},{name:"rest",type:a(l(l(O,ne),l(B,ae)))}],E.typeName="ArrayBinding",E.fields=[{name:"type",type:u(c),value:"ArrayBinding"},{name:"elements",type:o(a(l(_,l(y,l(E,re)))))},{name:"rest",type:a(l(y,l(E,re)))}],D.typeName="ArrayExpression",D.fields=[{name:"type",type:u(c),value:"ArrayExpression"},{name:"elements",type:o(a(l(q,Ee)))}],A.typeName="ArrowExpression",A.fields=[{name:"type",type:u(c),value:"ArrowExpression"},{name:"isAsync",type:e},{name:"params",type:he},{name:"body",type:l(q,oe)}],S.typeName="AssignmentExpression",S.fields=[{name:"type",type:u(c),value:"AssignmentExpression"},{name:"binding",type:l(l(O,ne),l(B,ae))},{name:"expression",type:q}],B.typeName="AssignmentTargetIdentifier",B.fields=[{name:"type",type:u(c),value:"AssignmentTargetIdentifier"},{name:"name",type:s}],$.typeName="AssignmentTargetPropertyIdentifier",$.fields=[{name:"type",type:u(c),value:"AssignmentTargetPropertyIdentifier"},{name:"binding",type:B},{name:"init",type:a(q)}],x.typeName="AssignmentTargetPropertyProperty",x.fields=[{name:"type",type:u(c),value:"AssignmentTargetPropertyProperty"},{name:"name",type:pe},{name:"binding",type:l(w,l(l(O,ne),l(B,ae)))}],w.typeName="AssignmentTargetWithDefault",w.fields=[{name:"type",type:u(c),value:"AssignmentTargetWithDefault"},{name:"binding",type:l(l(O,ne),l(B,ae))},{name:"init",type:q}],R.typeName="AwaitExpression",R.fields=[{name:"type",type:u(c),value:"AwaitExpression"},{name:"expression",type:q}],k.typeName="BinaryExpression",k.fields=[{name:"type",type:u(c),value:"BinaryExpression"},{name:"left",type:q},{name:"operator",type:h},{name:"right",type:q}],y.typeName="BindingIdentifier",y.fields=[{name:"type",type:u(c),value:"BindingIdentifier"},{name:"name",type:s}],P.typeName="BindingPropertyIdentifier",P.fields=[{name:"type",type:u(c),value:"BindingPropertyIdentifier"},{name:"binding",type:y},{name:"init",type:a(q)}],b.typeName="BindingPropertyProperty",b.fields=[{name:"type",type:u(c),value:"BindingPropertyProperty"},{name:"name",type:pe},{name:"binding",type:l(_,l(y,l(E,re)))}],_.typeName="BindingWithDefault",_.fields=[{name:"type",type:u(c),value:"BindingWithDefault"},{name:"binding",type:l(y,l(E,re))},{name:"init",type:q}],N.typeName="Block",N.fields=[{name:"type",type:u(c),value:"Block"},{name:"statements",type:o(ee)}],Q.typeName="BlockStatement",Q.fields=[{name:"type",type:u(c),value:"BlockStatement"},{name:"block",type:N}],v.typeName="BreakStatement",v.fields=[{name:"type",type:u(c),value:"BreakStatement"},{name:"label",type:a(s)}],M.typeName="CallExpression",M.fields=[{name:"type",type:u(c),value:"CallExpression"},{name:"callee",type:l(q,ce)},{name:"arguments",type:o(l(q,Ee))}],W.typeName="CatchClause",W.fields=[{name:"type",type:u(c),value:"CatchClause"},{name:"binding",type:l(y,l(E,re))},{name:"body",type:N}],G.typeName="ClassDeclaration",G.fields=[{name:"type",type:u(c),value:"ClassDeclaration"},{name:"name",type:y},{name:"super",type:a(q)},{name:"elements",type:o(Z)}],Z.typeName="ClassElement",Z.fields=[{name:"type",type:u(c),value:"ClassElement"},{name:"isStatic",type:e},{name:"method",type:xt}],V.typeName="ClassExpression",V.fields=[{name:"type",type:u(c),value:"ClassExpression"},{name:"name",type:a(y)},{name:"super",type:a(q)},{name:"elements",type:o(Z)}],Y.typeName="CompoundAssignmentExpression",Y.fields=[{name:"type",type:u(c),value:"CompoundAssignmentExpression"},{name:"binding",type:l(B,ae)},{name:"operator",type:f},{name:"expression",type:q}],j.typeName="ComputedMemberAssignmentTarget",j.fields=[{name:"type",type:u(c),value:"ComputedMemberAssignmentTarget"},{name:"object",type:l(q,ce)},{name:"expression",type:q}],H.typeName="ComputedMemberExpression",H.fields=[{name:"type",type:u(c),value:"ComputedMemberExpression"},{name:"object",type:l(q,ce)},{name:"expression",type:q}],K.typeName="ComputedPropertyName",K.fields=[{name:"type",type:u(c),value:"ComputedPropertyName"},{name:"expression",type:q}],J.typeName="ConditionalExpression",J.fields=[{name:"type",type:u(c),value:"ConditionalExpression"},{name:"test",type:q},{name:"consequent",type:q},{name:"alternate",type:q}],L.typeName="ContinueStatement",L.fields=[{name:"type",type:u(c),value:"ContinueStatement"},{name:"label",type:a(s)}],U.typeName="DataProperty",U.fields=[{name:"type",type:u(c),value:"DataProperty"},{name:"name",type:pe},{name:"expression",type:q}],te.typeName="DebuggerStatement",te.fields=[{name:"type",type:u(c),value:"DebuggerStatement"}],se.typeName="Directive",se.fields=[{name:"type",type:u(c),value:"Directive"},{name:"rawValue",type:s}],fe.typeName="DoWhileStatement",fe.fields=[{name:"type",type:u(c),value:"DoWhileStatement"},{name:"body",type:ee},{name:"test",type:q}],le.typeName="EmptyStatement",le.fields=[{name:"type",type:u(c),value:"EmptyStatement"}],de.typeName="Export",de.fields=[{name:"type",type:u(c),value:"Export"},{name:"declaration",type:l(G,ge,ue)}],me.typeName="ExportAllFrom",me.fields=[{name:"type",type:u(c),value:"ExportAllFrom"},{name:"moduleSpecifier",type:s}],ke.typeName="ExportDefault",ke.fields=[{name:"type",type:u(c),value:"ExportDefault"},{name:"body",type:l(G,q,ge)}],be.typeName="ExportFrom",be.fields=[{name:"type",type:u(c),value:"ExportFrom"},{name:"namedExports",type:o(Se)},{name:"moduleSpecifier",type:s}],Se.typeName="ExportFromSpecifier",Se.fields=[{name:"type",type:u(c),value:"ExportFromSpecifier"},{name:"name",type:s},{name:"exportedName",type:a(s)}],Ce.typeName="ExportLocalSpecifier",Ce.fields=[{name:"type",type:u(c),value:"ExportLocalSpecifier"},{name:"name",type:Oe},{name:"exportedName",type:a(s)}],$e.typeName="ExportLocals",$e.fields=[{name:"type",type:u(c),value:"ExportLocals"},{name:"namedExports",type:o(Ce)}],_e.typeName="ExpressionStatement",_e.fields=[{name:"type",type:u(c),value:"ExpressionStatement"},{name:"expression",type:q}],we.typeName="ForAwaitStatement",we.fields=[{name:"type",type:u(c),value:"ForAwaitStatement"},{name:"left",type:l(l(l(O,ne),l(B,ae)),ue)},{name:"right",type:q},{name:"body",type:ee}],Pe.typeName="ForInStatement",Pe.fields=[{name:"type",type:u(c),value:"ForInStatement"},{name:"left",type:l(l(l(O,ne),l(B,ae)),ue)},{name:"right",type:q},{name:"body",type:ee}],Re.typeName="ForOfStatement",Re.fields=[{name:"type",type:u(c),value:"ForOfStatement"},{name:"left",type:l(l(l(O,ne),l(B,ae)),ue)},{name:"right",type:q},{name:"body",type:ee}],ve.typeName="ForStatement",ve.fields=[{name:"type",type:u(c),value:"ForStatement"},{name:"init",type:a(l(q,ue))},{name:"test",type:a(q)},{name:"update",type:a(q)},{name:"body",type:ee}],he.typeName="FormalParameters",he.fields=[{name:"type",type:u(c),value:"FormalParameters"},{name:"items",type:o(l(_,l(y,l(E,re))))},{name:"rest",type:a(l(y,l(E,re)))}],oe.typeName="FunctionBody",oe.fields=[{name:"type",type:u(c),value:"FunctionBody"},{name:"directives",type:o(se)},{name:"statements",type:o(ee)}],ge.typeName="FunctionDeclaration",ge.fields=[{name:"type",type:u(c),value:"FunctionDeclaration"},{name:"isAsync",type:e},{name:"isGenerator",type:e},{name:"name",type:y},{name:"params",type:he},{name:"body",type:oe}],ye.typeName="FunctionExpression",ye.fields=[{name:"type",type:u(c),value:"FunctionExpression"},{name:"isAsync",type:e},{name:"isGenerator",type:e},{name:"name",type:a(y)},{name:"params",type:he},{name:"body",type:oe}],Ie.typeName="Getter",Ie.fields=[{name:"type",type:u(c),value:"Getter"},{name:"name",type:pe},{name:"body",type:oe}],Oe.typeName="IdentifierExpression",Oe.fields=[{name:"type",type:u(c),value:"IdentifierExpression"},{name:"name",type:s}],Le.typeName="IfStatement",Le.fields=[{name:"type",type:u(c),value:"IfStatement"},{name:"test",type:q},{name:"consequent",type:ee},{name:"alternate",type:a(ee)}],Ne.typeName="Import",Ne.fields=[{name:"type",type:u(c),value:"Import"},{name:"defaultBinding",type:a(y)},{name:"namedImports",type:o(xe)},{name:"moduleSpecifier",type:s}],Me.typeName="ImportNamespace",Me.fields=[{name:"type",type:u(c),value:"ImportNamespace"},{name:"defaultBinding",type:a(y)},{name:"namespaceBinding",type:y},{name:"moduleSpecifier",type:s}],xe.typeName="ImportSpecifier",xe.fields=[{name:"type",type:u(c),value:"ImportSpecifier"},{name:"name",type:a(s)},{name:"binding",type:y}],Qe.typeName="LabeledStatement",Qe.fields=[{name:"type",type:u(c),value:"LabeledStatement"},{name:"label",type:s},{name:"body",type:ee}],We.typeName="LiteralBooleanExpression",We.fields=[{name:"type",type:u(c),value:"LiteralBooleanExpression"},{name:"value",type:e}],qe.typeName="LiteralInfinityExpression",qe.fields=[{name:"type",type:u(c),value:"LiteralInfinityExpression"}],Ze.typeName="LiteralNullExpression",Ze.fields=[{name:"type",type:u(c),value:"LiteralNullExpression"}],Ve.typeName="LiteralNumericExpression",Ve.fields=[{name:"type",type:u(c),value:"LiteralNumericExpression"},{name:"value",type:r}],Ge.typeName="LiteralRegExpExpression",Ge.fields=[{name:"type",type:u(c),value:"LiteralRegExpExpression"},{name:"pattern",type:s},{name:"global",type:e},{name:"ignoreCase",type:e},{name:"multiLine",type:e},{name:"dotAll",type:e},{name:"unicode",type:e},{name:"sticky",type:e}],Xe.typeName="LiteralStringExpression",Xe.fields=[{name:"type",type:u(c),value:"LiteralStringExpression"},{name:"value",type:s}],Ye.typeName="Method",Ye.fields=[{name:"type",type:u(c),value:"Method"},{name:"isAsync",type:e},{name:"isGenerator",type:e},{name:"name",type:pe},{name:"params",type:he},{name:"body",type:oe}],Ue.typeName="Module",Ue.fields=[{name:"type",type:u(c),value:"Module"},{name:"directives",type:o(se)},{name:"items",type:o(l(St,Ct,ee))}],je.typeName="NewExpression",je.fields=[{name:"type",type:u(c),value:"NewExpression"},{name:"callee",type:q},{name:"arguments",type:o(l(q,Ee))}],He.typeName="NewTargetExpression",He.fields=[{name:"type",type:u(c),value:"NewTargetExpression"}],ne.typeName="ObjectAssignmentTarget",ne.fields=[{name:"type",type:u(c),value:"ObjectAssignmentTarget"},{name:"properties",type:o(At)},{name:"rest",type:a(l(l(O,ne),l(B,ae)))}],re.typeName="ObjectBinding",re.fields=[{name:"type",type:u(c),value:"ObjectBinding"},{name:"properties",type:o(yt)},{name:"rest",type:a(l(y,l(E,re)))}],ze.typeName="ObjectExpression",ze.fields=[{name:"type",type:u(c),value:"ObjectExpression"},{name:"properties",type:o(Tt)}],Ke.typeName="ReturnStatement",Ke.fields=[{name:"type",type:u(c),value:"ReturnStatement"},{name:"expression",type:a(q)}],Je.typeName="Script",Je.fields=[{name:"type",type:u(c),value:"Script"},{name:"directives",type:o(se)},{name:"statements",type:o(ee)}],et.typeName="Setter",et.fields=[{name:"type",type:u(c),value:"Setter"},{name:"name",type:pe},{name:"param",type:l(_,l(y,l(E,re)))},{name:"body",type:oe}],tt.typeName="ShorthandProperty",tt.fields=[{name:"type",type:u(c),value:"ShorthandProperty"},{name:"name",type:Oe}],Ee.typeName="SpreadElement",Ee.fields=[{name:"type",type:u(c),value:"SpreadElement"},{name:"expression",type:q}],it.typeName="StaticMemberAssignmentTarget",it.fields=[{name:"type",type:u(c),value:"StaticMemberAssignmentTarget"},{name:"object",type:l(q,ce)},{name:"property",type:s}],rt.typeName="StaticMemberExpression",rt.fields=[{name:"type",type:u(c),value:"StaticMemberExpression"},{name:"object",type:l(q,ce)},{name:"property",type:s}],st.typeName="StaticPropertyName",st.fields=[{name:"type",type:u(c),value:"StaticPropertyName"},{name:"value",type:s}],ce.typeName="Super",ce.fields=[{name:"type",type:u(c),value:"Super"}],De.typeName="SwitchCase",De.fields=[{name:"type",type:u(c),value:"SwitchCase"},{name:"test",type:q},{name:"consequent",type:o(ee)}],Te.typeName="SwitchDefault",Te.fields=[{name:"type",type:u(c),value:"SwitchDefault"},{name:"consequent",type:o(ee)}],nt.typeName="SwitchStatement",nt.fields=[{name:"type",type:u(c),value:"SwitchStatement"},{name:"discriminant",type:q},{name:"cases",type:o(De)}],at.typeName="SwitchStatementWithDefault",at.fields=[{name:"type",type:u(c),value:"SwitchStatementWithDefault"},{name:"discriminant",type:q},{name:"preDefaultCases",type:o(De)},{name:"defaultCase",type:Te},{name:"postDefaultCases",type:o(De)}],Fe.typeName="TemplateElement",Fe.fields=[{name:"type",type:u(c),value:"TemplateElement"},{name:"rawValue",type:s}],ot.typeName="TemplateExpression",ot.fields=[{name:"type",type:u(c),value:"TemplateExpression"},{name:"tag",type:a(q)},{name:"elements",type:o(l(q,Fe))}],ut.typeName="ThisExpression",ut.fields=[{name:"type",type:u(c),value:"ThisExpression"}],ct.typeName="ThrowStatement",ct.fields=[{name:"type",type:u(c),value:"ThrowStatement"},{name:"expression",type:q}],ht.typeName="TryCatchStatement",ht.fields=[{name:"type",type:u(c),value:"TryCatchStatement"},{name:"body",type:N},{name:"catchClause",type:W}],pt.typeName="TryFinallyStatement",pt.fields=[{name:"type",type:u(c),value:"TryFinallyStatement"},{name:"body",type:N},{name:"catchClause",type:a(W)},{name:"finalizer",type:N}],ft.typeName="UnaryExpression",ft.fields=[{name:"type",type:u(c),value:"UnaryExpression"},{name:"operator",type:d},{name:"operand",type:q}],dt.typeName="UpdateExpression",dt.fields=[{name:"type",type:u(c),value:"UpdateExpression"},{name:"isPrefix",type:e},{name:"operator",type:m},{name:"operand",type:l(B,ae)}],ue.typeName="VariableDeclaration",ue.fields=[{name:"type",type:u(c),value:"VariableDeclaration"},{name:"kind",type:g},{name:"declarators",type:o(Be)}],mt.typeName="VariableDeclarationStatement",mt.fields=[{name:"type",type:u(c),value:"VariableDeclarationStatement"},{name:"declaration",type:ue}],Be.typeName="VariableDeclarator",Be.fields=[{name:"type",type:u(c),value:"VariableDeclarator"},{name:"binding",type:l(y,l(E,re))},{name:"init",type:a(q)}],gt.typeName="WhileStatement",gt.fields=[{name:"type",type:u(c),value:"WhileStatement"},{name:"test",type:q},{name:"body",type:ee}],Ot.typeName="WithStatement",Ot.fields=[{name:"type",type:u(c),value:"WithStatement"},{name:"object",type:q},{name:"body",type:ee}],Et.typeName="YieldExpression",Et.fields=[{name:"type",type:u(c),value:"YieldExpression"},{name:"expression",type:a(q)}],Dt.typeName="YieldGeneratorExpression",Dt.fields=[{name:"type",type:u(c),value:"YieldGeneratorExpression"},{name:"expression",type:q}],n}();const version$2="1.0.0",require$$1={version:version$2};var estraverse$1={};const version$1="4.2.0",require$$0={version:version$1};(function(n){(function e(r){var s,a,o,u,l,c,h,f,d;a=Array.isArray,a||(a=function(y){return Object.prototype.toString.call(y)==="[object Array]"});function m(k){var y={},P,b;for(P in k)k.hasOwnProperty(P)&&(b=k[P],typeof b=="object"&&b!==null?y[P]=m(b):y[P]=b);return y}function g(k,y){var P,b,_,N;for(b=k.length,_=0;b;)P=b>>>1,N=_+P,y(k[N])?b=P:(_=N+1,b-=P+1);return _}l=Object.create||function(){function k(){}return function(y){return k.prototype=y,new k}}(),c=Object.keys||function(k){var y=[],P;for(P in k)y.push(P);return y};function O(k,y){var P=c(y),b,_,N;for(_=0,N=P.length;_<N;_+=1)b=P[_],k[b]=y[b];return k}s={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},u={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},h={},f={},d={},o={Break:h,Skip:f,Remove:d};function E(k,y){this.parent=k,this.key=y}E.prototype.replace=function(y){this.parent[this.key]=y},E.prototype.remove=function(){return a(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function D(k,y,P,b){this.node=k,this.path=y,this.wrap=P,this.ref=b}function A(){}A.prototype.path=function(){var y,P,b,_,N,Q;function v(M,W){if(a(W))for(b=0,_=W.length;b<_;++b)M.push(W[b]);else M.push(W)}if(!this.__current.path)return null;for(N=[],y=2,P=this.__leavelist.length;y<P;++y)Q=this.__leavelist[y],v(N,Q.path);return v(N,this.__current.path),N},A.prototype.type=function(){var k=this.current();return k.type||this.__current.wrap},A.prototype.parents=function(){var y,P,b;for(b=[],y=1,P=this.__leavelist.length;y<P;++y)b.push(this.__leavelist[y].node);return b},A.prototype.current=function(){return this.__current.node},A.prototype.__execute=function(y,P){var b,_;return _=void 0,b=this.__current,this.__current=P,this.__state=null,y&&(_=y.call(this,P.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=b,_},A.prototype.notify=function(y){this.__state=y},A.prototype.skip=function(){this.notify(f)},A.prototype.break=function(){this.notify(h)},A.prototype.remove=function(){this.notify(d)},A.prototype.__initialize=function(k,y){this.visitor=y,this.root=k,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,y.fallback==="iteration"?this.__fallback=c:typeof y.fallback=="function"&&(this.__fallback=y.fallback),this.__keys=u,y.keys&&(this.__keys=O(l(this.__keys),y.keys))};function S(k){return k==null?!1:typeof k=="object"&&typeof k.type=="string"}function B(k,y){return(k===s.ObjectExpression||k===s.ObjectPattern)&&y==="properties"}A.prototype.traverse=function(y,P){var b,_,N,Q,v,M,W,G,Z,V,Y,j;for(this.__initialize(y,P),j={},b=this.__worklist,_=this.__leavelist,b.push(new D(y,null,null,null)),_.push(new D(null,null,null,null));b.length;){if(N=b.pop(),N===j){if(N=_.pop(),M=this.__execute(P.leave,N),this.__state===h||M===h)return;continue}if(N.node){if(M=this.__execute(P.enter,N),this.__state===h||M===h)return;if(b.push(j),_.push(N),this.__state===f||M===f)continue;if(Q=N.node,v=Q.type||N.wrap,V=this.__keys[v],!V)if(this.__fallback)V=this.__fallback(Q);else throw new Error("Unknown node type "+v+".");for(G=V.length;(G-=1)>=0;)if(W=V[G],Y=Q[W],!!Y)if(a(Y)){for(Z=Y.length;(Z-=1)>=0;)if(Y[Z]){if(B(v,V[G]))N=new D(Y[Z],[W,Z],"Property",null);else if(S(Y[Z]))N=new D(Y[Z],[W,Z],null,null);else continue;b.push(N)}}else S(Y)&&b.push(new D(Y,W,null,null))}}},A.prototype.replace=function(y,P){var b,_,N,Q,v,M,W,G,Z,V,Y,j,H;function K(J){var L,U,te,se;if(J.ref.remove()){for(U=J.ref.key,se=J.ref.parent,L=b.length;L--;)if(te=b[L],te.ref&&te.ref.parent===se){if(te.ref.key<U)break;--te.ref.key}}}for(this.__initialize(y,P),Y={},b=this.__worklist,_=this.__leavelist,j={root:y},M=new D(y,null,null,new E(j,"root")),b.push(M),_.push(M);b.length;){if(M=b.pop(),M===Y){if(M=_.pop(),v=this.__execute(P.leave,M),v!==void 0&&v!==h&&v!==f&&v!==d&&M.ref.replace(v),(this.__state===d||v===d)&&K(M),this.__state===h||v===h)return j.root;continue}if(v=this.__execute(P.enter,M),v!==void 0&&v!==h&&v!==f&&v!==d&&(M.ref.replace(v),M.node=v),(this.__state===d||v===d)&&(K(M),M.node=null),this.__state===h||v===h)return j.root;if(N=M.node,!!N&&(b.push(Y),_.push(M),!(this.__state===f||v===f))){if(Q=N.type||M.wrap,Z=this.__keys[Q],!Z)if(this.__fallback)Z=this.__fallback(N);else throw new Error("Unknown node type "+Q+".");for(W=Z.length;(W-=1)>=0;)if(H=Z[W],V=N[H],!!V)if(a(V)){for(G=V.length;(G-=1)>=0;)if(V[G]){if(B(Q,Z[W]))M=new D(V[G],[H,G],"Property",new E(V,G));else if(S(V[G]))M=new D(V[G],[H,G],null,new E(V,G));else continue;b.push(M)}}else S(V)&&b.push(new D(V,H,null,new E(N,H)))}}return j.root};function $(k,y){var P=new A;return P.traverse(k,y)}function x(k,y){var P=new A;return P.replace(k,y)}function w(k,y){var P;return P=g(y,function(_){return _.range[0]>k.range[0]}),k.extendedRange=[k.range[0],k.range[1]],P!==y.length&&(k.extendedRange[1]=y[P].range[0]),P-=1,P>=0&&(k.extendedRange[0]=y[P].range[1]),k}function R(k,y,P){var b=[],_,N,Q,v;if(!k.range)throw new Error("attachComments needs range information");if(!P.length){if(y.length){for(Q=0,N=y.length;Q<N;Q+=1)_=m(y[Q]),_.extendedRange=[0,k.range[0]],b.push(_);k.leadingComments=b}return k}for(Q=0,N=y.length;Q<N;Q+=1)b.push(w(m(y[Q]),P));return v=0,$(k,{enter:function(M){for(var W;v<b.length&&(W=b[v],!(W.extendedRange[1]>M.range[0]));)W.extendedRange[1]===M.range[0]?(M.leadingComments||(M.leadingComments=[]),M.leadingComments.push(W),b.splice(v,1)):v+=1;if(v===b.length)return o.Break;if(b[v].extendedRange[0]>M.range[1])return o.Skip}}),v=0,$(k,{leave:function(M){for(var W;v<b.length&&(W=b[v],!(M.range[1]<W.extendedRange[0]));)M.range[1]===W.extendedRange[0]?(M.trailingComments||(M.trailingComments=[]),M.trailingComments.push(W),b.splice(v,1)):v+=1;if(v===b.length)return o.Break;if(b[v].extendedRange[0]>M.range[1])return o.Skip}}),k}return r.version=require$$0.version,r.Syntax=s,r.traverse=$,r.replace=x,r.attachComments=R,r.VisitorKeys=u,r.VisitorOption=o,r.Controller=A,r.cloneEnvironment=function(){return e({})},r})(n)})(estraverse$1);const Spec=dist.default,{version}=require$$1,estraverse=estraverse$1.cloneEnvironment();Object.keys(estraverse.Syntax).filter(n=>n!=="Property").forEach(n=>{delete estraverse.Syntax[n],delete estraverse.VisitorKeys[n]});Object.assign(estraverse.Syntax,Object.keys(Spec).reduce((n,e)=>(n[e]=e,n),{}));Object.assign(estraverse.VisitorKeys,Object.keys(Spec).reduce((n,e)=>(n[e]=Spec[e].fields.map(r=>r.name),n),{}));estraverse.version=version;var src$1=estraverse;const pkg=getDefaultExportFromCjs(src$1),idContinueLargeRegex$1=/^[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]$/,idContinueBool$1=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!0,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1];var unicode={idContinueLargeRegex:idContinueLargeRegex$1,idContinueBool:idContinueBool$1};const{idContinueLargeRegex,idContinueBool}=unicode;function isIdentifierPartES6(n){let e=n.charCodeAt(0);return e<128?idContinueBool[e]:idContinueLargeRegex.test(n)}function needsDoubleDot$1(n){return n.indexOf(".")<0&&n.indexOf("e")<0&&n.indexOf("x")<0}function renderNumber(n){let e;return n>=1e3&&n%10===0?(e=n.toString(10),/[eE]/.test(e)?e.replace(/[eE]\+/,"e"):n.toString(10).replace(/0{3,}$/,r=>"e"+r.length)):n%1===0?n>1e15&&n<1e20?"0x"+n.toString(16).toUpperCase():n.toString(10).replace(/[eE]\+/,"e"):n.toString(10).replace(/^0\./,".").replace(/[eE]\+/,"e")}let TokenStream$2=class{constructor(){this.result="",this.lastNumber=null,this.lastCodePoint=null,this.lastTokenStr="",this.optionalSemi=!1,this.previousWasRegExp=!1,this.partialHtmlComment=!1}putNumber(e){let r=renderNumber(e);this.put(r),this.lastNumber=r}putOptionalSemi(){this.optionalSemi=!0}putRaw(e){this.result+=e,this.lastTokenStr=e}put(e,r){if(this.optionalSemi&&(this.optionalSemi=!1,e!=="}"&&(this.result+=";",this.lastCodePoint=";",this.previousWasRegExp=!1)),this.lastNumber!==null&&e.length===1&&e==="."){this.result+=needsDoubleDot$1(this.lastNumber)?"..":".",this.lastNumber=null,this.lastCodePoint=".";return}let s=[...e].length;if(s>0){this.lastNumber=null;let a=String.fromCodePoint(e.codePointAt(0)),o=this.lastCodePoint;this.lastCodePoint=String.fromCodePoint(e.codePointAt(s-1));let u=this.previousWasRegExp;this.previousWasRegExp=r,o&&((o==="+"||o==="-")&&o===a||isIdentifierPartES6(o)&&isIdentifierPartES6(a)||o==="/"&&a==="/"||u&&a==="i"||this.partialHtmlComment&&e.startsWith("--"))&&(this.result+=" ")}this.partialHtmlComment=this.lastTokenStr.endsWith("<")&&e==="!",this.result+=e,this.lastTokenStr=e}};var tokenStream={needsDoubleDot:needsDoubleDot$1,TokenStream:TokenStream$2};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function shouldUseNative(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var s=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(s.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign$2=shouldUseNative()?Object.assign:function(n,e){for(var r,s=toObject(n),a,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var u in r)hasOwnProperty.call(r,u)&&(s[u]=r[u]);if(getOwnPropertySymbols){a=getOwnPropertySymbols(r);for(var l=0;l<a.length;l++)propIsEnumerable.call(r,a[l])&&(s[a[l]]=r[a[l]])}}return s},utils={},ast={exports:{}};(function(){function n(u){if(u==null)return!1;switch(u.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function e(u){if(u==null)return!1;switch(u.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function r(u){if(u==null)return!1;switch(u.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function s(u){return r(u)||u!=null&&u.type==="FunctionDeclaration"}function a(u){switch(u.type){case"IfStatement":return u.alternate!=null?u.alternate:u.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return u.body}return null}function o(u){var l;if(u.type!=="IfStatement"||u.alternate==null)return!1;l=u.consequent;do{if(l.type==="IfStatement"&&l.alternate==null)return!0;l=a(l)}while(l);return!1}ast.exports={isExpression:n,isStatement:r,isIterationStatement:e,isSourceElement:s,isProblematicIfStatement:o,trailingStatement:a}})();var astExports=ast.exports,code={exports:{}};(function(){var n,e,r,s,a,o;e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function u(D){return 48<=D&&D<=57}function l(D){return 48<=D&&D<=57||97<=D&&D<=102||65<=D&&D<=70}function c(D){return D>=48&&D<=55}r=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function h(D){return D===32||D===9||D===11||D===12||D===160||D>=5760&&r.indexOf(D)>=0}function f(D){return D===10||D===13||D===8232||D===8233}function d(D){if(D<=65535)return String.fromCharCode(D);var A=String.fromCharCode(Math.floor((D-65536)/1024)+55296),S=String.fromCharCode((D-65536)%1024+56320);return A+S}for(s=new Array(128),o=0;o<128;++o)s[o]=o>=97&&o<=122||o>=65&&o<=90||o===36||o===95;for(a=new Array(128),o=0;o<128;++o)a[o]=o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===36||o===95;function m(D){return D<128?s[D]:e.NonAsciiIdentifierStart.test(d(D))}function g(D){return D<128?a[D]:e.NonAsciiIdentifierPart.test(d(D))}function O(D){return D<128?s[D]:n.NonAsciiIdentifierStart.test(d(D))}function E(D){return D<128?a[D]:n.NonAsciiIdentifierPart.test(d(D))}code.exports={isDecimalDigit:u,isHexDigit:l,isOctalDigit:c,isWhiteSpace:h,isLineTerminator:f,isIdentifierStartES5:m,isIdentifierPartES5:g,isIdentifierStartES6:O,isIdentifierPartES6:E}})();var codeExports=code.exports,keyword$2={exports:{}};(function(){var n=codeExports;function e(m){switch(m){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function r(m,g){return!g&&m==="yield"?!1:s(m,g)}function s(m,g){if(g&&e(m))return!0;switch(m.length){case 2:return m==="if"||m==="in"||m==="do";case 3:return m==="var"||m==="for"||m==="new"||m==="try";case 4:return m==="this"||m==="else"||m==="case"||m==="void"||m==="with"||m==="enum";case 5:return m==="while"||m==="break"||m==="catch"||m==="throw"||m==="const"||m==="yield"||m==="class"||m==="super";case 6:return m==="return"||m==="typeof"||m==="delete"||m==="switch"||m==="export"||m==="import";case 7:return m==="default"||m==="finally"||m==="extends";case 8:return m==="function"||m==="continue"||m==="debugger";case 10:return m==="instanceof";default:return!1}}function a(m,g){return m==="null"||m==="true"||m==="false"||r(m,g)}function o(m,g){return m==="null"||m==="true"||m==="false"||s(m,g)}function u(m){return m==="eval"||m==="arguments"}function l(m){var g,O,E;if(m.length===0||(E=m.charCodeAt(0),!n.isIdentifierStartES5(E)))return!1;for(g=1,O=m.length;g<O;++g)if(E=m.charCodeAt(g),!n.isIdentifierPartES5(E))return!1;return!0}function c(m,g){return(m-55296)*1024+(g-56320)+65536}function h(m){var g,O,E,D,A;if(m.length===0)return!1;for(A=n.isIdentifierStartES6,g=0,O=m.length;g<O;++g){if(E=m.charCodeAt(g),55296<=E&&E<=56319){if(++g,g>=O||(D=m.charCodeAt(g),!(56320<=D&&D<=57343)))return!1;E=c(E,D)}if(!A(E))return!1;A=n.isIdentifierPartES6}return!0}function f(m,g){return l(m)&&!a(m,g)}function d(m,g){return h(m)&&!o(m,g)}keyword$2.exports={isKeywordES5:r,isKeywordES6:s,isReservedWordES5:a,isReservedWordES6:o,isRestrictedWord:u,isIdentifierNameES5:l,isIdentifierNameES6:h,isIdentifierES5:f,isIdentifierES6:d}})();var keywordExports=keyword$2.exports;(function(){utils.ast=astExports,utils.code=codeExports,utils.keyword=keywordExports})();const Precedence$3={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Exponential:13,Prefix:14,Postfix:15,New:16,Call:17,TaggedTemplate:18,Member:19,Primary:20},BinaryPrecedence={",":Precedence$3.Sequence,"||":Precedence$3.LogicalOR,"&&":Precedence$3.LogicalAND,"|":Precedence$3.BitwiseOR,"^":Precedence$3.BitwiseXOR,"&":Precedence$3.BitwiseAND,"==":Precedence$3.Equality,"!=":Precedence$3.Equality,"===":Precedence$3.Equality,"!==":Precedence$3.Equality,"<":Precedence$3.Relational,">":Precedence$3.Relational,"<=":Precedence$3.Relational,">=":Precedence$3.Relational,in:Precedence$3.Relational,instanceof:Precedence$3.Relational,"<<":Precedence$3.BitwiseSHIFT,">>":Precedence$3.BitwiseSHIFT,">>>":Precedence$3.BitwiseSHIFT,"+":Precedence$3.Additive,"-":Precedence$3.Additive,"*":Precedence$3.Multiplicative,"%":Precedence$3.Multiplicative,"/":Precedence$3.Multiplicative,"**":Precedence$3.Exponential};function getPrecedence$3(n){switch(n.type){case"ArrayExpression":case"FunctionExpression":case"ClassExpression":case"IdentifierExpression":case"AssignmentTargetIdentifier":case"NewTargetExpression":case"Super":case"LiteralBooleanExpression":case"LiteralNullExpression":case"LiteralNumericExpression":case"LiteralInfinityExpression":case"LiteralRegExpExpression":case"LiteralStringExpression":case"ObjectExpression":case"ThisExpression":case"SpreadElement":case"FunctionBody":return Precedence$3.Primary;case"ArrowExpression":case"AssignmentExpression":case"CompoundAssignmentExpression":case"YieldExpression":case"YieldGeneratorExpression":return Precedence$3.Assignment;case"ConditionalExpression":return Precedence$3.Conditional;case"ComputedMemberExpression":case"StaticMemberExpression":case"ComputedMemberAssignmentTarget":case"StaticMemberAssignmentTarget":switch(n.object.type){case"CallExpression":case"ComputedMemberExpression":case"StaticMemberExpression":case"TemplateExpression":return getPrecedence$3(n.object);default:return Precedence$3.Member}case"TemplateExpression":if(n.tag==null)return Precedence$3.Member;switch(n.tag.type){case"CallExpression":case"ComputedMemberExpression":case"StaticMemberExpression":case"TemplateExpression":return getPrecedence$3(n.tag);default:return Precedence$3.Member}case"BinaryExpression":return BinaryPrecedence[n.operator];case"CallExpression":return Precedence$3.Call;case"NewExpression":return n.arguments.length===0?Precedence$3.New:Precedence$3.Member;case"UpdateExpression":return n.isPrefix?Precedence$3.Prefix:Precedence$3.Postfix;case"AwaitExpression":case"UnaryExpression":return Precedence$3.Prefix;default:throw new Error("unreachable: "+n.type)}}function escapeStringLiteral$3(n){let e="",r=0,s=0;for(let o=0,u=n.length;o<u;++o){let l=n[o];l==='"'?++s:l==="'"&&++r}let a=s>r?"'":'"';e+=a;for(let o=0;o<n.length;o++){let u=n.charAt(o);switch(u){case a:e+="\\"+a;break;case`
`:e+="\\n";break;case"\r":e+="\\r";break;case"\\":e+="\\\\";break;case"\u2028":e+="\\u2028";break;case"\u2029":e+="\\u2029";break;default:e+=u;break}}return e+=a,e}let CodeRep$2=class{constructor(){this.containsIn=!1,this.containsGroup=!1,this.startsWithCurly=!1,this.startsWithFunctionOrClass=!1,this.startsWithLet=!1,this.startsWithLetSquareBracket=!1,this.endsWithMissingElse=!1}forEach(e){e(this)}},Empty$3=class extends CodeRep$2{constructor(){super()}emit(){}},Token$3=class extends CodeRep$2{constructor(e,r=!1){super(),this.token=e,this.isRegExp=r}emit(e){e.put(this.token,this.isRegExp)}},RawToken$1=class extends CodeRep$2{constructor(e){super(),this.token=e}emit(e){e.putRaw(this.token)}},NumberCodeRep$3=class extends CodeRep$2{constructor(e){super(),this.number=e}emit(e){e.putNumber(this.number)}},Paren$3=class extends CodeRep$2{constructor(e){super(),this.expr=e}emit(e){e.put("("),this.expr.emit(e,!1),e.put(")")}forEach(e){e(this),this.expr.forEach(e)}},Bracket$3=class extends CodeRep$2{constructor(e){super(),this.expr=e}emit(e){e.put("["),this.expr.emit(e,!1),e.put("]")}forEach(e){e(this),this.expr.forEach(e)}},Brace$3=class extends CodeRep$2{constructor(e){super(),this.expr=e}emit(e){e.put("{"),this.expr.emit(e,!1),e.put("}")}forEach(e){e(this),this.expr.forEach(e)}},NoIn$3=class extends CodeRep$2{constructor(e){super(),this.expr=e}emit(e){this.expr.emit(e,!0)}forEach(e){e(this),this.expr.forEach(e)}},ContainsIn$3=class extends CodeRep$2{constructor(e){super(),this.expr=e}emit(e,r){r?(e.put("("),this.expr.emit(e,!1),e.put(")")):this.expr.emit(e,!1)}forEach(e){e(this),this.expr.forEach(e)}},Seq$3=class extends CodeRep$2{constructor(e){super(),this.children=e}emit(e,r){this.children.forEach(s=>s.emit(e,r))}forEach(e){e(this),this.children.forEach(r=>r.forEach(e))}},Semi$2=class extends Token$3{constructor(){super(";")}},CommaSep$2=class extends CodeRep$2{constructor(e){super(),this.children=e}emit(e,r){let s=!0;this.children.forEach(a=>{s?s=!1:e.put(","),a.emit(e,r)})}forEach(e){e(this),this.children.forEach(r=>r.forEach(e))}},SemiOp$3=class extends CodeRep$2{constructor(){super()}emit(e){e.putOptionalSemi()}};var coderep={Precedence:Precedence$3,getPrecedence:getPrecedence$3,escapeStringLiteral:escapeStringLiteral$3,CodeRep:CodeRep$2,Empty:Empty$3,Token:Token$3,RawToken:RawToken$1,NumberCodeRep:NumberCodeRep$3,Paren:Paren$3,Bracket:Bracket$3,Brace:Brace$3,NoIn:NoIn$3,ContainsIn:ContainsIn$3,Seq:Seq$3,Semi:Semi$2,CommaSep:CommaSep$2,SemiOp:SemiOp$3};const objectAssign$1=objectAssign$2,{keyword:keyword$1}=utils,{Precedence:Precedence$2,getPrecedence:getPrecedence$2,escapeStringLiteral:escapeStringLiteral$2,Empty:Empty$2,Token:Token$2,RawToken,NumberCodeRep:NumberCodeRep$2,Paren:Paren$2,Bracket:Bracket$2,Brace:Brace$2,NoIn:NoIn$2,ContainsIn:ContainsIn$2,Seq:Seq$2,Semi:Semi$1,CommaSep:CommaSep$1,SemiOp:SemiOp$2}=coderep;function p(n,e,r){return getPrecedence$2(n)<e?paren(r):r}function t(n,e=!1){return new Token$2(n,e)}function paren(n){return new Paren$2(n)}function brace(n){return new Brace$2(n)}function bracket(n){return new Bracket$2(n)}function noIn$1(n){return new NoIn$2(n)}function markContainsIn$1(n){return n.containsIn?new ContainsIn$2(n):n}function seq$1(...n){return new Seq$2(n)}function semi(){return new Semi$1}function semiOp(){return new SemiOp$2}function empty$1(){return new Empty$2}function commaSep(n){return new CommaSep$1(n)}function getAssignmentExpr(n){return n?n.containsGroup?paren(n):n:empty$1()}let MinimalCodeGen$2=class{parenToAvoidBeingDirective(e,r){return e&&e.type==="ExpressionStatement"&&e.expression.type==="LiteralStringExpression"?seq$1(paren(r.children[0]),semiOp()):r}regenerateArrowParams(e,r){return e.rest==null&&e.items.length===1&&e.items[0].type==="BindingIdentifier"?this.reduceBindingIdentifier(e.items[0]):r}reduceArrayExpression(e,{elements:r}){if(r.length===0)return bracket(empty$1());let s=commaSep(r.map(getAssignmentExpr));return r.length>0&&r[r.length-1]==null&&(s=seq$1(s,t(","))),bracket(s)}reduceAwaitExpression(e,{expression:r}){return seq$1(t("await"),p(e.expression,getPrecedence$2(e),r))}reduceSpreadElement(e,{expression:r}){return seq$1(t("..."),p(e.expression,Precedence$2.Assignment,r))}reduceSpreadProperty(e,{expression:r}){return seq$1(t("..."),getAssignmentExpr(r))}reduceAssignmentExpression(e,{binding:r,expression:s}){let a=r,o=s,u=s.containsIn,l=r.startsWithCurly,c=r.startsWithLetSquareBracket,h=r.startsWithFunctionOrClass;return getPrecedence$2(e.expression)<getPrecedence$2(e)&&(o=paren(o),u=!1),objectAssign$1(seq$1(a,t("="),o),{containsIn:u,startsWithCurly:l,startsWithLetSquareBracket:c,startsWithFunctionOrClass:h})}reduceAssignmentTargetIdentifier(e){let r=t(e.name);return e.name==="let"&&(r.startsWithLet=!0),r}reduceAssignmentTargetWithDefault(e,{binding:r,init:s}){return seq$1(r,t("="),p(e.init,Precedence$2.Assignment,s))}reduceCompoundAssignmentExpression(e,{binding:r,expression:s}){let a=r,o=s,u=s.containsIn,l=r.startsWithCurly,c=r.startsWithLetSquareBracket,h=r.startsWithFunctionOrClass;return getPrecedence$2(e.expression)<getPrecedence$2(e)&&(o=paren(o),u=!1),objectAssign$1(seq$1(a,t(e.operator),o),{containsIn:u,startsWithCurly:l,startsWithLetSquareBracket:c,startsWithFunctionOrClass:h})}reduceBinaryExpression(e,{left:r,right:s}){let a=r,o=r.startsWithCurly,u=r.startsWithLetSquareBracket,l=r.startsWithFunctionOrClass,c=r.containsIn,h=e.operator==="**";(getPrecedence$2(e.left)<getPrecedence$2(e)||h&&(getPrecedence$2(e.left)===getPrecedence$2(e)||e.left.type==="UnaryExpression"))&&(a=paren(a),o=!1,u=!1,l=!1,c=!1);let f=s,d=s.containsIn;return(getPrecedence$2(e.right)<getPrecedence$2(e)||!h&&getPrecedence$2(e.right)===getPrecedence$2(e))&&(f=paren(f),d=!1),objectAssign$1(seq$1(a,t(e.operator),f),{containsIn:c||d||e.operator==="in",containsGroup:e.operator===",",startsWithCurly:o,startsWithLetSquareBracket:u,startsWithFunctionOrClass:l})}reduceBindingWithDefault(e,{binding:r,init:s}){return seq$1(r,t("="),p(e.init,Precedence$2.Assignment,s))}reduceBindingIdentifier(e){let r=t(e.name);return e.name==="let"&&(r.startsWithLet=!0),r}reduceArrayAssignmentTarget(e,{elements:r,rest:s}){let a;return r.length===0?a=s==null?empty$1():seq$1(t("..."),s):(r=r.concat(s==null?[]:[seq$1(t("..."),s)]),a=commaSep(r.map(getAssignmentExpr)),r.length>0&&r[r.length-1]==null&&(a=seq$1(a,t(",")))),bracket(a)}reduceArrayBinding(e,{elements:r,rest:s}){let a;return r.length===0?a=s==null?empty$1():seq$1(t("..."),s):(r=r.concat(s==null?[]:[seq$1(t("..."),s)]),a=commaSep(r.map(getAssignmentExpr)),r.length>0&&r[r.length-1]==null&&(a=seq$1(a,t(",")))),bracket(a)}reduceObjectAssignmentTarget(e,{properties:r,rest:s}){let a=commaSep(r);r.length===0?a=s==null?empty$1():seq$1(t("..."),s):a=s==null?a:seq$1(a,t(","),t("..."),s);let o=brace(a);return o.startsWithCurly=!0,o}reduceObjectBinding(e,{properties:r,rest:s}){let a=commaSep(r);r.length===0?a=s==null?empty$1():seq$1(t("..."),s):a=s==null?a:seq$1(a,t(","),t("..."),s);let o=brace(a);return o.startsWithCurly=!0,o}reduceAssignmentTargetPropertyIdentifier(e,{binding:r,init:s}){return e.init==null?r:seq$1(r,t("="),p(e.init,Precedence$2.Assignment,s))}reduceAssignmentTargetPropertyProperty(e,{name:r,binding:s}){return seq$1(r,t(":"),s)}reduceBindingPropertyIdentifier(e,{binding:r,init:s}){return e.init==null?r:seq$1(r,t("="),p(e.init,Precedence$2.Assignment,s))}reduceBindingPropertyProperty(e,{name:r,binding:s}){return seq$1(r,t(":"),s)}reduceBlock(e,{statements:r}){return brace(seq$1(...r))}reduceBlockStatement(e,{block:r}){return r}reduceBreakStatement(e){return seq$1(t("break"),e.label?t(e.label):empty$1(),semiOp())}reduceCallExpression(e,{callee:r,arguments:s}){const a=s.map((o,u)=>p(e.arguments[u],Precedence$2.Assignment,o));return objectAssign$1(seq$1(p(e.callee,getPrecedence$2(e),r),paren(commaSep(a))),{startsWithCurly:r.startsWithCurly,startsWithLet:r.startsWithLet,startsWithLetSquareBracket:r.startsWithLetSquareBracket,startsWithFunctionOrClass:r.startsWithFunctionOrClass})}reduceCatchClause(e,{binding:r,body:s}){return r==null?seq$1(t("catch"),s):seq$1(t("catch"),paren(r),s)}reduceClassDeclaration(e,{name:r,super:s,elements:a}){let o=seq$1(t("class"),e.name.name==="*default*"?empty$1():r);return s!=null&&(o=seq$1(o,t("extends"),p(e.super,Precedence$2.New,s))),o=seq$1(o,t("{"),...a,t("}")),o}reduceClassExpression(e,{name:r,super:s,elements:a}){let o=t("class");return r!=null&&(o=seq$1(o,r)),s!=null&&(o=seq$1(o,t("extends"),p(e.super,Precedence$2.New,s))),o=seq$1(o,t("{"),...a,t("}")),o.startsWithFunctionOrClass=!0,o}reduceClassElement(e,{method:r}){return e.isStatic?seq$1(t("static"),r):r}reduceComputedMemberAssignmentTarget(e,{object:r,expression:s}){let a=r.startsWithLetSquareBracket||e.object.type==="IdentifierExpression"&&e.object.name==="let";return objectAssign$1(seq$1(p(e.object,getPrecedence$2(e),r),bracket(s)),{startsWithLet:r.startsWithLet,startsWithLetSquareBracket:a,startsWithCurly:r.startsWithCurly,startsWithFunctionOrClass:r.startsWithFunctionOrClass})}reduceComputedMemberExpression(e,{object:r,expression:s}){let a=r.startsWithLetSquareBracket||e.object.type==="IdentifierExpression"&&e.object.name==="let";return objectAssign$1(seq$1(p(e.object,getPrecedence$2(e),r),bracket(s)),{startsWithLet:r.startsWithLet,startsWithLetSquareBracket:a,startsWithCurly:r.startsWithCurly,startsWithFunctionOrClass:r.startsWithFunctionOrClass})}reduceComputedPropertyName(e,{expression:r}){return bracket(p(e.expression,Precedence$2.Assignment,r))}reduceConditionalExpression(e,{test:r,consequent:s,alternate:a}){let o=r.containsIn||a.containsIn,u=r.startsWithCurly,l=r.startsWithLetSquareBracket,c=r.startsWithFunctionOrClass;return objectAssign$1(seq$1(p(e.test,Precedence$2.LogicalOR,r),t("?"),p(e.consequent,Precedence$2.Assignment,s),t(":"),p(e.alternate,Precedence$2.Assignment,a)),{containsIn:o,startsWithCurly:u,startsWithLetSquareBracket:l,startsWithFunctionOrClass:c})}reduceContinueStatement(e){return seq$1(t("continue"),e.label?t(e.label):empty$1(),semiOp())}reduceDataProperty(e,{name:r,expression:s}){return seq$1(r,t(":"),getAssignmentExpr(s))}reduceDebuggerStatement(){return seq$1(t("debugger"),semiOp())}reduceDoWhileStatement(e,{body:r,test:s}){return seq$1(t("do"),r,t("while"),paren(s),semiOp())}reduceEmptyStatement(){return semi()}reduceExpressionStatement(e,{expression:r}){let s=r.startsWithCurly||r.startsWithLetSquareBracket||r.startsWithFunctionOrClass;return seq$1(s?paren(r):r,semiOp())}reduceForInStatement(e,{left:r,right:s,body:a}){return r=e.left.type==="VariableDeclaration"?noIn$1(markContainsIn$1(r)):r,objectAssign$1(seq$1(t("for"),paren(seq$1(r.startsWithLet?paren(r):r,t("in"),s)),a),{endsWithMissingElse:a.endsWithMissingElse})}reduceForOfStatement(e,{left:r,right:s,body:a}){return r=e.left.type==="VariableDeclaration"?noIn$1(markContainsIn$1(r)):r,objectAssign$1(seq$1(t("for"),paren(seq$1(r.startsWithLet?paren(r):r,t("of"),p(e.right,Precedence$2.Assignment,s))),a),{endsWithMissingElse:a.endsWithMissingElse})}reduceForStatement(e,{init:r,test:s,update:a,body:o}){return r&&(r.startsWithLetSquareBracket&&(r=paren(r)),r=noIn$1(markContainsIn$1(r))),objectAssign$1(seq$1(t("for"),paren(seq$1(r||empty$1(),semi(),s||empty$1(),semi(),a||empty$1())),o),{endsWithMissingElse:o.endsWithMissingElse})}reduceForAwaitStatement(e,{left:r,right:s,body:a}){return r=e.left.type==="VariableDeclaration"?noIn$1(markContainsIn$1(r)):r,objectAssign$1(seq$1(t("for"),t("await"),paren(seq$1(r.startsWithLet?paren(r):r,t("of"),p(e.right,Precedence$2.Assignment,s))),a),{endsWithMissingElse:a.endsWithMissingElse})}reduceFunctionBody(e,{directives:r,statements:s}){return s.length&&(s[0]=this.parenToAvoidBeingDirective(e.statements[0],s[0])),brace(seq$1(...r,...s))}reduceFunctionDeclaration(e,{name:r,params:s,body:a}){return seq$1(e.isAsync?t("async"):empty$1(),t("function"),e.isGenerator?t("*"):empty$1(),e.name.name==="*default*"?empty$1():r,s,a)}reduceFunctionExpression(e,{name:r,params:s,body:a}){let o=seq$1(e.isAsync?t("async"):empty$1(),t("function"),e.isGenerator?t("*"):empty$1(),r||empty$1(),s,a);return o.startsWithFunctionOrClass=!0,o}reduceFormalParameters(e,{items:r,rest:s}){return paren(commaSep(r.concat(s==null?[]:[seq$1(t("..."),s)])))}reduceArrowExpression(e,{params:r,body:s}){r=this.regenerateArrowParams(e.params,r);let a=!1;return e.body.type!=="FunctionBody"&&(s.startsWithCurly?s=paren(s):s.containsIn&&(a=!0)),objectAssign$1(seq$1(e.isAsync?t("async"):empty$1(),r,t("=>"),p(e.body,Precedence$2.Assignment,s)),{containsIn:a})}reduceGetter(e,{name:r,body:s}){return seq$1(t("get"),r,paren(empty$1()),s)}reduceIdentifierExpression(e){let r=t(e.name);return e.name==="let"&&(r.startsWithLet=!0),r}reduceIfStatement(e,{test:r,consequent:s,alternate:a}){return a&&s.endsWithMissingElse&&(s=brace(s)),objectAssign$1(seq$1(t("if"),paren(r),s,a?seq$1(t("else"),a):empty$1()),{endsWithMissingElse:a?a.endsWithMissingElse:!0})}reduceImport(e,{defaultBinding:r,namedImports:s}){let a=[];return r!=null&&a.push(r),s.length>0&&a.push(brace(commaSep(s))),a.length===0?seq$1(t("import"),t(escapeStringLiteral$2(e.moduleSpecifier)),semiOp()):seq$1(t("import"),commaSep(a),t("from"),t(escapeStringLiteral$2(e.moduleSpecifier)),semiOp())}reduceImportNamespace(e,{defaultBinding:r,namespaceBinding:s}){return seq$1(t("import"),r==null?empty$1():seq$1(r,t(",")),t("*"),t("as"),s,t("from"),t(escapeStringLiteral$2(e.moduleSpecifier)),semiOp())}reduceImportSpecifier(e,{binding:r}){return e.name==null?r:seq$1(t(e.name),t("as"),r)}reduceExportAllFrom(e){return seq$1(t("export"),t("*"),t("from"),t(escapeStringLiteral$2(e.moduleSpecifier)),semiOp())}reduceExportFrom(e,{namedExports:r}){return seq$1(t("export"),brace(commaSep(r)),t("from"),t(escapeStringLiteral$2(e.moduleSpecifier)),semiOp())}reduceExportLocals(e,{namedExports:r}){return seq$1(t("export"),brace(commaSep(r)),semiOp())}reduceExport(e,{declaration:r}){switch(e.declaration.type){case"FunctionDeclaration":case"ClassDeclaration":break;default:r=seq$1(r,semiOp())}return seq$1(t("export"),r)}reduceExportDefault(e,{body:r}){switch(r=r.startsWithFunctionOrClass?paren(r):r,e.body.type){case"FunctionDeclaration":case"ClassDeclaration":return seq$1(t("export default"),r);default:return seq$1(t("export default"),p(e.body,Precedence$2.Assignment,r),semiOp())}}reduceExportFromSpecifier(e){return e.exportedName==null?t(e.name):seq$1(t(e.name),t("as"),t(e.exportedName))}reduceExportLocalSpecifier(e,{name:r}){return e.exportedName==null?r:seq$1(r,t("as"),t(e.exportedName))}reduceLabeledStatement(e,{body:r}){return objectAssign$1(seq$1(t(e.label+":"),r),{endsWithMissingElse:r.endsWithMissingElse})}reduceLiteralBooleanExpression(e){return t(e.value.toString())}reduceLiteralNullExpression(){return t("null")}reduceLiteralInfinityExpression(){return t("2e308")}reduceLiteralNumericExpression(e){return new NumberCodeRep$2(e.value)}reduceLiteralRegExpExpression(e){return t(`/${e.pattern}/${e.global?"g":""}${e.ignoreCase?"i":""}${e.multiLine?"m":""}${e.dotAll?"s":""}${e.unicode?"u":""}${e.sticky?"y":""}`,!0)}reduceLiteralStringExpression(e){return t(escapeStringLiteral$2(e.value))}reduceMethod(e,{name:r,params:s,body:a}){return seq$1(e.isAsync?t("async"):empty$1(),e.isGenerator?t("*"):empty$1(),r,s,a)}reduceModule(e,{directives:r,items:s}){return s.length&&(s[0]=this.parenToAvoidBeingDirective(e.items[0],s[0])),seq$1(...r,...s)}reduceNewExpression(e,{callee:r,arguments:s}){const a=s.map((u,l)=>p(e.arguments[l],Precedence$2.Assignment,u));let o=getPrecedence$2(e.callee)===Precedence$2.Call?paren(r):p(e.callee,getPrecedence$2(e),r);return seq$1(t("new"),o,s.length===0?empty$1():paren(commaSep(a)))}reduceNewTargetExpression(){return t("new.target")}reduceObjectExpression(e,{properties:r}){let s=brace(commaSep(r));return s.startsWithCurly=!0,s}reduceUpdateExpression(e,{operand:r}){return e.isPrefix?this.reduceUnaryExpression(...arguments):objectAssign$1(seq$1(p(e.operand,Precedence$2.New,r),t(e.operator)),{startsWithCurly:r.startsWithCurly,startsWithLetSquareBracket:r.startsWithLetSquareBracket,startsWithFunctionOrClass:r.startsWithFunctionOrClass})}reduceUnaryExpression(e,{operand:r}){return seq$1(t(e.operator),p(e.operand,getPrecedence$2(e),r))}reduceReturnStatement(e,{expression:r}){return seq$1(t("return"),r||empty$1(),semiOp())}reduceScript(e,{directives:r,statements:s}){return s.length&&(s[0]=this.parenToAvoidBeingDirective(e.statements[0],s[0])),seq$1(...r,...s)}reduceSetter(e,{name:r,param:s,body:a}){return seq$1(t("set"),r,paren(s),a)}reduceShorthandProperty(e,{name:r}){return r}reduceStaticMemberAssignmentTarget(e,{object:r}){const s=seq$1(p(e.object,getPrecedence$2(e),r),t("."),t(e.property));return s.startsWithLet=r.startsWithLet,s.startsWithCurly=r.startsWithCurly,s.startsWithLetSquareBracket=r.startsWithLetSquareBracket,s.startsWithFunctionOrClass=r.startsWithFunctionOrClass,s}reduceStaticMemberExpression(e,{object:r}){const s=seq$1(p(e.object,getPrecedence$2(e),r),t("."),t(e.property));return s.startsWithLet=r.startsWithLet,s.startsWithCurly=r.startsWithCurly,s.startsWithLetSquareBracket=r.startsWithLetSquareBracket,s.startsWithFunctionOrClass=r.startsWithFunctionOrClass,s}reduceStaticPropertyName(e){if(keyword$1.isIdentifierNameES6(e.value))return t(e.value);let r=parseFloat(e.value);return r>=0&&r.toString()===e.value?new NumberCodeRep$2(r):t(escapeStringLiteral$2(e.value))}reduceSuper(){return t("super")}reduceSwitchCase(e,{test:r,consequent:s}){return seq$1(t("case"),r,t(":"),seq$1(...s))}reduceSwitchDefault(e,{consequent:r}){return seq$1(t("default:"),seq$1(...r))}reduceSwitchStatement(e,{discriminant:r,cases:s}){return seq$1(t("switch"),paren(r),brace(seq$1(...s)))}reduceSwitchStatementWithDefault(e,{discriminant:r,preDefaultCases:s,defaultCase:a,postDefaultCases:o}){return seq$1(t("switch"),paren(r),brace(seq$1(...s,a,...o)))}reduceTemplateExpression(e,{tag:r,elements:s}){let a=e.tag==null?empty$1():p(e.tag,getPrecedence$2(e),r);a=seq$1(a,t("`"));for(let o=0,u=e.elements.length;o<u;++o)e.elements[o].type==="TemplateElement"?a=seq$1(a,o>0?t("}"):empty$1(),s[o],o<u-1?t("${"):empty$1()):a=seq$1(a,s[o]);return a=seq$1(a,t("`")),e.tag!=null&&(a.startsWithCurly=r.startsWithCurly,a.startsWithLet=r.startsWithLet,a.startsWithLetSquareBracket=r.startsWithLetSquareBracket,a.startsWithFunctionOrClass=r.startsWithFunctionOrClass),a}reduceTemplateElement(e){return new RawToken(e.rawValue)}reduceThisExpression(){return t("this")}reduceThrowStatement(e,{expression:r}){return seq$1(t("throw"),r,semiOp())}reduceTryCatchStatement(e,{body:r,catchClause:s}){return seq$1(t("try"),r,s)}reduceTryFinallyStatement(e,{body:r,catchClause:s,finalizer:a}){return seq$1(t("try"),r,s||empty$1(),t("finally"),a)}reduceYieldExpression(e,{expression:r}){return e.expression==null?t("yield"):objectAssign$1(seq$1(t("yield"),p(e.expression,getPrecedence$2(e),r)),{containsIn:r.containsIn})}reduceYieldGeneratorExpression(e,{expression:r}){return objectAssign$1(seq$1(t("yield"),t("*"),p(e.expression,getPrecedence$2(e),r)),{containsIn:r.containsIn})}reduceDirective(e){let r=e.rawValue.match(/(^|[^\\])(\\\\)*"/)?"'":'"';return seq$1(t(r+e.rawValue+r),semiOp())}reduceVariableDeclaration(e,{declarators:r}){return seq$1(t(e.kind),commaSep(r))}reduceVariableDeclarationStatement(e,{declaration:r}){return seq$1(r,semiOp())}reduceVariableDeclarator(e,{binding:r,init:s}){let a=s&&s.containsIn&&!s.containsGroup;return s&&(s.containsGroup?s=paren(s):s=markContainsIn$1(s)),objectAssign$1(s==null?r:seq$1(r,t("="),s),{containsIn:a})}reduceWhileStatement(e,{test:r,body:s}){return objectAssign$1(seq$1(t("while"),paren(r),s),{endsWithMissingElse:s.endsWithMissingElse})}reduceWithStatement(e,{object:r,body:s}){return objectAssign$1(seq$1(t("with"),paren(r),s),{endsWithMissingElse:s.endsWithMissingElse})}};var minimalCodegen=MinimalCodeGen$2;const objectAssign=objectAssign$2,{keyword}=utils,{Precedence:Precedence$1,getPrecedence:getPrecedence$1,escapeStringLiteral:escapeStringLiteral$1,CodeRep:CodeRep$1,Empty:Empty$1,Token:Token$1,NumberCodeRep:NumberCodeRep$1,Paren:Paren$1,Bracket:Bracket$1,Brace:Brace$1,NoIn:NoIn$1,ContainsIn:ContainsIn$1,Seq:Seq$1,SemiOp:SemiOp$1}=coderep,INDENT="  ";class Linebreak extends CodeRep$1{constructor(){super(),this.indentation=0}emit(e){e.put(`
`);for(let r=0;r<this.indentation;++r)e.put(INDENT)}}function empty(){return new Empty$1}function noIn(n){return new NoIn$1(n)}function markContainsIn(n){return n.containsIn?new ContainsIn$1(n):n}function seq(...n){return new Seq$1(n)}function isEmpty(n){return n instanceof Empty$1||n instanceof Linebreak||n instanceof Seq$1&&n.children.every(isEmpty)}let Sep$1={};const separatorNames=["ARRAY_EMPTY","ARRAY_BEFORE_COMMA","ARRAY_AFTER_COMMA","SPREAD","AWAIT","AFTER_FORAWAIT_AWAIT","BEFORE_DEFAULT_EQUALS","AFTER_DEFAULT_EQUALS","REST","OBJECT_BEFORE_COMMA","OBJECT_AFTER_COMMA","BEFORE_PROP","AFTER_PROP","BEFORE_JUMP_LABEL","ARGS_BEFORE_COMMA","ARGS_AFTER_COMMA","CALL","BEFORE_CATCH_BINDING","AFTER_CATCH_BINDING","BEFORE_CLASS_NAME","BEFORE_EXTENDS","AFTER_EXTENDS","BEFORE_CLASS_DECLARATION_ELEMENTS","BEFORE_CLASS_EXPRESSION_ELEMENTS","AFTER_STATIC","BEFORE_CLASS_ELEMENT","AFTER_CLASS_ELEMENT","BEFORE_TERNARY_QUESTION","AFTER_TERNARY_QUESTION","BEFORE_TERNARY_COLON","AFTER_TERNARY_COLON","COMPUTED_MEMBER_EXPRESSION","COMPUTED_MEMBER_ASSIGNMENT_TARGET","AFTER_DO","BEFORE_DOWHILE_WHILE","AFTER_DOWHILE_WHILE","AFTER_FORIN_FOR","BEFORE_FORIN_IN","AFTER_FORIN_FOR","BEFORE_FORIN_BODY","AFTER_FOROF_FOR","BEFORE_FOROF_OF","AFTER_FOROF_FOR","BEFORE_FOROF_BODY","AFTER_FOR_FOR","BEFORE_FOR_INIT","AFTER_FOR_INIT","EMPTY_FOR_INIT","BEFORE_FOR_TEST","AFTER_FOR_TEST","EMPTY_FOR_TEST","BEFORE_FOR_UPDATE","AFTER_FOR_UPDATE","EMPTY_FOR_UPDATE","BEFORE_FOR_BODY","BEFORE_GENERATOR_STAR","AFTER_GENERATOR_STAR","BEFORE_FUNCTION_PARAMS","BEFORE_FUNCTION_DECLARATION_BODY","BEFORE_FUNCTION_EXPRESSION_BODY","AFTER_FUNCTION_DIRECTIVES","BEFORE_ARROW","AFTER_ARROW","AFTER_GET","BEFORE_GET_PARAMS","BEFORE_GET_BODY","AFTER_IF","AFTER_IF_TEST","BEFORE_ELSE","AFTER_ELSE","PARAMETER_BEFORE_COMMA","PARAMETER_AFTER_COMMA","NAMED_IMPORT_BEFORE_COMMA","NAMED_IMPORT_AFTER_COMMA","IMPORT_BEFORE_COMMA","IMPORT_AFTER_COMMA","BEFORE_IMPORT_BINDINGS","BEFORE_IMPORT_MODULE","AFTER_IMPORT_BINDINGS","AFTER_FROM","BEFORE_IMPORT_NAMESPACE","BEFORE_IMPORT_STAR","AFTER_IMPORT_STAR","AFTER_IMPORT_AS","AFTER_NAMESPACE_BINDING","BEFORE_IMPORT_AS","AFTER_IMPORT_AS","EXPORTS_BEFORE_COMMA","EXPORTS_AFTER_COMMA","BEFORE_EXPORT_STAR","AFTER_EXPORT_STAR","BEFORE_EXPORT_BINDINGS","AFTER_EXPORT_FROM_BINDINGS","AFTER_EXPORT_LOCAL_BINDINGS","AFTER_EXPORT","EXPORT_DEFAULT","AFTER_EXPORT_DEFAULT","BEFORE_EXPORT_AS","AFTER_EXPORT_AS","BEFORE_LABEL_COLON","AFTER_LABEL_COLON","AFTER_METHOD_GENERATOR_STAR","AFTER_METHOD_ASYNC","AFTER_METHOD_NAME","BEFORE_METHOD_BODY","AFTER_MODULE_DIRECTIVES","AFTER_NEW","BEFORE_NEW_ARGS","EMPTY_NEW_CALL","NEW_TARGET_BEFORE_DOT","NEW_TARGET_AFTER_DOT","RETURN","AFTER_SET","BEFORE_SET_PARAMS","BEFORE_SET_BODY","AFTER_SCRIPT_DIRECTIVES","BEFORE_STATIC_MEMBER_DOT","AFTER_STATIC_MEMBER_DOT","BEFORE_STATIC_MEMBER_ASSIGNMENT_TARGET_DOT","AFTER_STATIC_MEMBER_ASSIGNMENT_TARGET_DOT","BEFORE_CASE_TEST","AFTER_CASE_TEST","BEFORE_CASE_BODY","AFTER_CASE_BODY","DEFAULT","AFTER_DEFAULT_BODY","BEFORE_SWITCH_DISCRIM","BEFORE_SWITCH_BODY","TEMPLATE_TAG","BEFORE_TEMPLATE_EXPRESSION","AFTER_TEMPLATE_EXPRESSION","THROW","AFTER_TRY","BEFORE_CATCH","BEFORE_FINALLY","AFTER_FINALLY","VARIABLE_DECLARATION","YIELD","BEFORE_YIELD_STAR","AFTER_YIELD_STAR","DECLARATORS_BEFORE_COMMA","DECLARATORS_AFTER_COMMA","BEFORE_INIT_EQUALS","AFTER_INIT_EQUALS","AFTER_WHILE","BEFORE_WHILE_BODY","AFTER_WITH","BEFORE_WITH_BODY","PAREN_AVOIDING_DIRECTIVE_BEFORE","PAREN_AVOIDING_DIRECTIVE_AFTER","PRECEDENCE_BEFORE","PRECEDENCE_AFTER","EXPRESSION_PAREN_BEFORE","EXPRESSION_PAREN_AFTER","CALL_PAREN_BEFORE","CALL_PAREN_AFTER","CALL_PAREN_EMPTY","CATCH_PAREN_BEFORE","CATCH_PAREN_AFTER","DO_WHILE_TEST_PAREN_BEFORE","DO_WHILE_TEST_PAREN_AFTER","EXPRESSION_STATEMENT_PAREN_BEFORE","EXPRESSION_STATEMENT_PAREN_AFTER","FOR_LET_PAREN_BEFORE","FOR_LET_PAREN_AFTER","FOR_IN_LET_PAREN_BEFORE","FOR_IN_LET_PAREN_AFTER","FOR_IN_PAREN_BEFORE","FOR_IN_PAREN_AFTER","FOR_OF_LET_PAREN_BEFORE","FOR_OF_LET_PAREN_AFTER","FOR_OF_PAREN_BEFORE","FOR_OF_PAREN_AFTER","PARAMETERS_PAREN_BEFORE","PARAMETERS_PAREN_AFTER","PARAMETERS_PAREN_EMPTY","ARROW_PARAMETERS_PAREN_BEFORE","ARROW_PARAMETERS_PAREN_AFTER","ARROW_PARAMETERS_PAREN_EMPTY","ARROW_BODY_PAREN_BEFORE","ARROW_BODY_PAREN_AFTER","BEFORE_ARROW_ASYNC_PARAMS","GETTER_PARAMS","IF_PAREN_BEFORE","IF_PAREN_AFTER","EXPORT_PAREN_BEFORE","EXPORT_PAREN_AFTER","NEW_CALLEE_PAREN_BEFORE","NEW_CALLEE_PAREN_AFTER","NEW_PAREN_BEFORE","NEW_PAREN_AFTER","NEW_PAREN_EMPTY","SETTER_PARAM_BEFORE","SETTER_PARAM_AFTER","SWITCH_DISCRIM_PAREN_BEFORE","SWITCH_DISCRIM_PAREN_AFTER","WHILE_TEST_PAREN_BEFORE","WHILE_TEST_PAREN_AFTER","WITH_PAREN_BEFORE","WITH_PAREN_AFTER","OBJECT_BRACE_INITIAL","OBJECT_BRACE_FINAL","OBJECT_EMPTY","BLOCK_BRACE_INITIAL","BLOCK_BRACE_FINAL","BLOCK_EMPTY","CLASS_BRACE_INITIAL","CLASS_BRACE_FINAL","CLASS_EMPTY","CLASS_EXPRESSION_BRACE_INITIAL","CLASS_EXPRESSION_BRACE_FINAL","CLASS_EXPRESSION_BRACE_EMPTY","FUNCTION_BRACE_INITIAL","FUNCTION_BRACE_FINAL","FUNCTION_EMPTY","FUNCTION_EXPRESSION_BRACE_INITIAL","FUNCTION_EXPRESSION_BRACE_FINAL","FUNCTION_EXPRESSION_EMPTY","ARROW_BRACE_INITIAL","ARROW_BRACE_FINAL","ARROW_BRACE_EMPTY","GET_BRACE_INTIAL","GET_BRACE_FINAL","GET_BRACE_EMPTY","MISSING_ELSE_INTIIAL","MISSING_ELSE_FINAL","MISSING_ELSE_EMPTY","IMPORT_BRACE_INTIAL","IMPORT_BRACE_FINAL","IMPORT_BRACE_EMPTY","EXPORT_BRACE_INITIAL","EXPORT_BRACE_FINAL","EXPORT_BRACE_EMPTY","METHOD_BRACE_INTIAL","METHOD_BRACE_FINAL","METHOD_BRACE_EMPTY","SET_BRACE_INTIIAL","SET_BRACE_FINAL","SET_BRACE_EMPTY","SWITCH_BRACE_INTIAL","SWITCH_BRACE_FINAL","SWITCH_BRACE_EMPTY","ARRAY_INITIAL","ARRAY_FINAL","COMPUTED_MEMBER_BRACKET_INTIAL","COMPUTED_MEMBER_BRACKET_FINAL","COMPUTED_MEMBER_ASSIGNMENT_TARGET_BRACKET_INTIAL","COMPUTED_MEMBER_ASSIGNMENT_TARGET_BRACKET_FINAL","COMPUTED_PROPERTY_BRACKET_INTIAL","COMPUTED_PROPERTY_BRACKET_FINAL"];for(let n=0;n<separatorNames.length;++n)Sep$1[separatorNames[n]]={type:separatorNames[n]};Sep$1.BEFORE_ASSIGN_OP=function(n){return{type:"BEFORE_ASSIGN_OP",op:n}};Sep$1.AFTER_ASSIGN_OP=function(n){return{type:"AFTER_ASSIGN_OP",op:n}};Sep$1.BEFORE_BINOP=function(n){return{type:"BEFORE_BINOP",op:n}};Sep$1.AFTER_BINOP=function(n){return{type:"AFTER_BINOP",op:n}};Sep$1.BEFORE_POSTFIX=function(n){return{type:"BEFORE_POSTFIX",op:n}};Sep$1.UNARY=function(n){return{type:"UNARY",op:n}};Sep$1.AFTER_STATEMENT=function(n){return{type:"AFTER_STATEMENT",node:n}};Sep$1.BEFORE_FUNCTION_NAME=function(n){return{type:"BEFORE_FUNCTION_NAME",node:n}};let ExtensibleCodeGen$1=class{parenToAvoidBeingDirective(e,r){return e&&e.type==="ExpressionStatement"&&e.expression.type==="LiteralStringExpression"?seq(this.paren(r.children[0],Sep$1.PAREN_AVOIDING_DIRECTIVE_BEFORE,Sep$1.PAREN_AVOIDING_DIRECTIVE_AFTER),this.semiOp()):r}t(e,r=!1){return new Token$1(e,r)}p(e,r,s){return getPrecedence$1(e)<r?this.paren(s,Sep$1.PRECEDENCE_BEFORE,Sep$1.PRECEDENCE_AFTER):s}getAssignmentExpr(e){return e?e.containsGroup?this.paren(e,Sep$1.EXPRESSION_PAREN_BEFORE,Sep$1.EXPRESSION_PAREN_AFTER):e:empty()}paren(e,r,s,a){return isEmpty(e)?new Paren$1(this.sep(a)):new Paren$1(seq(r?this.sep(r):empty(),e,s?this.sep(s):empty()))}brace(e,r,s,a,o){return isEmpty(e)?new Brace$1(this.sep(o)):new Brace$1(seq(this.sep(s),e,this.sep(a)))}bracket(e,r,s,a){return isEmpty(e)?new Bracket$1(this.sep(a)):new Bracket$1(seq(this.sep(r),e,this.sep(s)))}commaSep(e,r,s){let a=!0;return e=e.map(o=>a?(a=!1,o):seq(this.sep(r),this.t(","),this.sep(s),o)),seq(...e)}semiOp(){return new SemiOp$1}sep(){return empty()}reduceArrayExpression(e,{elements:r}){if(r.length===0)return this.bracket(empty(),null,null,Sep$1.ARRAY_EMPTY);let s=this.commaSep(r.map(a=>this.getAssignmentExpr(a)),Sep$1.ARRAY_BEFORE_COMMA,Sep$1.ARRAY_AFTER_COMMA);return r.length>0&&r[r.length-1]==null&&(s=seq(s,this.sep(Sep$1.ARRAY_BEFORE_COMMA),this.t(","),this.sep(Sep$1.ARRAY_AFTER_COMMA))),this.bracket(s,Sep$1.ARRAY_INITIAL,Sep$1.ARRAY_FINAL)}reduceAwaitExpression(e,{expression:r}){return seq(this.t("await"),this.sep(Sep$1.AWAIT),this.p(e.expression,getPrecedence$1(e),r))}reduceSpreadElement(e,{expression:r}){return seq(this.t("..."),this.sep(Sep$1.SPREAD),this.p(e.expression,Precedence$1.Assignment,r))}reduceSpreadProperty(e,{expression:r}){return seq(this.t("..."),this.sep(Sep$1.SPREAD),this.getAssignmentExpr(r))}reduceAssignmentExpression(e,{binding:r,expression:s}){let a=r,o=s,u=s.containsIn,l=r.startsWithCurly,c=r.startsWithLetSquareBracket,h=r.startsWithFunctionOrClass;return getPrecedence$1(e.expression)<getPrecedence$1(e)&&(o=this.paren(o,Sep$1.EXPRESSION_PAREN_BEFORE,Sep$1.EXPRESSION_PAREN_AFTER),u=!1),objectAssign(seq(a,this.sep(Sep$1.BEFORE_ASSIGN_OP("=")),this.t("="),this.sep(Sep$1.AFTER_ASSIGN_OP("=")),o),{containsIn:u,startsWithCurly:l,startsWithLetSquareBracket:c,startsWithFunctionOrClass:h})}reduceAssignmentTargetIdentifier(e){let r=this.t(e.name);return e.name==="let"&&(r.startsWithLet=!0),r}reduceAssignmentTargetWithDefault(e,{binding:r,init:s}){return seq(r,this.sep(Sep$1.BEFORE_DEFAULT_EQUALS),this.t("="),this.sep(Sep$1.AFTER_DEFAULT_EQUALS),this.p(e.init,Precedence$1.Assignment,s))}reduceCompoundAssignmentExpression(e,{binding:r,expression:s}){let a=r,o=s,u=s.containsIn,l=r.startsWithCurly,c=r.startsWithLetSquareBracket,h=r.startsWithFunctionOrClass;return getPrecedence$1(e.expression)<getPrecedence$1(e)&&(o=this.paren(o,Sep$1.EXPRESSION_PAREN_BEFORE,Sep$1.EXPRESSION_PAREN_AFTER),u=!1),objectAssign(seq(a,this.sep(Sep$1.BEFORE_ASSIGN_OP(e.operator)),this.t(e.operator),this.sep(Sep$1.AFTER_ASSIGN_OP(e.operator)),o),{containsIn:u,startsWithCurly:l,startsWithLetSquareBracket:c,startsWithFunctionOrClass:h})}reduceBinaryExpression(e,{left:r,right:s}){let a=r,o=r.startsWithCurly,u=r.startsWithLetSquareBracket,l=r.startsWithFunctionOrClass,c=r.containsIn,h=e.operator==="**";(getPrecedence$1(e.left)<getPrecedence$1(e)||h&&(getPrecedence$1(e.left)===getPrecedence$1(e)||e.left.type==="UnaryExpression"))&&(a=this.paren(a,Sep$1.EXPRESSION_PAREN_BEFORE,Sep$1.EXPRESSION_PAREN_AFTER),o=!1,u=!1,l=!1,c=!1);let f=s,d=s.containsIn;return(getPrecedence$1(e.right)<getPrecedence$1(e)||!h&&getPrecedence$1(e.right)===getPrecedence$1(e))&&(f=this.paren(f,Sep$1.EXPRESSION_PAREN_BEFORE,Sep$1.EXPRESSION_PAREN_AFTER),d=!1),objectAssign(seq(a,this.sep(Sep$1.BEFORE_BINOP(e.operator)),this.t(e.operator),this.sep(Sep$1.AFTER_BINOP(e.operator)),f),{containsIn:c||d||e.operator==="in",containsGroup:e.operator===",",startsWithCurly:o,startsWithLetSquareBracket:u,startsWithFunctionOrClass:l})}reduceBindingWithDefault(e,{binding:r,init:s}){return seq(r,this.sep(Sep$1.BEFORE_DEFAULT_EQUALS),this.t("="),this.sep(Sep$1.AFTER_DEFAULT_EQUALS),this.p(e.init,Precedence$1.Assignment,s))}reduceBindingIdentifier(e){let r=this.t(e.name);return e.name==="let"&&(r.startsWithLet=!0),r}reduceArrayAssignmentTarget(e,{elements:r,rest:s}){let a;return r.length===0?a=s==null?empty():seq(this.t("..."),this.sep(Sep$1.REST),s):(r=r.concat(s==null?[]:[seq(this.t("..."),this.sep(Sep$1.REST),s)]),a=this.commaSep(r.map(o=>this.getAssignmentExpr(o)),Sep$1.ARRAY_BEFORE_COMMA,Sep$1.ARRAY_AFTER_COMMA),r.length>0&&r[r.length-1]==null&&(a=seq(a,this.sep(Sep$1.ARRAY_BEFORE_COMMA),this.t(","),this.sep(Sep$1.ARRAY_AFTER_COMMA)))),this.bracket(a,Sep$1.ARRAY_INITIAL,Sep$1.ARRAY_FINAL,Sep$1.ARRAY_EMPTY)}reduceArrayBinding(e,{elements:r,rest:s}){let a;return r.length===0?a=s==null?empty():seq(this.t("..."),this.sep(Sep$1.REST),s):(r=r.concat(s==null?[]:[seq(this.t("..."),this.sep(Sep$1.REST),s)]),a=this.commaSep(r.map(o=>this.getAssignmentExpr(o)),Sep$1.ARRAY_BEFORE_COMMA,Sep$1.ARRAY_AFTER_COMMA),r.length>0&&r[r.length-1]==null&&(a=seq(a,this.sep(Sep$1.ARRAY_BEFORE_COMMA),this.t(","),this.sep(Sep$1.ARRAY_AFTER_COMMA)))),this.bracket(a,Sep$1.ARRAY_INITIAL,Sep$1.ARRAY_FINAL,Sep$1.ARRAY_EMPTY)}reduceObjectAssignmentTarget(e,{properties:r,rest:s}){let a;r.length===0?a=s==null?empty():seq(this.t("..."),this.sep(Sep$1.REST),s):(a=this.commaSep(r,Sep$1.OBJECT_BEFORE_COMMA,Sep$1.OBJECT_AFTER_COMMA),a=s==null?a:this.commaSep([a,seq(this.t("..."),this.sep(Sep$1.REST),s)],Sep$1.OBJECT_BEFORE_COMMA,Sep$1.OBJECT_AFTER_COMMA));let o=this.brace(a,e,Sep$1.OBJECT_BRACE_INITIAL,Sep$1.OBJECT_BRACE_FINAL,Sep$1.OBJECT_EMPTY);return o.startsWithCurly=!0,o}reduceObjectBinding(e,{properties:r,rest:s}){let a;r.length===0?a=s==null?empty():seq(this.t("..."),this.sep(Sep$1.REST),s):(a=this.commaSep(r,Sep$1.OBJECT_BEFORE_COMMA,Sep$1.OBJECT_AFTER_COMMA),a=s==null?a:this.commaSep([a,seq(this.t("..."),this.sep(Sep$1.REST),s)],Sep$1.OBJECT_BEFORE_COMMA,Sep$1.OBJECT_AFTER_COMMA));let o=this.brace(a,e,Sep$1.OBJECT_BRACE_INITIAL,Sep$1.OBJECT_BRACE_FINAL,Sep$1.OBJECT_EMPTY);return o.startsWithCurly=!0,o}reduceAssignmentTargetPropertyIdentifier(e,{binding:r,init:s}){return e.init==null?r:seq(r,this.sep(Sep$1.BEFORE_DEFAULT_EQUALS),this.t("="),this.sep(Sep$1.AFTER_DEFAULT_EQUALS),this.p(e.init,Precedence$1.Assignment,s))}reduceAssignmentTargetPropertyProperty(e,{name:r,binding:s}){return seq(r,this.sep(Sep$1.BEFORE_PROP),this.t(":"),this.sep(Sep$1.AFTER_PROP),s)}reduceBindingPropertyIdentifier(e,{binding:r,init:s}){return e.init==null?r:seq(r,this.sep(Sep$1.BEFORE_DEFAULT_EQUALS),this.t("="),this.sep(Sep$1.AFTER_DEFAULT_EQUALS),this.p(e.init,Precedence$1.Assignment,s))}reduceBindingPropertyProperty(e,{name:r,binding:s}){return seq(r,this.sep(Sep$1.BEFORE_PROP),this.t(":"),this.sep(Sep$1.AFTER_PROP),s)}reduceBlock(e,{statements:r}){return this.brace(seq(...r),e,Sep$1.BLOCK_BRACE_INITIAL,Sep$1.BLOCK_BRACE_FINAL,Sep$1.BLOCK_EMPTY)}reduceBlockStatement(e,{block:r}){return seq(r,this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceBreakStatement(e){return seq(this.t("break"),e.label?seq(this.sep(Sep$1.BEFORE_JUMP_LABEL),this.t(e.label)):empty(),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceCallExpression(e,{callee:r,arguments:s}){const a=s.map((o,u)=>this.p(e.arguments[u],Precedence$1.Assignment,o));return objectAssign(seq(this.p(e.callee,getPrecedence$1(e),r),this.sep(Sep$1.CALL),this.paren(this.commaSep(a,Sep$1.ARGS_BEFORE_COMMA,Sep$1.ARGS_AFTER_COMMA),Sep$1.CALL_PAREN_BEFORE,Sep$1.CALL_PAREN_AFTER,Sep$1.CALL_PAREN_EMPTY)),{startsWithCurly:r.startsWithCurly,startsWithLet:r.startsWithLet,startsWithLetSquareBracket:r.startsWithLetSquareBracket,startsWithFunctionOrClass:r.startsWithFunctionOrClass})}reduceCatchClause(e,{binding:r,body:s}){return r==null?seq(this.t("catch"),this.sep(Sep$1.BEFORE_CATCH_BINDING),s):seq(this.t("catch"),this.sep(Sep$1.BEFORE_CATCH_BINDING),this.paren(r,Sep$1.CATCH_PAREN_BEFORE,Sep$1.CATCH_PAREN_AFTER),this.sep(Sep$1.AFTER_CATCH_BINDING),s)}reduceClassDeclaration(e,{name:r,super:s,elements:a}){let o=seq(this.t("class"),e.name.name==="*default*"?empty():seq(this.sep(Sep$1.BEFORE_CLASS_NAME),r));return s!=null&&(o=seq(o,this.sep(Sep$1.BEFORE_EXTENDS),this.t("extends"),this.sep(Sep$1.AFTER_EXTENDS),this.p(e.super,Precedence$1.New,s))),o=seq(o,this.sep(Sep$1.BEFORE_CLASS_DECLARATION_ELEMENTS),this.brace(seq(...a),e,Sep$1.CLASS_BRACE_INITIAL,Sep$1.CLASS_BRACE_FINAL,Sep$1.CLASS_EMPTY),this.sep(Sep$1.AFTER_STATEMENT(e))),o}reduceClassExpression(e,{name:r,super:s,elements:a}){let o=this.t("class");return r!=null&&(o=seq(o,this.sep(Sep$1.BEFORE_CLASS_NAME),r)),s!=null&&(o=seq(o,this.sep(Sep$1.BEFORE_EXTENDS),this.t("extends"),this.sep(Sep$1.AFTER_EXTENDS),this.p(e.super,Precedence$1.New,s))),o=seq(o,this.sep(Sep$1.BEFORE_CLASS_EXPRESSION_ELEMENTS),this.brace(seq(...a),e,Sep$1.CLASS_EXPRESSION_BRACE_INITIAL,Sep$1.CLASS_EXPRESSION_BRACE_FINAL,Sep$1.CLASS_EXPRESSION_BRACE_EMPTY)),o.startsWithFunctionOrClass=!0,o}reduceClassElement(e,{method:r}){return r=seq(this.sep(Sep$1.BEFORE_CLASS_ELEMENT),r,this.sep(Sep$1.AFTER_CLASS_ELEMENT)),e.isStatic?seq(this.t("static"),this.sep(Sep$1.AFTER_STATIC),r):r}reduceComputedMemberAssignmentTarget(e,{object:r,expression:s}){let a=r.startsWithLetSquareBracket||e.object.type==="IdentifierExpression"&&e.object.name==="let";return objectAssign(seq(this.p(e.object,getPrecedence$1(e),r),this.sep(Sep$1.COMPUTED_MEMBER_ASSIGNMENT_TARGET),this.bracket(s,Sep$1.COMPUTED_MEMBER_ASSIGNMENT_TARGET_BRACKET_INTIAL,Sep$1.COMPUTED_MEMBER_ASSIGNMENT_TARGET_BRACKET_FINAL)),{startsWithLet:r.startsWithLet,startsWithLetSquareBracket:a,startsWithCurly:r.startsWithCurly,startsWithFunctionOrClass:r.startsWithFunctionOrClass})}reduceComputedMemberExpression(e,{object:r,expression:s}){let a=r.startsWithLetSquareBracket||e.object.type==="IdentifierExpression"&&e.object.name==="let";return objectAssign(seq(this.p(e.object,getPrecedence$1(e),r),this.sep(Sep$1.COMPUTED_MEMBER_EXPRESSION),this.bracket(s,Sep$1.COMPUTED_MEMBER_BRACKET_INTIAL,Sep$1.COMPUTED_MEMBER_BRACKET_FINAL)),{startsWithLet:r.startsWithLet,startsWithLetSquareBracket:a,startsWithCurly:r.startsWithCurly,startsWithFunctionOrClass:r.startsWithFunctionOrClass})}reduceComputedPropertyName(e,{expression:r}){return this.bracket(this.p(e.expression,Precedence$1.Assignment,r),Sep$1.COMPUTED_PROPERTY_BRACKET_INTIAL,Sep$1.COMPUTED_PROPERTY_BRACKET_FINAL)}reduceConditionalExpression(e,{test:r,consequent:s,alternate:a}){let o=r.containsIn||a.containsIn,u=r.startsWithCurly,l=r.startsWithLetSquareBracket,c=r.startsWithFunctionOrClass;return objectAssign(seq(this.p(e.test,Precedence$1.LogicalOR,r),this.sep(Sep$1.BEFORE_TERNARY_QUESTION),this.t("?"),this.sep(Sep$1.AFTER_TERNARY_QUESTION),this.p(e.consequent,Precedence$1.Assignment,s),this.sep(Sep$1.BEFORE_TERNARY_COLON),this.t(":"),this.sep(Sep$1.AFTER_TERNARY_COLON),this.p(e.alternate,Precedence$1.Assignment,a)),{containsIn:o,startsWithCurly:u,startsWithLetSquareBracket:l,startsWithFunctionOrClass:c})}reduceContinueStatement(e){return seq(this.t("continue"),e.label?seq(this.sep(Sep$1.BEFORE_JUMP_LABEL),this.t(e.label)):empty(),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceDataProperty(e,{name:r,expression:s}){return seq(r,this.sep(Sep$1.BEFORE_PROP),this.t(":"),this.sep(Sep$1.AFTER_PROP),this.getAssignmentExpr(s))}reduceDebuggerStatement(e){return seq(this.t("debugger"),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceDoWhileStatement(e,{body:r,test:s}){return seq(this.t("do"),this.sep(Sep$1.AFTER_DO),r,this.sep(Sep$1.BEFORE_DOWHILE_WHILE),this.t("while"),this.sep(Sep$1.AFTER_DOWHILE_WHILE),this.paren(s,Sep$1.DO_WHILE_TEST_PAREN_BEFORE,Sep$1.DO_WHILE_TEST_PAREN_AFTER),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceEmptyStatement(e){return seq(this.t(";"),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceExpressionStatement(e,{expression:r}){let s=r.startsWithCurly||r.startsWithLetSquareBracket||r.startsWithFunctionOrClass;return seq(s?this.paren(r,Sep$1.EXPRESSION_STATEMENT_PAREN_BEFORE,Sep$1.EXPRESSION_STATEMENT_PAREN_AFTER):r,this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceForInStatement(e,{left:r,right:s,body:a}){return r=e.left.type==="VariableDeclaration"?noIn(markContainsIn(r)):r,objectAssign(seq(this.t("for"),this.sep(Sep$1.AFTER_FORIN_FOR),this.paren(seq(r.startsWithLet?this.paren(r,Sep$1.FOR_IN_LET_PAREN_BEFORE,Sep$1.FOR_IN_LET_PAREN_AFTER):r,this.sep(Sep$1.BEFORE_FORIN_IN),this.t("in"),this.sep(Sep$1.AFTER_FORIN_FOR),s),Sep$1.FOR_IN_PAREN_BEFORE,Sep$1.FOR_IN_PAREN_AFTER),this.sep(Sep$1.BEFORE_FORIN_BODY),a,this.sep(Sep$1.AFTER_STATEMENT(e))),{endsWithMissingElse:a.endsWithMissingElse})}reduceForOfStatement(e,{left:r,right:s,body:a}){return r=e.left.type==="VariableDeclaration"?noIn(markContainsIn(r)):r,objectAssign(seq(this.t("for"),this.sep(Sep$1.AFTER_FOROF_FOR),this.paren(seq(r.startsWithLet?this.paren(r,Sep$1.FOR_OF_LET_PAREN_BEFORE,Sep$1.FOR_OF_LET_PAREN_AFTER):r,this.sep(Sep$1.BEFORE_FOROF_OF),this.t("of"),this.sep(Sep$1.AFTER_FOROF_FOR),this.p(e.right,Precedence$1.Assignment,s)),Sep$1.FOR_OF_PAREN_BEFORE,Sep$1.FOR_OF_PAREN_AFTER),this.sep(Sep$1.BEFORE_FOROF_BODY),a,this.sep(Sep$1.AFTER_STATEMENT(e))),{endsWithMissingElse:a.endsWithMissingElse})}reduceForStatement(e,{init:r,test:s,update:a,body:o}){return r&&(r.startsWithLetSquareBracket&&(r=this.paren(r,Sep$1.FOR_LET_PAREN_BEFORE,Sep$1.FOR_LET_PAREN_AFTER)),r=noIn(markContainsIn(r))),objectAssign(seq(this.t("for"),this.sep(Sep$1.AFTER_FOR_FOR),this.paren(seq(r?seq(this.sep(Sep$1.BEFORE_FOR_INIT),r,this.sep(Sep$1.AFTER_FOR_INIT)):this.sep(Sep$1.EMPTY_FOR_INIT),this.t(";"),s?seq(this.sep(Sep$1.BEFORE_FOR_TEST),s,this.sep(Sep$1.AFTER_FOR_TEST)):this.sep(Sep$1.EMPTY_FOR_TEST),this.t(";"),a?seq(this.sep(Sep$1.BEFORE_FOR_UPDATE),a,this.sep(Sep$1.AFTER_FOR_UPDATE)):this.sep(Sep$1.EMPTY_FOR_UPDATE))),this.sep(Sep$1.BEFORE_FOR_BODY),o,this.sep(Sep$1.AFTER_STATEMENT(e))),{endsWithMissingElse:o.endsWithMissingElse})}reduceForAwaitStatement(e,{left:r,right:s,body:a}){return r=e.left.type==="VariableDeclaration"?noIn(markContainsIn(r)):r,objectAssign(seq(this.t("for"),this.sep(Sep$1.AFTER_FOROF_FOR),this.t("await"),this.sep(Sep$1.AFTER_FORAWAIT_AWAIT),this.paren(seq(r.startsWithLet?this.paren(r,Sep$1.FOR_OF_LET_PAREN_BEFORE,Sep$1.FOR_OF_LET_PAREN_AFTER):r,this.sep(Sep$1.BEFORE_FOROF_OF),this.t("of"),this.sep(Sep$1.AFTER_FOROF_FOR),this.p(e.right,Precedence$1.Assignment,s)),Sep$1.FOR_OF_PAREN_BEFORE,Sep$1.FOR_OF_PAREN_AFTER),this.sep(Sep$1.BEFORE_FOROF_BODY),a,this.sep(Sep$1.AFTER_STATEMENT(e))),{endsWithMissingElse:a.endsWithMissingElse})}reduceFunctionBody(e,{directives:r,statements:s}){return s.length&&(s[0]=this.parenToAvoidBeingDirective(e.statements[0],s[0])),seq(...r,r.length?this.sep(Sep$1.AFTER_FUNCTION_DIRECTIVES):empty(),...s)}reduceFunctionDeclaration(e,{name:r,params:s,body:a}){return seq(e.isAsync?this.t("async"):empty(),this.t("function"),e.isGenerator?seq(this.sep(Sep$1.BEFORE_GENERATOR_STAR),this.t("*"),this.sep(Sep$1.AFTER_GENERATOR_STAR)):empty(),this.sep(Sep$1.BEFORE_FUNCTION_NAME(e)),e.name.name==="*default*"?empty():r,this.sep(Sep$1.BEFORE_FUNCTION_PARAMS),this.paren(s,Sep$1.PARAMETERS_PAREN_BEFORE,Sep$1.PARAMETERS_PAREN_AFTER,Sep$1.PARAMETERS_PAREN_EMPTY),this.sep(Sep$1.BEFORE_FUNCTION_DECLARATION_BODY),this.brace(a,e,Sep$1.FUNCTION_BRACE_INITIAL,Sep$1.FUNCTION_BRACE_FINAL,Sep$1.FUNCTION_EMPTY),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceFunctionExpression(e,{name:r,params:s,body:a}){let o=seq(e.isAsync?this.t("async"):empty(),this.t("function"),e.isGenerator?seq(this.sep(Sep$1.BEFORE_GENERATOR_STAR),this.t("*"),this.sep(Sep$1.AFTER_GENERATOR_STAR)):empty(),this.sep(Sep$1.BEFORE_FUNCTION_NAME(e)),r||empty(),this.sep(Sep$1.BEFORE_FUNCTION_PARAMS),this.paren(s,Sep$1.PARAMETERS_PAREN_BEFORE,Sep$1.PARAMETERS_PAREN_AFTER,Sep$1.PARAMETERS_PAREN_EMPTY),this.sep(Sep$1.BEFORE_FUNCTION_EXPRESSION_BODY),this.brace(a,e,Sep$1.FUNCTION_EXPRESSION_BRACE_INITIAL,Sep$1.FUNCTION_EXPRESSION_BRACE_FINAL,Sep$1.FUNCTION_EXPRESSION_EMPTY));return o.startsWithFunctionOrClass=!0,o}reduceFormalParameters(e,{items:r,rest:s}){return this.commaSep(r.concat(s==null?[]:[seq(this.t("..."),this.sep(Sep$1.REST),s)]),Sep$1.PARAMETER_BEFORE_COMMA,Sep$1.PARAMETER_AFTER_COMMA)}reduceArrowExpression(e,{params:r,body:s}){(e.params.rest!=null||e.params.items.length!==1||e.params.items[0].type!=="BindingIdentifier")&&(r=this.paren(r,Sep$1.ARROW_PARAMETERS_PAREN_BEFORE,Sep$1.ARROW_PARAMETERS_PAREN_AFTER,Sep$1.ARROW_PARAMETERS_PAREN_EMPTY));let a=!1;return e.body.type==="FunctionBody"?s=this.brace(s,e,Sep$1.ARROW_BRACE_INITIAL,Sep$1.ARROW_BRACE_FINAL,Sep$1.ARROW_BRACE_EMPTY):s.startsWithCurly?s=this.paren(s,Sep$1.ARROW_BODY_PAREN_BEFORE,Sep$1.ARROW_BODY_PAREN_AFTER):s.containsIn&&(a=!0),objectAssign(seq(e.isAsync?seq(this.t("async"),this.sep(Sep$1.BEFORE_ARROW_ASYNC_PARAMS)):empty(),r,this.sep(Sep$1.BEFORE_ARROW),this.t("=>"),this.sep(Sep$1.AFTER_ARROW),this.p(e.body,Precedence$1.Assignment,s)),{containsIn:a})}reduceGetter(e,{name:r,body:s}){return seq(this.t("get"),this.sep(Sep$1.AFTER_GET),r,this.sep(Sep$1.BEFORE_GET_PARAMS),this.paren(empty(),null,null,Sep$1.GETTER_PARAMS),this.sep(Sep$1.BEFORE_GET_BODY),this.brace(s,e,Sep$1.GET_BRACE_INTIAL,Sep$1.GET_BRACE_FINAL,Sep$1.GET_BRACE_EMPTY))}reduceIdentifierExpression(e){let r=this.t(e.name);return e.name==="let"&&(r.startsWithLet=!0),r}reduceIfStatement(e,{test:r,consequent:s,alternate:a}){return a&&s.endsWithMissingElse&&(s=this.brace(s,e,Sep$1.MISSING_ELSE_INTIIAL,Sep$1.MISSING_ELSE_FINAL,Sep$1.MISSING_ELSE_EMPTY)),objectAssign(seq(this.t("if"),this.sep(Sep$1.AFTER_IF),this.paren(r,Sep$1.IF_PAREN_BEFORE,Sep$1.IF_PAREN_AFTER),this.sep(Sep$1.AFTER_IF_TEST),s,a?seq(this.sep(Sep$1.BEFORE_ELSE),this.t("else"),this.sep(Sep$1.AFTER_ELSE),a):empty(),this.sep(Sep$1.AFTER_STATEMENT(e))),{endsWithMissingElse:a?a.endsWithMissingElse:!0})}reduceImport(e,{defaultBinding:r,namedImports:s}){let a=[];return r!=null&&a.push(r),s.length>0&&a.push(this.brace(this.commaSep(s,Sep$1.NAMED_IMPORT_BEFORE_COMMA,Sep$1.NAMED_IMPORT_AFTER_COMMA),e,Sep$1.IMPORT_BRACE_INTIAL,Sep$1.IMPORT_BRACE_FINAL,Sep$1.IMPORT_BRACE_EMPTY)),a.length===0?seq(this.t("import"),this.sep(Sep$1.BEFORE_IMPORT_MODULE),this.t(escapeStringLiteral$1(e.moduleSpecifier)),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e))):seq(this.t("import"),this.sep(Sep$1.BEFORE_IMPORT_BINDINGS),this.commaSep(a,Sep$1.IMPORT_BEFORE_COMMA,Sep$1.IMPORT_AFTER_COMMA),this.sep(Sep$1.AFTER_IMPORT_BINDINGS),this.t("from"),this.sep(Sep$1.AFTER_FROM),this.t(escapeStringLiteral$1(e.moduleSpecifier)),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceImportNamespace(e,{defaultBinding:r,namespaceBinding:s}){return seq(this.t("import"),this.sep(Sep$1.BEFORE_IMPORT_NAMESPACE),r==null?empty():seq(r,this.sep(Sep$1.IMPORT_BEFORE_COMMA),this.t(","),this.sep(Sep$1.IMPORT_AFTER_COMMA)),this.sep(Sep$1.BEFORE_IMPORT_STAR),this.t("*"),this.sep(Sep$1.AFTER_IMPORT_STAR),this.t("as"),this.sep(Sep$1.AFTER_IMPORT_AS),s,this.sep(Sep$1.AFTER_NAMESPACE_BINDING),this.t("from"),this.sep(Sep$1.AFTER_FROM),this.t(escapeStringLiteral$1(e.moduleSpecifier)),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceImportSpecifier(e,{binding:r}){return e.name==null?r:seq(this.t(e.name),this.sep(Sep$1.BEFORE_IMPORT_AS),this.t("as"),this.sep(Sep$1.AFTER_IMPORT_AS),r)}reduceExportAllFrom(e){return seq(this.t("export"),this.sep(Sep$1.BEFORE_EXPORT_STAR),this.t("*"),this.sep(Sep$1.AFTER_EXPORT_STAR),this.t("from"),this.sep(Sep$1.AFTER_FROM),this.t(escapeStringLiteral$1(e.moduleSpecifier)),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceExportFrom(e,{namedExports:r}){return seq(this.t("export"),this.sep(Sep$1.BEFORE_EXPORT_BINDINGS),this.brace(this.commaSep(r,Sep$1.EXPORTS_BEFORE_COMMA,Sep$1.EXPORTS_AFTER_COMMA),e,Sep$1.EXPORT_BRACE_INITIAL,Sep$1.EXPORT_BRACE_FINAL,Sep$1.EXPORT_BRACE_EMPTY),this.sep(Sep$1.AFTER_EXPORT_FROM_BINDINGS),this.t("from"),this.sep(Sep$1.AFTER_FROM),this.t(escapeStringLiteral$1(e.moduleSpecifier)),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceExportLocals(e,{namedExports:r}){return seq(this.t("export"),this.sep(Sep$1.BEFORE_EXPORT_BINDINGS),this.brace(this.commaSep(r,Sep$1.EXPORTS_BEFORE_COMMA,Sep$1.EXPORTS_AFTER_COMMA),e,Sep$1.EXPORT_BRACE_INITIAL,Sep$1.EXPORT_BRACE_FINAL,Sep$1.EXPORT_BRACE_EMPTY),this.sep(Sep$1.AFTER_EXPORT_LOCAL_BINDINGS),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceExport(e,{declaration:r}){switch(e.declaration.type){case"FunctionDeclaration":case"ClassDeclaration":break;default:r=seq(r,this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}return seq(this.t("export"),this.sep(Sep$1.AFTER_EXPORT),r)}reduceExportDefault(e,{body:r}){switch(r=r.startsWithFunctionOrClass?this.paren(r,Sep$1.EXPORT_PAREN_BEFORE,Sep$1.EXPORT_PAREN_AFTER):r,e.body.type){case"FunctionDeclaration":case"ClassDeclaration":return seq(this.t("export"),this.sep(Sep$1.EXPORT_DEFAULT),this.t("default"),this.sep(Sep$1.AFTER_EXPORT_DEFAULT),r);default:return seq(this.t("export"),this.sep(Sep$1.EXPORT_DEFAULT),this.t("default"),this.sep(Sep$1.AFTER_EXPORT_DEFAULT),this.p(e.body,Precedence$1.Assignment,r),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}}reduceExportFromSpecifier(e){return e.exportedName==null?this.t(e.name):seq(this.t(e.name),this.sep(Sep$1.BEFORE_EXPORT_AS),this.t("as"),this.sep(Sep$1.AFTER_EXPORT_AS),this.t(e.exportedName))}reduceExportLocalSpecifier(e,{name:r}){return e.exportedName==null?r:seq(r,this.sep(Sep$1.BEFORE_EXPORT_AS),this.t("as"),this.sep(Sep$1.AFTER_EXPORT_AS),this.t(e.exportedName))}reduceLabeledStatement(e,{body:r}){return objectAssign(seq(this.t(e.label),this.sep(Sep$1.BEFORE_LABEL_COLON),this.t(":"),this.sep(Sep$1.AFTER_LABEL_COLON),r),{endsWithMissingElse:r.endsWithMissingElse})}reduceLiteralBooleanExpression(e){return this.t(e.value.toString())}reduceLiteralNullExpression(){return this.t("null")}reduceLiteralInfinityExpression(){return this.t("2e308")}reduceLiteralNumericExpression(e){return new NumberCodeRep$1(e.value)}reduceLiteralRegExpExpression(e){return this.t(`/${e.pattern}/${e.global?"g":""}${e.ignoreCase?"i":""}${e.multiLine?"m":""}${e.dotAll?"s":""}${e.unicode?"u":""}${e.sticky?"y":""}`,!0)}reduceLiteralStringExpression(e){return this.t(escapeStringLiteral$1(e.value))}reduceMethod(e,{name:r,params:s,body:a}){return seq(e.isAsync?seq(this.t("async"),this.sep(Sep$1.AFTER_METHOD_ASYNC)):empty(),e.isGenerator?seq(this.t("*"),this.sep(Sep$1.AFTER_METHOD_GENERATOR_STAR)):empty(),r,this.sep(Sep$1.AFTER_METHOD_NAME),this.paren(s,Sep$1.PARAMETERS_PAREN_BEFORE,Sep$1.PARAMETERS_PAREN_AFTER,Sep$1.PARAMETERS_PAREN_EMPTY),this.sep(Sep$1.BEFORE_METHOD_BODY),this.brace(a,e,Sep$1.METHOD_BRACE_INTIAL,Sep$1.METHOD_BRACE_FINAL,Sep$1.METHOD_BRACE_EMPTY))}reduceModule(e,{directives:r,items:s}){return s.length&&(s[0]=this.parenToAvoidBeingDirective(e.items[0],s[0])),seq(...r,r.length?this.sep(Sep$1.AFTER_MODULE_DIRECTIVES):empty(),...s)}reduceNewExpression(e,{callee:r,arguments:s}){const a=s.map((u,l)=>this.p(e.arguments[l],Precedence$1.Assignment,u));let o=getPrecedence$1(e.callee)===Precedence$1.Call?this.paren(r,Sep$1.NEW_CALLEE_PAREN_BEFORE,Sep$1.NEW_CALLEE_PAREN_AFTER):this.p(e.callee,getPrecedence$1(e),r);return seq(this.t("new"),this.sep(Sep$1.AFTER_NEW),o,s.length===0?this.sep(Sep$1.EMPTY_NEW_CALL):seq(this.sep(Sep$1.BEFORE_NEW_ARGS),this.paren(this.commaSep(a,Sep$1.ARGS_BEFORE_COMMA,Sep$1.ARGS_AFTER_COMMA),Sep$1.NEW_PAREN_BEFORE,Sep$1.NEW_PAREN_AFTER,Sep$1.NEW_PAREN_EMPTY)))}reduceNewTargetExpression(){return seq(this.t("new"),this.sep(Sep$1.NEW_TARGET_BEFORE_DOT),this.t("."),this.sep(Sep$1.NEW_TARGET_AFTER_DOT),this.t("target"))}reduceObjectExpression(e,{properties:r}){let s=this.brace(this.commaSep(r,Sep$1.OBJECT_BEFORE_COMMA,Sep$1.OBJECT_AFTER_COMMA),e,Sep$1.OBJECT_BRACE_INITIAL,Sep$1.OBJECT_BRACE_FINAL,Sep$1.OBJECT_EMPTY);return s.startsWithCurly=!0,s}reduceUpdateExpression(e,{operand:r}){return e.isPrefix?this.reduceUnaryExpression(...arguments):objectAssign(seq(this.p(e.operand,Precedence$1.New,r),this.sep(Sep$1.BEFORE_POSTFIX(e.operator)),this.t(e.operator)),{startsWithCurly:r.startsWithCurly,startsWithLetSquareBracket:r.startsWithLetSquareBracket,startsWithFunctionOrClass:r.startsWithFunctionOrClass})}reduceUnaryExpression(e,{operand:r}){return seq(this.t(e.operator),this.sep(Sep$1.UNARY(e.operator)),this.p(e.operand,getPrecedence$1(e),r))}reduceReturnStatement(e,{expression:r}){return seq(this.t("return"),r?seq(this.sep(Sep$1.RETURN),r):empty(),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceScript(e,{directives:r,statements:s}){return s.length&&(s[0]=this.parenToAvoidBeingDirective(e.statements[0],s[0])),seq(...r,r.length?this.sep(Sep$1.AFTER_SCRIPT_DIRECTIVES):empty(),...s)}reduceSetter(e,{name:r,param:s,body:a}){return seq(this.t("set"),this.sep(Sep$1.AFTER_SET),r,this.sep(Sep$1.BEFORE_SET_PARAMS),this.paren(s,Sep$1.SETTER_PARAM_BEFORE,Sep$1.SETTER_PARAM_AFTER),this.sep(Sep$1.BEFORE_SET_BODY),this.brace(a,e,Sep$1.SET_BRACE_INTIIAL,Sep$1.SET_BRACE_FINAL,Sep$1.SET_BRACE_EMPTY))}reduceShorthandProperty(e,{name:r}){return r}reduceStaticMemberAssignmentTarget(e,{object:r}){const s=seq(this.p(e.object,getPrecedence$1(e),r),this.sep(Sep$1.BEFORE_STATIC_MEMBER_ASSIGNMENT_TARGET_DOT),this.t("."),this.sep(Sep$1.AFTER_STATIC_MEMBER_ASSIGNMENT_TARGET_DOT),this.t(e.property));return s.startsWithLet=r.startsWithLet,s.startsWithCurly=r.startsWithCurly,s.startsWithLetSquareBracket=r.startsWithLetSquareBracket,s.startsWithFunctionOrClass=r.startsWithFunctionOrClass,s}reduceStaticMemberExpression(e,{object:r}){const s=seq(this.p(e.object,getPrecedence$1(e),r),this.sep(Sep$1.BEFORE_STATIC_MEMBER_DOT),this.t("."),this.sep(Sep$1.AFTER_STATIC_MEMBER_DOT),this.t(e.property));return s.startsWithLet=r.startsWithLet,s.startsWithCurly=r.startsWithCurly,s.startsWithLetSquareBracket=r.startsWithLetSquareBracket,s.startsWithFunctionOrClass=r.startsWithFunctionOrClass,s}reduceStaticPropertyName(e){if(keyword.isIdentifierNameES6(e.value))return this.t(e.value);let r=parseFloat(e.value);return r>=0&&r.toString()===e.value?new NumberCodeRep$1(r):this.t(escapeStringLiteral$1(e.value))}reduceSuper(){return this.t("super")}reduceSwitchCase(e,{test:r,consequent:s}){return seq(this.t("case"),this.sep(Sep$1.BEFORE_CASE_TEST),r,this.sep(Sep$1.AFTER_CASE_TEST),this.t(":"),this.sep(Sep$1.BEFORE_CASE_BODY),seq(...s),this.sep(Sep$1.AFTER_CASE_BODY))}reduceSwitchDefault(e,{consequent:r}){return seq(this.t("default"),this.sep(Sep$1.DEFAULT),this.t(":"),this.sep(Sep$1.BEFORE_CASE_BODY),seq(...r),this.sep(Sep$1.AFTER_DEFAULT_BODY))}reduceSwitchStatement(e,{discriminant:r,cases:s}){return seq(this.t("switch"),this.sep(Sep$1.BEFORE_SWITCH_DISCRIM),this.paren(r,Sep$1.SWITCH_DISCRIM_PAREN_BEFORE,Sep$1.SWITCH_DISCRIM_PAREN_AFTER),this.sep(Sep$1.BEFORE_SWITCH_BODY),this.brace(seq(...s),e,Sep$1.SWITCH_BRACE_INTIAL,Sep$1.SWITCH_BRACE_FINAL,Sep$1.SWITCH_BRACE_EMPTY),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceSwitchStatementWithDefault(e,{discriminant:r,preDefaultCases:s,defaultCase:a,postDefaultCases:o}){return seq(this.t("switch"),this.sep(Sep$1.BEFORE_SWITCH_DISCRIM),this.paren(r,Sep$1.SWITCH_DISCRIM_PAREN_BEFORE,Sep$1.SWITCH_DISCRIM_PAREN_AFTER),this.sep(Sep$1.BEFORE_SWITCH_BODY),this.brace(seq(...s,a,...o),e,Sep$1.SWITCH_BRACE_INTIAL,Sep$1.SWITCH_BRACE_FINAL,Sep$1.SWITCH_BRACE_EMPTY),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceTemplateExpression(e,{tag:r,elements:s}){let a=e.tag==null?empty():seq(this.p(e.tag,getPrecedence$1(e),r),this.sep(Sep$1.TEMPLATE_TAG));a=seq(a,this.t("`"));for(let o=0,u=e.elements.length;o<u;++o)if(e.elements[o].type==="TemplateElement"){let l="";o>0&&(l+="}"),l+=e.elements[o].rawValue,o<u-1&&(l+="${"),a=seq(a,this.t(l))}else a=seq(a,this.sep(Sep$1.BEFORE_TEMPLATE_EXPRESSION),s[o],this.sep(Sep$1.AFTER_TEMPLATE_EXPRESSION));return a=seq(a,this.t("`")),e.tag!=null&&(a.startsWithCurly=r.startsWithCurly,a.startsWithLet=r.startsWithLet,a.startsWithLetSquareBracket=r.startsWithLetSquareBracket,a.startsWithFunctionOrClass=r.startsWithFunctionOrClass),a}reduceTemplateElement(e){return this.t(e.rawValue)}reduceThisExpression(){return this.t("this")}reduceThrowStatement(e,{expression:r}){return seq(this.t("throw"),this.sep(Sep$1.THROW),r,this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceTryCatchStatement(e,{body:r,catchClause:s}){return seq(this.t("try"),this.sep(Sep$1.AFTER_TRY),r,this.sep(Sep$1.BEFORE_CATCH),s,this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceTryFinallyStatement(e,{body:r,catchClause:s,finalizer:a}){return seq(this.t("try"),this.sep(Sep$1.AFTER_TRY),r,s?seq(this.sep(Sep$1.BEFORE_CATCH),s):empty(),this.sep(Sep$1.BEFORE_FINALLY),this.t("finally"),this.sep(Sep$1.AFTER_FINALLY),a,this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceYieldExpression(e,{expression:r}){return e.expression==null?this.t("yield"):objectAssign(seq(this.t("yield"),this.sep(Sep$1.YIELD),this.p(e.expression,getPrecedence$1(e),r)),{containsIn:r.containsIn})}reduceYieldGeneratorExpression(e,{expression:r}){return objectAssign(seq(this.t("yield"),this.sep(Sep$1.BEFORE_YIELD_STAR),this.t("*"),this.sep(Sep$1.AFTER_YIELD_STAR),this.p(e.expression,getPrecedence$1(e),r)),{containsIn:r.containsIn})}reduceDirective(e){let r=e.rawValue.match(/(^|[^\\])(\\\\)*"/)?"'":'"';return seq(this.t(r+e.rawValue+r),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceVariableDeclaration(e,{declarators:r}){return seq(this.t(e.kind),this.sep(Sep$1.VARIABLE_DECLARATION),this.commaSep(r,Sep$1.DECLARATORS_BEFORE_COMMA,Sep$1.DECLARATORS_AFTER_COMMA))}reduceVariableDeclarationStatement(e,{declaration:r}){return seq(r,this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceVariableDeclarator(e,{binding:r,init:s}){let a=s&&s.containsIn&&!s.containsGroup;return s&&(s.containsGroup?s=this.paren(s,Sep$1.EXPRESSION_PAREN_BEFORE,Sep$1.EXPRESSION_PAREN_AFTER):s=markContainsIn(s)),objectAssign(s==null?r:seq(r,this.sep(Sep$1.BEFORE_INIT_EQUALS),this.t("="),this.sep(Sep$1.AFTER_INIT_EQUALS),s),{containsIn:a})}reduceWhileStatement(e,{test:r,body:s}){return objectAssign(seq(this.t("while"),this.sep(Sep$1.AFTER_WHILE),this.paren(r,Sep$1.WHILE_TEST_PAREN_BEFORE,Sep$1.WHILE_TEST_PAREN_AFTER),this.sep(Sep$1.BEFORE_WHILE_BODY),s,this.sep(Sep$1.AFTER_STATEMENT(e))),{endsWithMissingElse:s.endsWithMissingElse})}reduceWithStatement(e,{object:r,body:s}){return objectAssign(seq(this.t("with"),this.sep(Sep$1.AFTER_WITH),this.paren(r,Sep$1.WITH_PAREN_BEFORE,Sep$1.WITH_PAREN_AFTER),this.sep(Sep$1.BEFORE_WITH_BODY),s,this.sep(Sep$1.AFTER_STATEMENT(e))),{endsWithMissingElse:s.endsWithMissingElse})}};function withoutTrailingLinebreak(n){if(n&&n instanceof Seq$1){let e=n.children[n.children.length-1];for(;e instanceof Empty$1;)n.children.pop(),e=n.children[n.children.length-1];e instanceof Seq$1?withoutTrailingLinebreak(e):e instanceof Linebreak&&n.children.pop()}return n}function indent(n,e){let r;function s(a){a instanceof Linebreak&&(r=a,++a.indentation)}return n.forEach(s),e||--r.indentation,n}let FormattedCodeGen$1=class extends ExtensibleCodeGen$1{parenToAvoidBeingDirective(e,r){return e&&e.type==="ExpressionStatement"&&e.expression.type==="LiteralStringExpression"?seq(this.paren(r.children[0],Sep$1.PAREN_AVOIDING_DIRECTIVE_BEFORE,Sep$1.PAREN_AVOIDING_DIRECTIVE_AFTER),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e))):r}brace(e,r){if(isEmpty(e))return this.t("{}");switch(r.type){case"ObjectAssignmentTarget":case"ObjectBinding":case"Import":case"ExportFrom":case"ExportLocals":case"ObjectExpression":return new Brace$1(e)}return e=seq(new Linebreak,e),indent(e,!1),new Brace$1(e)}reduceDoWhileStatement(e,{body:r,test:s}){return seq(this.t("do"),this.sep(Sep$1.AFTER_DO),withoutTrailingLinebreak(r),this.sep(Sep$1.BEFORE_DOWHILE_WHILE),this.t("while"),this.sep(Sep$1.AFTER_DOWHILE_WHILE),this.paren(s,Sep$1.DO_WHILE_TEST_PAREN_BEFORE,Sep$1.DO_WHILE_TEST_PAREN_AFTER),this.semiOp(),this.sep(Sep$1.AFTER_STATEMENT(e)))}reduceIfStatement(e,{test:r,consequent:s,alternate:a}){return a&&s.endsWithMissingElse&&(s=this.brace(s,e)),objectAssign(seq(this.t("if"),this.sep(Sep$1.AFTER_IF),this.paren(r,Sep$1.IF_PAREN_BEFORE,Sep$1.IF_PAREN_AFTER),this.sep(Sep$1.AFTER_IF_TEST),withoutTrailingLinebreak(s),a?seq(this.sep(Sep$1.BEFORE_ELSE),this.t("else"),this.sep(Sep$1.AFTER_ELSE),withoutTrailingLinebreak(a)):empty(),this.sep(Sep$1.AFTER_STATEMENT(e))),{endsWithMissingElse:a?a.endsWithMissingElse:!0})}reduceSwitchCase(e,{test:r,consequent:s}){return s=indent(withoutTrailingLinebreak(seq(this.sep(Sep$1.BEFORE_CASE_BODY),...s)),!0),seq(this.t("case"),this.sep(Sep$1.BEFORE_CASE_TEST),r,this.sep(Sep$1.AFTER_CASE_TEST),this.t(":"),s,this.sep(Sep$1.AFTER_CASE_BODY))}reduceSwitchDefault(e,{consequent:r}){return r=indent(withoutTrailingLinebreak(seq(this.sep(Sep$1.BEFORE_CASE_BODY),...r)),!0),seq(this.t("default"),this.sep(Sep$1.DEFAULT),this.t(":"),r,this.sep(Sep$1.AFTER_DEFAULT_BODY))}sep(e){switch(e.type){case"AWAIT":case"AFTER_FORAWAIT_AWAIT":case"ARRAY_AFTER_COMMA":case"OBJECT_AFTER_COMMA":case"ARGS_AFTER_COMMA":case"PARAMETER_AFTER_COMMA":case"DECLARATORS_AFTER_COMMA":case"NAMED_IMPORT_AFTER_COMMA":case"IMPORT_AFTER_COMMA":case"BEFORE_DEFAULT_EQUALS":case"AFTER_DEFAULT_EQUALS":case"AFTER_PROP":case"BEFORE_JUMP_LABEL":case"BEFORE_CATCH_BINDING":case"AFTER_CATCH_BINDING":case"BEFORE_CLASS_NAME":case"BEFORE_EXTENDS":case"AFTER_EXTENDS":case"BEFORE_CLASS_DECLARATION_ELEMENTS":case"BEFORE_CLASS_EXPRESSION_ELEMENTS":case"AFTER_STATIC":case"BEFORE_TERNARY_QUESTION":case"AFTER_TERNARY_QUESTION":case"BEFORE_TERNARY_COLON":case"AFTER_TERNARY_COLON":case"AFTER_DO":case"BEFORE_DOWHILE_WHILE":case"AFTER_DOWHILE_WHILE":case"AFTER_FORIN_FOR":case"BEFORE_FORIN_IN":case"BEFORE_FORIN_BODY":case"BEFORE_FOROF_OF":case"AFTER_FOROF_FOR":case"BEFORE_FOROF_BODY":case"AFTER_FOR_FOR":case"BEFORE_FOR_TEST":case"BEFORE_FOR_UPDATE":case"BEFORE_FOR_BODY":case"BEFORE_FUNCTION_DECLARATION_BODY":case"BEFORE_FUNCTION_EXPRESSION_BODY":case"BEFORE_ARROW":case"AFTER_ARROW":case"BEFORE_ARROW_ASYNC_PARAMS":case"AFTER_GET":case"BEFORE_GET_BODY":case"AFTER_IF":case"AFTER_IF_TEST":case"BEFORE_ELSE":case"AFTER_ELSE":case"BEFORE_IMPORT_BINDINGS":case"BEFORE_IMPORT_MODULE":case"AFTER_IMPORT_BINDINGS":case"AFTER_FROM":case"BEFORE_IMPORT_NAMESPACE":case"BEFORE_IMPORT_STAR":case"AFTER_IMPORT_STAR":case"AFTER_NAMESPACE_BINDING":case"BEFORE_IMPORT_AS":case"AFTER_IMPORT_AS":case"EXPORTS_AFTER_COMMA":case"BEFORE_EXPORT_STAR":case"AFTER_EXPORT_STAR":case"BEFORE_EXPORT_BINDINGS":case"AFTER_EXPORT_FROM_BINDINGS":case"AFTER_EXPORT":case"AFTER_EXPORT_DEFAULT":case"BEFORE_EXPORT_AS":case"AFTER_EXPORT_AS":case"AFTER_LABEL_COLON":case"AFTER_METHOD_ASYNC":case"BEFORE_METHOD_BODY":case"AFTER_NEW":case"RETURN":case"AFTER_SET":case"BEFORE_SET_BODY":case"BEFORE_SET_PARAMS":case"BEFORE_CASE_TEST":case"BEFORE_SWITCH_DISCRIM":case"BEFORE_SWITCH_BODY":case"THROW":case"AFTER_TRY":case"BEFORE_CATCH":case"BEFORE_FINALLY":case"AFTER_FINALLY":case"VARIABLE_DECLARATION":case"YIELD":case"AFTER_YIELD_STAR":case"BEFORE_INIT_EQUALS":case"AFTER_INIT_EQUALS":case"AFTER_WHILE":case"BEFORE_WHILE_BODY":case"AFTER_WITH":case"BEFORE_WITH_BODY":case"BEFORE_FUNCTION_NAME":case"AFTER_BINOP":case"BEFORE_ASSIGN_OP":case"AFTER_ASSIGN_OP":return this.t(" ");case"AFTER_STATEMENT":switch(e.node.type){case"ForInStatement":case"ForOfStatement":case"ForStatement":case"WhileStatement":case"WithStatement":return empty();default:return new Linebreak}case"AFTER_CLASS_ELEMENT":case"BEFORE_CASE_BODY":case"AFTER_CASE_BODY":case"AFTER_DEFAULT_BODY":return new Linebreak;case"BEFORE_BINOP":return e.op===","?empty():this.t(" ");case"UNARY":return e.op==="delete"||e.op==="void"||e.op==="typeof"?this.t(" "):empty();default:return empty()}}};FormattedCodeGen$1.isEmpty=isEmpty;FormattedCodeGen$1.Linebreak=Linebreak;FormattedCodeGen$1.seq=seq;FormattedCodeGen$1.indent=indent;var formattedCodegen={Sep:Sep$1,ExtensibleCodeGen:ExtensibleCodeGen$1,FormattedCodeGen:FormattedCodeGen$1};const{reduce:reduce$1,adapt}=src$3,{TokenStream:TokenStream$1,needsDoubleDot}=tokenStream,MinimalCodeGen$1=minimalCodegen;function mightHaveSemi(n){return/(Import)|(Export)|(Statement)|(Directive)|(SwitchCase)|(SwitchDefault)/.test(n)}class TokenStreamWithLocation extends TokenStream$1{constructor(){super(),this.line=1,this.column=0,this.startingNodes=[],this.finishingStatements=[],this.lastNumberNode=null,this.locations=new WeakMap}putRaw(e){let r=this.result.length;super.putRaw(e),this.startNodes(e,r)}put(e,r){if(this.optionalSemi&&e!=="}")for(let a of this.finishingStatements)++a.end.column,++a.end.offset;if(this.finishingStatements=[],this.lastNumber!==null&&e==="."&&needsDoubleDot(this.lastNumber)){let a=this.locations.get(this.lastNumberNode).end;++a.column,++a.offset}this.lastNumberNode=null;let s=this.result.length;super.put(e,r),this.startNodes(e,s)}startNodes(e,r){let s=/\r\n?|[\n\u2028\u2029]/g,a=!1,o,u=this.line,l=this.column;for(;o=s.exec(e);)++this.line,this.column=e.length-o.index-o[0].length,a=!0;a||(this.column+=this.result.length-r,l=this.column-e.length);for(const c of this.startingNodes)this.locations.set(c,{start:{line:u,column:l,offset:this.result.length-e.length},end:null});this.startingNodes=[]}startEmit(e){this.startingNodes.push(e)}finishEmit(e){this.locations.get(e).end={line:this.line,column:this.column,offset:this.result.length},mightHaveSemi(e.type)&&this.finishingStatements.push(this.locations.get(e))}}function addLocation(n,e){const r=n.emit.bind(n);return e.type==="Script"||e.type==="Module"?n.emit=(s,...a)=>{s.locations.set(e,{start:{line:1,column:0,offset:0},end:null}),r(s,...a),s.locations.get(e).end={line:s.line,column:s.column,offset:s.result.length}}:e.type==="LiteralNumericExpression"?n.emit=(s,...a)=>{s.startEmit(e),r(s,...a),s.finishEmit(e),s.lastNumberNode=e}:n.emit=(s,...a)=>{s.startEmit(e),r(s,...a),s.finishEmit(e)},n}function addLocationToReducer(n){const e=adapt(addLocation,n),r=e.regenerateArrowParams.bind(e);e.regenerateArrowParams=function(a,o){const u=r(a,o);return u!==o&&addLocation(u,a),u};const s=e.parenToAvoidBeingDirective.bind(e);return e.parenToAvoidBeingDirective=function(a,o){const u=s(a,o);return u!==o&&addLocation(u,a),u},e}function codeGenWithLocation$1(n,e=new MinimalCodeGen$1){let r=new TokenStreamWithLocation;return reduce$1(addLocationToReducer(e),n).emit(r),{source:r.result,locations:r.locations}}var withLocation=codeGenWithLocation$1;const reduce=src$3.default,{TokenStream}=tokenStream,MinimalCodeGen=minimalCodegen;function codeGen(n,e=new MinimalCodeGen){let r=new TokenStream;return reduce(e,n).emit(r),r.result}const{ExtensibleCodeGen,FormattedCodeGen,Sep}=formattedCodegen,{Precedence,getPrecedence,escapeStringLiteral,CodeRep,Empty,Token,NumberCodeRep,Paren,Bracket,Brace,NoIn,ContainsIn,Seq,Semi,CommaSep,SemiOp}=coderep,codeGenWithLocation=withLocation;var src={default:codeGen,codeGen,MinimalCodeGen,ExtensibleCodeGen,FormattedCodeGen,Sep,Precedence,getPrecedence,escapeStringLiteral,CodeRep,Empty,Token,NumberCodeRep,Paren,Bracket,Brace,NoIn,ContainsIn,Seq,Semi,CommaSep,SemiOp,codeGenWithLocation};const{replace}=pkg;function transformPlayerSyntax(n){try{const e=src$2.parseScript(n),r=new Set,s=replace(e,{enter(a){if(a.type==="LabeledStatement"){const o=a.label;r.add(o);const u=a.body.type==="ExpressionStatement"?a.body.expression:a.body;return new ExpressionStatement({expression:new CallExpression({callee:new StaticMemberExpression({object:new IdentifierExpression({name:o}),property:"assign"}),arguments:[u]})})}return a}});if(r.size>0){const a=Array.from(r).map(u=>`const ${u} = createPlayer('${u}');`).join(`
`),o=src.codeGen(s);return a+`
`+o}return src.codeGen(s)}catch(e){return console.error("Failed to parse code with shift-ast:",e),n}}class AudioChain{constructor(e={}){z(this,"params",{});this.params={...e}}note(e){return new AudioChain({...this.params,note:e})}s(e){return new AudioChain({...this.params,s:e})}gain(e){return new AudioChain({...this.params,gain:e})}cutoff(e){return new AudioChain({...this.params,cutoff:e})}resonance(e){return new AudioChain({...this.params,resonance:e})}delay(e){return new AudioChain({...this.params,delay:e})}room(e){return new AudioChain({...this.params,room:e})}pan(e){return new AudioChain({...this.params,pan:e})}attack(e){return new AudioChain({...this.params,attack:e})}decay(e){return new AudioChain({...this.params,decay:e})}sustain(e){return new AudioChain({...this.params,sustain:e})}release(e){return new AudioChain({...this.params,release:e})}async play(e=0,r=.125){try{const s=await __vitePreload(()=>import("../chunks/DCYW9vdh.js"),[],import.meta.url),{superdough:a,initAudioOnFirstClick:o,registerSynthSounds:u}=s;window.__superdoughInitialized||(console.log("Initializing superdough..."),await Promise.all([o(),u()]),window.__superdoughInitialized=!0,console.log("Superdough initialized")),console.log("Playing sound with params:",this.params),console.log("Deadline:",e,"Duration:",r),a(this.params,e,r)}catch(s){console.error("Failed to play sound:",s)}return this}getParams(){return this.params}}function sine(){return new AudioChain({s:"sine"})}function sawtooth(){return new AudioChain({s:"sawtooth"})}function square(){return new AudioChain({s:"square"})}function triangle(){return new AudioChain({s:"triangle"})}function createPlayer(n){return{name:n,currentChain:null,assign(e){return this.currentChain=e,e&&typeof e.play=="function"&&e.play().catch(r=>{console.error(`Failed to play sound for player ${n}:`,r)}),this},stop(){return console.log(`Player ${n} stopped`),this}}}class CodeExecutor{constructor(){z(this,"outputs",[]);z(this,"errorMessage","");z(this,"originalConsole",null)}getOutputs(){return this.outputs}getError(){return this.errorMessage}clearOutput(){this.outputs=[],this.errorMessage=""}formatArgs(n){return n.map(e=>{if(typeof e=="object")try{return JSON.stringify(e,null,2)}catch{return String(e)}return String(e)}).join(" ")}setupConsoleCapture(){this.originalConsole={log:console.log,error:console.error,warn:console.warn,info:console.info,debug:console.debug},console.log=(...n)=>{this.outputs.push({type:"log",message:this.formatArgs(n)}),this.originalConsole.log(...n)},console.error=(...n)=>{this.outputs.push({type:"error",message:this.formatArgs(n)}),this.originalConsole.error(...n)},console.warn=(...n)=>{this.outputs.push({type:"warn",message:this.formatArgs(n)}),this.originalConsole.warn(...n)},console.info=(...n)=>{this.outputs.push({type:"info",message:this.formatArgs(n)}),this.originalConsole.info(...n)},console.debug=(...n)=>{this.outputs.push({type:"debug",message:this.formatArgs(n)}),this.originalConsole.debug(...n)}}restoreConsole(){this.originalConsole&&(Object.assign(console,this.originalConsole),this.originalConsole=null)}createExecutionContext(n,e,r){return globalThis.time=()=>e.time(),globalThis.bpm=()=>e.bpm(),globalThis.ticks=()=>e.ticks(),globalThis.setBPM=s=>e.setBPM(s),globalThis.stopClock=()=>e.stop(),globalThis.startClock=()=>e.start(),globalThis.isRunning=()=>e.running(),globalThis.cycle=r.cycle.bind(r),globalThis.schedule=r.schedule.bind(r),globalThis.clearSchedule=r.clearSchedule.bind(r),globalThis.listScheduled=r.listScheduled.bind(r),globalThis.sine=sine,globalThis.sawtooth=sawtooth,globalThis.square=square,globalThis.triangle=triangle,globalThis.createPlayer=createPlayer,n}execute(code,clock,sequencer){this.clearOutput();try{this.setupConsoleCapture();const transformedCode=transformPlayerSyntax(code);console.log("Original code:",code),console.log("Transformed code:",transformedCode);const executionContext=this.createExecutionContext(transformedCode,clock,sequencer),result=eval(executionContext);this.restoreConsole(),this.outputs.length===0&&result!==void 0&&this.outputs.push({type:"return",message:String(result)})}catch(n){this.errorMessage=n instanceof Error?n.toString():String(n),this.restoreConsole()}}}function create_fragment$5(n){let e,r,s="DÃ©marrer l'horloge audio",a,o,u=`Ce REPL utilise une horloge audio haute prÃ©cision pour la synchronisation.<br/>
    Cliquez ci-dessous pour dÃ©marrer le contexte audio et initialiser l&#39;Ã©diteur.`,l,c,h="DÃ©marrer l'horloge",f,d;return{c(){e=element("div"),r=element("h2"),r.textContent=s,a=space$1(),o=element("p"),o.innerHTML=u,l=space$1(),c=element("button"),c.textContent=h,this.h()},l(m){e=claim_element(m,"DIV",{class:!0});var g=children(e);r=claim_element(g,"H2",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(r)!=="svelte-1ni4nym"&&(r.textContent=s),a=claim_space(g),o=claim_element(g,"P",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(o)!=="svelte-1dgp53d"&&(o.innerHTML=u),l=claim_space(g),c=claim_element(g,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(c)!=="svelte-19zv631"&&(c.textContent=h),g.forEach(detach),this.h()},h(){attr(r,"class","text-2xl font-bold text-orange-400 mb-4"),attr(o,"class","text-gray-300 mb-6"),attr(c,"class","px-6 py-2 bg-orange-400 text-black font-semibold uppercase tracking-wider hover:bg-orange-300 transition-colors"),attr(e,"class","start-overlay svelte-tbtmmx")},m(m,g){insert_hydration(m,e,g),append_hydration(e,r),append_hydration(e,a),append_hydration(e,o),append_hydration(e,l),append_hydration(e,c),f||(d=listen(c,"click",n[0]),f=!0)},p:noop,i:noop,o:noop,d(m){m&&detach(e),f=!1,d()}}}function instance$5(n){const e=createEventDispatcher();async function r(){try{console.log("Starting audio clock...");const s=new(window.AudioContext||window.webkitAudioContext);s.state==="suspended"&&await s.resume(),console.log("Audio context started"),await clock$1.init(),console.log("Clock initialized"),await clock$1.start(),console.log("Clock started, running:",clock$1.running()),await sequencer.initSynthPool(),sequencer.registerClockListener(),console.log("Sequencer initialized"),e("clockStarted"),console.log("Clock startup complete")}catch(s){console.error("Failed to start audio clock:",s)}}return[r]}class AudioClockStartup extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$5,safe_not_equal,{})}}function get_each_context$1(n,e,r){const s=n.slice();return s[2]=e[r],s}function create_if_block$3(n){let e,r,s="â–¶",a,o,u=ensure_array_like(n[0].split(" | ")),l=[];for(let c=0;c<u.length;c+=1)l[c]=create_each_block$1(get_each_context$1(n,u,c));return{c(){e=element("div"),r=element("div"),r.textContent=s,a=space$1(),o=element("div");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=claim_element(c,"DIV",{class:!0});var h=children(e);r=claim_element(h,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(r)!=="svelte-o740yr"&&(r.textContent=s),a=claim_space(h),o=claim_element(h,"DIV",{class:!0});var f=children(o);for(let d=0;d<l.length;d+=1)l[d].l(f);f.forEach(detach),h.forEach(detach),this.h()},h(){attr(r,"class","clock-icon svelte-lxo124"),attr(o,"class","clock-info svelte-lxo124"),attr(e,"class","clock-status svelte-lxo124")},m(c,h){insert_hydration(c,e,h),append_hydration(e,r),append_hydration(e,a),append_hydration(e,o);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null)},p(c,h){if(h&1){u=ensure_array_like(c[0].split(" | "));let f;for(f=0;f<u.length;f+=1){const d=get_each_context$1(c,u,f);l[f]?l[f].p(d,h):(l[f]=create_each_block$1(d),l[f].c(),l[f].m(o,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=u.length}},d(c){c&&detach(e),destroy_each(l,c)}}}function create_each_block$1(n){let e,r=n[2]+"",s;return{c(){e=element("div"),s=text(r),this.h()},l(a){e=claim_element(a,"DIV",{class:!0});var o=children(e);s=claim_text(o,r),o.forEach(detach),this.h()},h(){attr(e,"class","clock-line svelte-lxo124")},m(a,o){insert_hydration(a,e,o),append_hydration(e,s)},p(a,o){o&1&&r!==(r=a[2]+"")&&set_data(s,r)},d(a){a&&detach(e)}}}function create_fragment$4(n){let e,r=n[1]&&create_if_block$3(n);return{c(){r&&r.c(),e=empty$3()},l(s){r&&r.l(s),e=empty$3()},m(s,a){r&&r.m(s,a),insert_hydration(s,e,a)},p(s,[a]){s[1]?r?r.p(s,a):(r=create_if_block$3(s),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:noop,o:noop,d(s){s&&detach(e),r&&r.d(s)}}}function instance$4(n,e,r){let{clockStatus:s=""}=e,{show:a=!1}=e;return n.$$set=o=>{"clockStatus"in o&&r(0,s=o.clockStatus),"show"in o&&r(1,a=o.show)},[s,a]}class ClockStatus extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{clockStatus:0,show:1})}}function get_each_context(n,e,r){const s=n.slice();return s[2]=e[r],s}function create_if_block$2(n){let e,r,s="Console:",a,o,u,l=ensure_array_like(n[0]),c=[];for(let f=0;f<l.length;f+=1)c[f]=create_each_block(get_each_context(n,l,f));let h=n[1]&&create_if_block_1(n);return{c(){e=element("div"),r=element("div"),r.textContent=s,a=space$1(),o=element("div");for(let f=0;f<c.length;f+=1)c[f].c();u=space$1(),h&&h.c(),this.h()},l(f){e=claim_element(f,"DIV",{class:!0});var d=children(e);r=claim_element(d,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(r)!=="svelte-wq376k"&&(r.textContent=s),a=claim_space(d),o=claim_element(d,"DIV",{class:!0});var m=children(o);for(let g=0;g<c.length;g+=1)c[g].l(m);u=claim_space(m),h&&h.l(m),m.forEach(detach),d.forEach(detach),this.h()},h(){attr(r,"class","text-sm font-semibold text-gray-300 uppercase tracking-wider mb-1"),attr(o,"class","bg-neutral-800 p-2"),attr(e,"class","output-container")},m(f,d){insert_hydration(f,e,d),append_hydration(e,r),append_hydration(e,a),append_hydration(e,o);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(o,null);append_hydration(o,u),h&&h.m(o,null)},p(f,d){if(d&1){l=ensure_array_like(f[0]);let m;for(m=0;m<l.length;m+=1){const g=get_each_context(f,l,m);c[m]?c[m].p(g,d):(c[m]=create_each_block(g),c[m].c(),c[m].m(o,u))}for(;m<c.length;m+=1)c[m].d(1);c.length=l.length}f[1]?h?h.p(f,d):(h=create_if_block_1(f),h.c(),h.m(o,null)):h&&(h.d(1),h=null)},d(f){f&&detach(e),destroy_each(c,f),h&&h.d()}}}function create_if_block_7(n){let e,r,s,a=n[2].message+"",o;return{c(){e=element("pre"),r=element("code"),s=text("â† "),o=text(a),this.h()},l(u){e=claim_element(u,"PRE",{class:!0});var l=children(e);r=claim_element(l,"CODE",{class:!0});var c=children(r);s=claim_text(c,"â† "),o=claim_text(c,a),c.forEach(detach),l.forEach(detach),this.h()},h(){attr(r,"class","text-green-400"),attr(e,"class","text-sm overflow-x-auto no-scrollbar")},m(u,l){insert_hydration(u,e,l),append_hydration(e,r),append_hydration(r,s),append_hydration(r,o)},p(u,l){l&1&&a!==(a=u[2].message+"")&&set_data(o,a)},d(u){u&&detach(e)}}}function create_if_block_6(n){let e,r,s=n[2].message+"",a;return{c(){e=element("pre"),r=element("code"),a=text(s),this.h()},l(o){e=claim_element(o,"PRE",{class:!0});var u=children(e);r=claim_element(u,"CODE",{class:!0});var l=children(r);a=claim_text(l,s),l.forEach(detach),u.forEach(detach),this.h()},h(){attr(r,"class","text-gray-500"),attr(e,"class","text-sm overflow-x-auto no-scrollbar")},m(o,u){insert_hydration(o,e,u),append_hydration(e,r),append_hydration(r,a)},p(o,u){u&1&&s!==(s=o[2].message+"")&&set_data(a,s)},d(o){o&&detach(e)}}}function create_if_block_5(n){let e,r,s,a=n[2].message+"",o;return{c(){e=element("pre"),r=element("code"),s=text("â„¹ "),o=text(a),this.h()},l(u){e=claim_element(u,"PRE",{class:!0});var l=children(e);r=claim_element(l,"CODE",{class:!0});var c=children(r);s=claim_text(c,"â„¹ "),o=claim_text(c,a),c.forEach(detach),l.forEach(detach),this.h()},h(){attr(r,"class","text-blue-400"),attr(e,"class","text-sm overflow-x-auto no-scrollbar")},m(u,l){insert_hydration(u,e,l),append_hydration(e,r),append_hydration(r,s),append_hydration(r,o)},p(u,l){l&1&&a!==(a=u[2].message+"")&&set_data(o,a)},d(u){u&&detach(e)}}}function create_if_block_4(n){let e,r,s,a=n[2].message+"",o;return{c(){e=element("pre"),r=element("code"),s=text("âš  "),o=text(a),this.h()},l(u){e=claim_element(u,"PRE",{class:!0});var l=children(e);r=claim_element(l,"CODE",{class:!0});var c=children(r);s=claim_text(c,"âš  "),o=claim_text(c,a),c.forEach(detach),l.forEach(detach),this.h()},h(){attr(r,"class","text-yellow-400"),attr(e,"class","text-sm overflow-x-auto no-scrollbar")},m(u,l){insert_hydration(u,e,l),append_hydration(e,r),append_hydration(r,s),append_hydration(r,o)},p(u,l){l&1&&a!==(a=u[2].message+"")&&set_data(o,a)},d(u){u&&detach(e)}}}function create_if_block_3(n){let e,r,s,a=n[2].message+"",o;return{c(){e=element("pre"),r=element("code"),s=text("âœ– "),o=text(a),this.h()},l(u){e=claim_element(u,"PRE",{class:!0});var l=children(e);r=claim_element(l,"CODE",{class:!0});var c=children(r);s=claim_text(c,"âœ– "),o=claim_text(c,a),c.forEach(detach),l.forEach(detach),this.h()},h(){attr(r,"class","text-red-400"),attr(e,"class","text-sm overflow-x-auto no-scrollbar")},m(u,l){insert_hydration(u,e,l),append_hydration(e,r),append_hydration(r,s),append_hydration(r,o)},p(u,l){l&1&&a!==(a=u[2].message+"")&&set_data(o,a)},d(u){u&&detach(e)}}}function create_if_block_2(n){let e,r,s=n[2].message+"",a;return{c(){e=element("pre"),r=element("code"),a=text(s),this.h()},l(o){e=claim_element(o,"PRE",{class:!0});var u=children(e);r=claim_element(u,"CODE",{class:!0});var l=children(r);a=claim_text(l,s),l.forEach(detach),u.forEach(detach),this.h()},h(){attr(r,"class","text-gray-200"),attr(e,"class","text-sm overflow-x-auto no-scrollbar")},m(o,u){insert_hydration(o,e,u),append_hydration(e,r),append_hydration(r,a)},p(o,u){u&1&&s!==(s=o[2].message+"")&&set_data(a,s)},d(o){o&&detach(e)}}}function create_each_block(n){let e;function r(o,u){if(o[2].type==="log")return create_if_block_2;if(o[2].type==="error")return create_if_block_3;if(o[2].type==="warn")return create_if_block_4;if(o[2].type==="info")return create_if_block_5;if(o[2].type==="debug")return create_if_block_6;if(o[2].type==="return")return create_if_block_7}let s=r(n),a=s&&s(n);return{c(){e=element("div"),a&&a.c(),this.h()},l(o){e=claim_element(o,"DIV",{class:!0});var u=children(e);a&&a.l(u),u.forEach(detach),this.h()},h(){attr(e,"class","console-line mb-1")},m(o,u){insert_hydration(o,e,u),a&&a.m(e,null)},p(o,u){s===(s=r(o))&&a?a.p(o,u):(a&&a.d(1),a=s&&s(o),a&&(a.c(),a.m(e,null)))},d(o){o&&detach(e),a&&a.d()}}}function create_if_block_1(n){let e,r,s,a,o;return{c(){e=element("div"),r=element("pre"),s=element("code"),a=text("âœ– Uncaught "),o=text(n[1]),this.h()},l(u){e=claim_element(u,"DIV",{class:!0});var l=children(e);r=claim_element(l,"PRE",{class:!0});var c=children(r);s=claim_element(c,"CODE",{class:!0});var h=children(s);a=claim_text(h,"âœ– Uncaught "),o=claim_text(h,n[1]),h.forEach(detach),c.forEach(detach),l.forEach(detach),this.h()},h(){attr(s,"class","text-red-500"),attr(r,"class","text-sm overflow-x-auto no-scrollbar"),attr(e,"class","console-line")},m(u,l){insert_hydration(u,e,l),append_hydration(e,r),append_hydration(r,s),append_hydration(s,a),append_hydration(s,o)},p(u,l){l&2&&set_data(o,u[1])},d(u){u&&detach(e)}}}function create_fragment$3(n){let e,r=(n[0].length>0||n[1])&&create_if_block$2(n);return{c(){r&&r.c(),e=empty$3()},l(s){r&&r.l(s),e=empty$3()},m(s,a){r&&r.m(s,a),insert_hydration(s,e,a)},p(s,[a]){s[0].length>0||s[1]?r?r.p(s,a):(r=create_if_block$2(s),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:noop,o:noop,d(s){s&&detach(e),r&&r.d(s)}}}function instance$3(n,e,r){let{outputs:s=[]}=e,{errorMessage:a=""}=e;return n.$$set=o=>{"outputs"in o&&r(0,s=o.outputs),"errorMessage"in o&&r(1,a=o.errorMessage)},[s,a]}class ConsoleOutput extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{outputs:0,errorMessage:1})}}class WaveformAnalyzer{constructor(){z(this,"analyser",null);z(this,"dataArray",null);z(this,"isAnalyzing",!1);z(this,"animationId",null);z(this,"canvas",null);z(this,"canvasContext",null);z(this,"bufferLength",2048);z(this,"audioContext",null)}async init(e,r){this.canvas=e,this.canvasContext=e.getContext("2d"),this.audioContext=r||new(window.AudioContext||window.webkitAudioContext),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=this.bufferLength,this.analyser.smoothingTimeConstant=.8,this.dataArray=new Float32Array(this.analyser.frequencyBinCount),this.analyser.connect(this.audioContext.destination),this.setupCanvas(),this.startAnalysis()}connectSource(e){this.analyser&&e.connect(this.analyser)}setupCanvas(){if(!this.canvas||!this.canvasContext)return;const e=this.canvas.getBoundingClientRect(),r=window.devicePixelRatio||1;this.canvas.width=e.width*r,this.canvas.height=e.height*r,this.canvasContext.scale(r,r),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px"}startAnalysis(){this.isAnalyzing||(this.isAnalyzing=!0,this.draw())}stopAnalysis(){this.isAnalyzing=!1,this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}draw(){if(!this.isAnalyzing||!this.analyser||!this.canvasContext||!this.canvas||!this.dataArray)return;this.animationId=requestAnimationFrame(()=>this.draw()),this.analyser.getFloatTimeDomainData(this.dataArray);const e=this.canvas.clientWidth,r=this.canvas.clientHeight;this.canvasContext.fillStyle="#171717",this.canvasContext.fillRect(0,0,e,r),this.canvasContext.lineWidth=1.5,this.canvasContext.strokeStyle="#fb923c",this.canvasContext.beginPath();const s=e/this.dataArray.length;let a=0;for(let o=0;o<this.dataArray.length;o++){const l=(this.dataArray[o]+1)/2*r;o===0?this.canvasContext.moveTo(a,l):this.canvasContext.lineTo(a,l),a+=s}this.canvasContext.stroke(),this.drawGrid()}drawGrid(){if(!this.canvasContext||!this.canvas)return;const e=this.canvas.clientWidth,r=this.canvas.clientHeight;this.canvasContext.strokeStyle="#262626",this.canvasContext.lineWidth=.5,this.canvasContext.setLineDash([2,2]),this.canvasContext.beginPath(),this.canvasContext.moveTo(0,r/2),this.canvasContext.lineTo(e,r/2),this.canvasContext.stroke();for(let s=1;s<4;s++){const a=r/4*s;this.canvasContext.beginPath(),this.canvasContext.moveTo(0,a),this.canvasContext.lineTo(e,a),this.canvasContext.stroke()}this.canvasContext.setLineDash([])}resize(){this.setupCanvas()}destroy(){this.stopAnalysis(),this.analyser&&this.analyser.disconnect()}}function create_if_block$1(n){let e,r='<span class="text-gray-500 text-sm">Start audio clock to see waveform</span>';return{c(){e=element("div"),e.innerHTML=r,this.h()},l(s){e=claim_element(s,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(e)!=="svelte-198sb"&&(e.innerHTML=r),this.h()},h(){attr(e,"class","overlay svelte-5p95fb")},m(s,a){insert_hydration(s,e,a)},d(s){s&&detach(e)}}}function create_fragment$2(n){let e,r,s,a=!n[0]&&create_if_block$1();return{c(){e=element("div"),r=element("canvas"),s=space$1(),a&&a.c(),this.h()},l(o){e=claim_element(o,"DIV",{class:!0});var u=children(e);r=claim_element(u,"CANVAS",{class:!0}),children(r).forEach(detach),s=claim_space(u),a&&a.l(u),u.forEach(detach),this.h()},h(){attr(r,"class","waveform-canvas svelte-5p95fb"),attr(e,"class","waveform-container svelte-5p95fb")},m(o,u){insert_hydration(o,e,u),append_hydration(e,r),n[3](r),append_hydration(e,s),a&&a.m(e,null)},p(o,[u]){o[0]?a&&(a.d(1),a=null):a||(a=create_if_block$1(),a.c(),a.m(e,null))},i:noop,o:noop,d(o){o&&detach(e),n[3](null),a&&a.d()}}}function instance$2(n,e,r){let{isActive:s=!1}=e,a,o,u;onMount(()=>{r(2,o=new WaveformAnalyzer),s&&l(),u=new ResizeObserver(()=>{o&&a&&o.resize()}),a&&u.observe(a)}),onDestroy(()=>{o&&o.destroy(),u&&u.disconnect()});async function l(){o&&a&&await o.init(a)}function c(h){binding_callbacks[h?"unshift":"push"](()=>{a=h,r(1,a)})}return n.$$set=h=>{"isActive"in h&&r(0,s=h.isActive)},n.$$.update=()=>{n.$$.dirty&7&&(s&&o&&a?l():!s&&o&&o.stopAnalysis())},[s,a,o,c]}class WaveformDisplay extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{isActive:0})}}function create_else_block(n){let e,r,s,a,o,u,l,c,h,f,d,m="Run<br/>(Ctrl/Cmd+Enter)",g,O,E,D,A;return r=new ClockStatus({props:{clockStatus:n[2],show:n[1]}}),o=new WaveformDisplay({props:{isActive:n[1]}}),O=new ConsoleOutput({props:{outputs:n[4].getOutputs(),errorMessage:n[4].getError()}}),{c(){e=element("div"),create_component(r.$$.fragment),s=space$1(),a=element("div"),create_component(o.$$.fragment),u=space$1(),l=element("div"),c=element("div"),h=element("div"),f=space$1(),d=element("button"),d.innerHTML=m,g=space$1(),create_component(O.$$.fragment),this.h()},l(S){e=claim_element(S,"DIV",{class:!0});var B=children(e);claim_component(r.$$.fragment,B),s=claim_space(B),a=claim_element(B,"DIV",{class:!0});var $=children(a);claim_component(o.$$.fragment,$),$.forEach(detach),B.forEach(detach),u=claim_space(S),l=claim_element(S,"DIV",{class:!0});var x=children(l);c=claim_element(x,"DIV",{class:!0});var w=children(c);h=claim_element(w,"DIV",{class:!0}),children(h).forEach(detach),f=claim_space(w),d=claim_element(w,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(d)!=="svelte-1wqqq4h"&&(d.innerHTML=m),w.forEach(detach),x.forEach(detach),g=claim_space(S),claim_component(O.$$.fragment,S),this.h()},h(){attr(a,"class","flex-1"),attr(e,"class","flex gap-2 mb-2"),attr(h,"class","flex-1"),attr(d,"class","px-4 bg-neutral-800 text-orange-400 border border-gray-800 hover:border-orange-400 hover:bg-neutral-800 transition-all duration-200 text-sm font-semibold uppercase tracking-wider h-[200px]"),attr(c,"class","flex gap-2"),attr(l,"class","mb-2")},m(S,B){insert_hydration(S,e,B),mount_component(r,e,null),append_hydration(e,s),append_hydration(e,a),mount_component(o,a,null),insert_hydration(S,u,B),insert_hydration(S,l,B),append_hydration(l,c),append_hydration(c,h),n[8](h),append_hydration(c,f),append_hydration(c,d),insert_hydration(S,g,B),mount_component(O,S,B),E=!0,D||(A=listen(d,"click",n[5]),D=!0)},p(S,B){const $={};B&4&&($.clockStatus=S[2]),B&2&&($.show=S[1]),r.$set($);const x={};B&2&&(x.isActive=S[1]),o.$set(x)},i(S){E||(transition_in(r.$$.fragment,S),transition_in(o.$$.fragment,S),transition_in(O.$$.fragment,S),E=!0)},o(S){transition_out(r.$$.fragment,S),transition_out(o.$$.fragment,S),transition_out(O.$$.fragment,S),E=!1},d(S){S&&(detach(e),detach(u),detach(l),detach(g)),destroy_component(r),destroy_component(o),n[8](null),destroy_component(O,S),D=!1,A()}}}function create_if_block(n){let e,r;return e=new AudioClockStartup({}),e.$on("clockStarted",n[6]),e.$on("statusUpdate",n[7]),{c(){create_component(e.$$.fragment)},l(s){claim_component(e.$$.fragment,s)},m(s,a){mount_component(e,s,a),r=!0},p:noop,i(s){r||(transition_in(e.$$.fragment,s),r=!0)},o(s){transition_out(e.$$.fragment,s),r=!1},d(s){destroy_component(e,s)}}}function create_fragment$1(n){let e,r,s,a;const o=[create_if_block,create_else_block],u=[];function l(c,h){return c[3]?1:0}return r=l(n),s=u[r]=o[r](n),{c(){e=element("div"),s.c(),this.h()},l(c){e=claim_element(c,"DIV",{class:!0});var h=children(e);s.l(h),h.forEach(detach),this.h()},h(){attr(e,"class","repl-container bg-neutral-900 border border-gray-800 p-4 my-4 relative")},m(c,h){insert_hydration(c,e,h),u[r].m(e,null),a=!0},p(c,[h]){let f=r;r=l(c),r===f?u[r].p(c,h):(group_outros(),transition_out(u[f],1,1,()=>{u[f]=null}),check_outros(),s=u[r],s?s.p(c,h):(s=u[r]=o[r](c),s.c()),transition_in(s,1),s.m(e,null))},i(c){a||(transition_in(s),a=!0)},o(c){transition_out(s),a=!1},d(c){c&&detach(e),u[r].d()}}}function instance$1(n,e,r){let s,a,o=!1,u="â¸ Clock not started",l=!1;const c=new CodeExecutor;function h(){const O=a.state.doc.toString();c.execute(O,clock$1,sequencer)}async function f(){await new Promise(O=>setTimeout(O,100)),s&&(a=createEditor(s,h))}function d(){console.log("Clock started event received in REPL"),r(1,o=!0),r(3,l=!0),r(2,u=`â–¶ Time: 0.00s | Ticks: 0 | BPM: ${clock$1.bpm()}`),clock$1.on("timeUpdate",O=>{if(O&&typeof O.time=="number"){const E=O.time.toFixed(2),D=clock$1.ticks();r(2,u=`â–¶ Time: ${E}s | Ticks: ${D} | BPM: ${clock$1.bpm()}`)}}),f()}function m(O){r(2,u=O.detail)}onMount(()=>()=>{a&&a.destroy()});function g(O){binding_callbacks[O?"unshift":"push"](()=>{s=O,r(0,s)})}return[s,o,u,l,c,h,d,m,g]}class REPL extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{})}}function create_fragment(n){let e,r,s="Bienvenue",a,o,u='<a href="https://livecoding.fr" rel="nofollow">Livecoding.fr</a> est un site dÃ©diÃ© Ã  la mise en valeur de la pratique du <em>live coding</em> en France. Il est pÃ©riodiquement maintenu par un <a href="https://livecoding.fr/membres" rel="nofollow">groupe dâ€™artistes</a> et de musiciens francophones. Il se destine Ã  servir de portail pour dÃ©couvrir diffÃ©rents aspects de cette pratique : <a href="https://livecoding.fr/evenements" rel="nofollow">Ã©vÃ¨nements</a>, <a href="https://livecoding.fr/outils" rel="nofollow">outils</a>, <a href="https://livecoding.fr/reseaux" rel="nofollow">rÃ©seaux</a>, liens vers le travail des artistes rÃ©pertoriÃ©s, etc. Toute modification est la bienvenue. Le site est conÃ§u pour Ãªtre maintenu et actualisÃ© facilement, de maniÃ¨re collaborative. Consultez <a href="https://github.com/Bubobubobubobubo/livecodingfr" rel="nofollow">le dÃ©pÃ´t</a> du site pour en apprendre plus.',l,c,h,f,d="Essayez le live coding !",m,g,O,E,D="Quâ€™est-ce que le live-coding ?",A,S,B="<div>Le <i>live coding</i> est une pratique d&#39;improvisation oÃ¹ les langages de programmation deviennent des instruments de crÃ©ation temps rÃ©el. Durant leur performance, les <i>live coders</i> Ã©crivent et modifient du code, le projettent afin que le public puisse suivre leur processus crÃ©atif. Cette transparence transforme la programmation en un moment d&#39;expression artistique ouvert, partagÃ©, visible de tous. Cette pratique se situe au croisement de l&#39;informatique musicale, de l&#39;ingÃ©niÃ©rie logicielle, de l&#39;improvisation et de la musique algorithmique ou gÃ©nÃ©rative. Le <i>live coding</i> est une pratique intrinsÃ¨quement pluridisciplinaire. Les artistes entrelacent librement crÃ©ation sonore et visuelle, pensÃ©e algorithmique et geste crÃ©atif. En transformant l&#39;ordinateur en instrument, le <i>live coding</i> offre un contrepoint intÃ©ressant au paysage habituel -- et dÃ©jÃ  figÃ© -- des lutheries contemporaines.</div> <div>Au-delÃ  de la performance, le <i>live coding</i> est une pratique qui mÃ¨ne Ã  dÃ©velopper un regard critique sur notre rapport Ã  l&#39;informatique, Ã  la numÃ©risation des pratiques de crÃ©ation, aux industries culturelles. Le <i>live coding</i> est aussi un espace de militantisme, prÃ´nant un Ã©change libre des idÃ©es et des savoirs. HÃ©ritiers de la culture <i>hacker</i> et des philosophies du logiciel libre et <i>open source</i>, les <i>live coders</i> sont attachÃ©s Ã  une certaine Ã©thique, Ã  une maniÃ¨re de faire et de travailler. Leur pratique rÃ©vÃ¨le que les logiciels ne sont pas seulement de simples instruments mais des espaces d&#39;exploration et de conversation avec la machine, avec le public, avec eux-mÃªmes, etc. Ils invitent par leurs performances Ã  nouer un dialogue crÃ©atif direct avec l&#39;ordinateur, au contraire de la tendance gÃ©nÃ©rale Ã  considÃ©rer cet objet comme un simple outil passif pour la crÃ©ation.</div>",$,x,w='<div>Le <i>live coding</i> a Ã©tÃ© historiquement promu et popularisÃ© par le collectif international <a href="https://toplap.org">TOPLAP</a>. La scÃ¨ne du <i>live coding</i> rÃ©unit aujourd&#39;hui de nombreux <a href="https://livecodingbook.toplap.org/">chercheurs</a>, musiciens et dÃ©veloppeurs de tous horizons. De nombreux groupes en Europe et dans le monde sont issus de la sphÃ¨re d&#39;influence de ce collectif et ont depuis trouvÃ© leur voix propre : <a href="https://toplap.cat/en/home">TOPLAP Barcelona</a>, <a href="https://livecode.nyc/">Livecode NYC</a>, parmi d&#39;autres. La pratique du <i>live coding</i> s&#39;est popularisÃ©e au travers d&#39;un <a href="https://toplap.org/wiki/ManifestoDraft">manifeste</a> et de nombreuses <a href="https://algorave.com">Algoraves</a> (<i>algorithmic rave parties</i>, Ã  partir de 2012). Toutefois, limiter le <i>live coding</i> Ã  ce seul phÃ©nomÃ¨ne culturel revient Ã  ne prÃªter Ã  attention qu&#39;Ã  l&#39;arbre qui cache la forÃªt. Le <i>live coding</i> est une pratique ancienne, qui existe <i>a minima</i> depuis la fin des annÃ©es 1980. Cette derniÃ¨re s&#39;est dissÃ©minÃ©e dans l&#39;ensemble des arts numÃ©riques, aussi bien en <a href="https://supercollider.github.io/">musique</a> que dans les <a href="https://teddavis.org/p5live/">arts visuels</a>, le <a href="https://chuck.cs.princeton.edu/chunity/">jeu vidÃ©o</a>, etc. Le <i>live coding</i> est une pratique courante en informatique, bien que sa mise en valeur par la performance soit un phÃ©nomÃ¨ne plus rare.</div> <div class="bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center min-h-[200px]"><span class="text-gray-500 dark:text-gray-400"><img src="https://raphaelforment.fr/images/software_picture/buboquark_algorave_grrrnd.png"/></span></div>',R,k,y,P,b,_,N,Q,v,M,W,G,Z,V,Y,j,H,K,J;return c=new Gallery({props:{pictures:n[0]}}),g=new REPL({}),_=new YouTubeLazyLoad({props:{className:"w-full h-full",src:"https://www.youtube.com/embed/2GSNAGLkvGw",title:"Algorave Lyon 2025 - 18h - 6h @GrrrndZero"}}),v=new YouTubeLazyLoad({props:{className:"w-full h-full",src:"https://www.youtube.com/embed/Crz6R4p_owI",title:"Algorave : la teuf en open source | Tracks | ARTE"}}),Y=new YouTubeLazyLoad({props:{className:"w-full h-full",src:"https://www.youtube.com/embed/PsfTdFUQUVA",title:"Algorave Lyon 2025 - 18h - 6h @GrrrndZero"}}),K=new YouTubeLazyLoad({props:{className:"w-full h-full",src:"https://youtube.com/embed/vG8UA8uYAM0",title:"Algorave : la teuf en open source | Tracks | ARTE"}}),{c(){e=space$1(),r=element("h1"),r.textContent=s,a=space$1(),o=element("p"),o.innerHTML=u,l=space$1(),create_component(c.$$.fragment),h=space$1(),f=element("h1"),f.textContent=d,m=space$1(),create_component(g.$$.fragment),O=space$1(),E=element("h1"),E.textContent=D,A=space$1(),S=element("div"),S.innerHTML=B,$=space$1(),x=element("div"),x.innerHTML=w,R=space$1(),k=element("div"),y=space$1(),P=element("div"),b=element("div"),create_component(_.$$.fragment),N=space$1(),Q=element("div"),create_component(v.$$.fragment),M=space$1(),W=element("div"),G=space$1(),Z=element("div"),V=element("div"),create_component(Y.$$.fragment),j=space$1(),H=element("div"),create_component(K.$$.fragment),this.h()},l(L){head_selector("svelte-gwlloz",document.head).forEach(detach),e=claim_space(L),r=claim_element(L,"H1",{"data-svelte-h":!0}),get_svelte_dataset(r)!=="svelte-1bwy2rx"&&(r.textContent=s),a=claim_space(L),o=claim_element(L,"P",{"data-svelte-h":!0}),get_svelte_dataset(o)!=="svelte-18i0hf1"&&(o.innerHTML=u),l=claim_space(L),claim_component(c.$$.fragment,L),h=claim_space(L),f=claim_element(L,"H1",{"data-svelte-h":!0}),get_svelte_dataset(f)!=="svelte-1aajtso"&&(f.textContent=d),m=claim_space(L),claim_component(g.$$.fragment,L),O=claim_space(L),E=claim_element(L,"H1",{"data-svelte-h":!0}),get_svelte_dataset(E)!=="svelte-z12tl4"&&(E.textContent=D),A=claim_space(L),S=claim_element(L,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(S)!=="svelte-kddcrv"&&(S.innerHTML=B),$=claim_space(L),x=claim_element(L,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(x)!=="svelte-aycprh"&&(x.innerHTML=w),R=claim_space(L),k=claim_element(L,"DIV",{style:!0}),children(k).forEach(detach),y=claim_space(L),P=claim_element(L,"DIV",{class:!0});var te=children(P);b=claim_element(te,"DIV",{class:!0});var se=children(b);claim_component(_.$$.fragment,se),se.forEach(detach),N=claim_space(te),Q=claim_element(te,"DIV",{class:!0});var fe=children(Q);claim_component(v.$$.fragment,fe),fe.forEach(detach),te.forEach(detach),M=claim_space(L),W=claim_element(L,"DIV",{style:!0}),children(W).forEach(detach),G=claim_space(L),Z=claim_element(L,"DIV",{class:!0});var le=children(Z);V=claim_element(le,"DIV",{class:!0});var de=children(V);claim_component(Y.$$.fragment,de),de.forEach(detach),j=claim_space(le),H=claim_element(le,"DIV",{class:!0});var me=children(H);claim_component(K.$$.fragment,me),me.forEach(detach),le.forEach(detach),this.h()},h(){document.title="Live Coding FR",attr(S,"class","grid grid-cols-1 lg:grid-cols-2 gap-6 text-black dark:text-white"),attr(x,"class","grid grid-cols-1 lg:grid-cols-2 gap-6 text-black dark:text-white mt-6"),set_style(k,"margin-top","30px"),set_style(k,"margin-bottom","30px"),attr(b,"class","aspect-video"),attr(Q,"class","aspect-video"),attr(P,"class","grid grid-cols-1 lg:grid-cols-2 gap-4"),set_style(W,"margin-top","10px"),set_style(W,"margin-bottom","10px"),attr(V,"class","aspect-video"),attr(H,"class","aspect-video"),attr(Z,"class","grid grid-cols-1 lg:grid-cols-2 gap-4")},m(L,U){insert_hydration(L,e,U),insert_hydration(L,r,U),insert_hydration(L,a,U),insert_hydration(L,o,U),insert_hydration(L,l,U),mount_component(c,L,U),insert_hydration(L,h,U),insert_hydration(L,f,U),insert_hydration(L,m,U),mount_component(g,L,U),insert_hydration(L,O,U),insert_hydration(L,E,U),insert_hydration(L,A,U),insert_hydration(L,S,U),insert_hydration(L,$,U),insert_hydration(L,x,U),insert_hydration(L,R,U),insert_hydration(L,k,U),insert_hydration(L,y,U),insert_hydration(L,P,U),append_hydration(P,b),mount_component(_,b,null),append_hydration(P,N),append_hydration(P,Q),mount_component(v,Q,null),insert_hydration(L,M,U),insert_hydration(L,W,U),insert_hydration(L,G,U),insert_hydration(L,Z,U),append_hydration(Z,V),mount_component(Y,V,null),append_hydration(Z,j),append_hydration(Z,H),mount_component(K,H,null),J=!0},p:noop,i(L){J||(transition_in(c.$$.fragment,L),transition_in(g.$$.fragment,L),transition_in(_.$$.fragment,L),transition_in(v.$$.fragment,L),transition_in(Y.$$.fragment,L),transition_in(K.$$.fragment,L),J=!0)},o(L){transition_out(c.$$.fragment,L),transition_out(g.$$.fragment,L),transition_out(_.$$.fragment,L),transition_out(v.$$.fragment,L),transition_out(Y.$$.fragment,L),transition_out(K.$$.fragment,L),J=!1},d(L){L&&(detach(e),detach(r),detach(a),detach(o),detach(l),detach(h),detach(f),detach(m),detach(O),detach(E),detach(A),detach(S),detach($),detach(x),detach(R),detach(k),detach(y),detach(P),detach(M),detach(W),detach(G),detach(Z)),destroy_component(c,L),destroy_component(g,L),destroy_component(_),destroy_component(v),destroy_component(Y),destroy_component(K)}}}function instance(n){return[[{link:"https://ralt144mi.remigeorges.fr/Ralt144MI3.png",description:"RÃ©mi Georges"},{link:"https://www.cookie.paris/static/bc65c5fd7f7c76dc70bcd9892dc17a4d/7c735/16.webp",description:"Azertype"},{link:"https://www.cookie.paris/static/9dbc442f1f54a41b9210b3ba1b835226/7c735/13.webp",description:"Jules Cipher"},{link:"../images/leondenise.jpeg",description:"LÃ©on Denise"},{link:"../images/algorave_2025.jpg",description:"Algorave au Grrrnd Zero"},{link:"https://sardine.raphaelforment.fr/presentation/what_is_live_coding.jpeg#center",description:"RaphaÃ«l Forment"}]]}class Page_svelte extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{})}}export{Page_svelte as component};
